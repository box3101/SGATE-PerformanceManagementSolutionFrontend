import W from"./CLd88Wmj.js";import{_ as Y,r as h,s as L,E as U,f as D,J as _,c as u,k as s,o as a,a as i,x as f,z as d,b as y,n as E,d as A,t as F}from"./6U0vMNFn.js";const I={key:0,class:"ui-popup"},N={class:"ui-popup__header"},R={class:"flex items-center gap-5"},X={class:"ui-popup__title"},O={class:"ui-popup__header-actions"},J={class:"ui-popup__actions flex gap-5"},P={key:1,class:"ui-popup__footer"},T={__name:"UiModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"medium",validator:e=>["small","xmedium","medium","large","mlarge","xlarge","full"].includes(e)},centered:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!0},closeOnBackdropClick:{type:Boolean,default:!0},position:{type:String,default:"center",validator:e=>["center","right"].includes(e)},noDim:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!1},isScroll:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const r=e,o=h(!1),c=h(null),n=h("default"),g=h(window.innerWidth),z=()=>{g.value=window.innerWidth},C=L(()=>{if(o.value)return{};if(c.value&&r.position==="right")return{width:`${c.value}px`};if(r.position==="right"){if(n.value==="half")return{width:`${g.value/2}px`};if(n.value==="default")return{width:`${g.value/3}px`}}return{}});let w=!1,k=0,$=0,x=null;U(()=>r.modelValue,t=>{t?(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden"):(document.documentElement.style.overflowY="",document.body.style.overflowY="")},{immediate:!0}),D(()=>{document.addEventListener("mousemove",b),document.addEventListener("mouseup",B),window.addEventListener("resize",z),r.modelValue&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden");const t=localStorage.getItem("modalSizeMode");t&&(n.value=t)}),_(()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",B),window.removeEventListener("resize",z),document.documentElement.style.overflowY="",document.body.style.overflowY=""});function M(){o.value=!o.value,o.value?(c.value=null,n.value="full",p()):(n.value="default",p())}function S(t){o.value&&t!=="full"&&(o.value=!1),n.value=t,c.value=null,p()}function p(){localStorage.setItem("modalSizeMode",n.value)}function V(t){r.position!=="right"||o.value||(w=!0,k=t.clientX,x=t.target.closest(".ui-popup__content"),$=x.offsetWidth,document.body.style.cursor="ew-resize",t.preventDefault())}function b(t){if(!w)return;const l=$-(t.clientX-k);l>=300&&l<=1e3&&(c.value=l,n.value="custom")}function B(){w=!1,document.body.style.cursor="",n.value==="custom"&&p()}return(t,l)=>{const m=W;return e.modelValue?(a(),u("div",I,[e.noDim?s("",!0):(a(),u("div",{key:0,class:"ui-popup__backdrop",onClick:l[0]||(l[0]=v=>e.closeOnBackdropClick&&t.$emit("update:modelValue",!1))})),i("div",{class:f(["ui-popup__content",[`ui-popup--${e.size}`,{"ui-popup--centered":e.centered&&!o.value},{"ui-popup--right":e.position==="right"&&!o.value},{"ui-popup--no-dim":e.noDim},{"ui-popup--fullscreen":o.value},{"ui-popup--no-scroll":e.isScroll}]]),style:E(C.value)},[e.position==="right"&&!o.value?(a(),u("div",{key:0,class:f("ui-popup__resize-handle"),onMousedown:V},null,32)):s("",!0),i("div",N,[i("div",R,[d(t.$slots,"headerActions-left",{},void 0,!0),i("h3",X,[d(t.$slots,"title",{},()=>[A(F(e.title),1)],!0)]),d(t.$slots,"headerActions",{},void 0,!0)]),i("div",O,[d(t.$slots,"headerActions-right",{},void 0,!0),i("div",J,[e.position==="right"?(a(),u("button",{key:0,class:f(["ui-popup__size-btn",{active:n.value==="default"&&!o.value}]),onClick:l[1]||(l[1]=v=>S("default")),title:"기본 크기 (1/3)"},[y(m,{name:"heroicons:rectangle-stack",size:"18"})],2)):s("",!0),e.position==="right"?(a(),u("button",{key:1,class:f(["ui-popup__size-btn",{active:n.value==="half"&&!o.value}]),onClick:l[2]||(l[2]=v=>S("half")),title:"절반 크기 (1/2)"},[y(m,{name:"heroicons:rectangle-group",size:"18"})],2)):s("",!0),i("button",{class:f(["ui-popup__fullscreen",{active:o.value}]),onClick:M,title:"전체화면"},[y(m,{name:o.value?"heroicons:arrows-pointing-in":"heroicons:arrows-pointing-out",size:"18"},null,8,["name"])],2),e.showCloseButton?(a(),u("button",{key:2,class:"ui-popup__close",onClick:l[3]||(l[3]=v=>t.$emit("update:modelValue",!1))},[y(m,{name:"heroicons:x-mark",size:"20"})])):s("",!0)])])]),i("div",{class:"ui-popup__body",style:E({padding:`${e.size==="small"?"0px":e.size==="xmedium"?"12px":e.size==="medium"?"16px":e.size==="large"?"20px":(e.size==="xlarge","24px")}`})},[d(t.$slots,"default",{},void 0,!0)],4),e.showFooter?(a(),u("div",P,[d(t.$slots,"footerActions",{},void 0,!0)])):s("",!0)],6)])):s("",!0)}}},G=Y(T,[["__scopeId","data-v-9d5f4431"]]);export{G as U};
