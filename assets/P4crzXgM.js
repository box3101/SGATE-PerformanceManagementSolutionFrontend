import{_ as V,r,s as g,E as x,f as E,J as L,c,o as d,a as u,h as k,t as v,x as p,H as B,m as U,v as z,k as I,F as M,g as N,n as D}from"./BkSz_jrO.js";const $=["tabindex","aria-expanded"],F={class:"ui-select__value"},T={key:0,class:"ui-select__selected-text"},q={key:1,class:"ui-select__placeholder"},A={class:"ui-select__dropdown"},H={class:"ui-select__search-container"},J={class:"ui-select__options",role:"listbox"},Q=["aria-selected","onClick"],j={key:0,class:"ui-select__no-results"},G={__name:"UiSearchableSelect",props:{placeholder:{type:String,default:"선택하세요"},options:{type:Array,default:()=>[{value:"1",label:"옵션 1"},{value:"2",label:"옵션 2"},{value:"3",label:"옵션 3"},{value:"4",label:"옵션 4"},{value:"5",label:"옵션 5"},{value:"6",label:"옵션 6"},{value:"7",label:"옵션 7"},{value:"8",label:"옵션 8"},{value:"9",label:"옵션 9"},{value:"10",label:"옵션 10"}]},modelValue:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},viewOnly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:a=>["small","medium","large","xlarge"].includes(a)},width:{type:[String,Number],default:"150px"}},emits:["update:modelValue","change"],setup(a,{emit:S}){const t=a,h=S,l=r(!1),i=r(""),n=r(t.modelValue),m=r(null),f=r(`select-${Math.random().toString(36).substr(2,9)}`),_=g(()=>t.options.find(e=>e.value===n.value)),b=g(()=>i.value?t.options.filter(e=>e.label.toLowerCase().includes(i.value.toLowerCase())):t.options),O=()=>{t.disabled||t.viewOnly||(l.value||window.dispatchEvent(new CustomEvent("select-dropdown-toggle",{detail:{id:f.value}})),l.value=!l.value)},C=e=>{t.disabled||t.viewOnly||(n.value=e.value,h("update:modelValue",e.value),h("change",e),l.value=!1,i.value="")},w=e=>{e.detail.id!==f.value&&l.value&&(l.value=!1,i.value="")},y=e=>{!e.target.closest(".ui-searchable-select")&&l.value&&(l.value=!1,i.value="")};return x(l,e=>{e&&setTimeout(()=>{var s;(s=m.value)==null||s.focus()},50)}),E(()=>{document.addEventListener("click",y),window.addEventListener("select-dropdown-toggle",w)}),L(()=>{document.removeEventListener("click",y),window.removeEventListener("select-dropdown-toggle",w)}),x(()=>t.modelValue,e=>{n.value=e}),(e,s)=>(d(),c("div",{class:p(["ui-select ui-searchable-select",[`ui-select--${a.size}`,{"ui-select--open":l.value,"ui-select--selected":n.value,"ui-select--error":a.error,"ui-select--disabled":a.disabled,"ui-select--view":a.viewOnly}]]),style:D({width:a.width})},[u("div",{class:"ui-select__header",onClick:O,tabindex:a.disabled||a.viewOnly?-1:0,role:"combobox","aria-haspopup":"listbox","aria-expanded":l.value},[u("div",F,[_.value?(d(),c("span",T,v(_.value.label),1)):(d(),c("span",q,v(a.placeholder),1))]),u("i",{class:p(["ui-select__icon",{"ui-select__icon--up":l.value}])},null,2)],8,$),k(u("div",A,[u("div",H,[k(u("input",{ref_key:"searchInput",ref:m,"onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),type:"text",class:"ui-select__search-input",placeholder:"검색어를 입력하세요",onClick:s[1]||(s[1]=U(()=>{},["stop"]))},null,512),[[z,i.value]])]),u("div",J,[(d(!0),c(M,null,N(b.value,o=>(d(),c("div",{key:o.value,class:p(["ui-select__option",{"ui-select__option--selected":n.value===o.value}]),role:"option","aria-selected":n.value===o.value,onClick:K=>C(o)},v(o.label),11,Q))),128)),b.value.length===0?(d(),c("div",j," 검색 결과가 없습니다 ")):I("",!0)])],512),[[B,l.value]])],6))}},R=V(G,[["__scopeId","data-v-9faab70f"]]);export{R as U};
