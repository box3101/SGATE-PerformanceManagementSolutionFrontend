import{_ as re,r as w,y as T,f as oe,B as se,C as U,c as i,o as r,k as f,a,d as O,t as p,q as $,m as b,F as S,g as L,s as Y}from"./F-wqJe58.js";const ue={key:0,class:"ui-datepicker__label"},de={key:0,class:"ui-datepicker__required"},ce={class:"ui-datepicker__input-wrapper"},ve={class:"ui-datepicker__text"},ke={key:0,class:"ui-datepicker__selected-text"},pe={key:1,class:"ui-datepicker__placeholder"},he={class:"ui-datepicker__range-text"},ge={key:0,class:"ui-datepicker__selected-text"},fe={key:1,class:"ui-datepicker__placeholder"},_e={class:"ui-datepicker__range-text"},we={key:0,class:"ui-datepicker__selected-text"},me={key:1,class:"ui-datepicker__placeholder"},ye={key:1,class:"ui-datepicker__calendar"},De={key:0},Me={class:"ui-datepicker__header"},xe={class:"ui-datepicker__selectors"},Ce={class:"ui-datepicker__dropdown"},be=["onClick"],Se={class:"ui-datepicker__dropdown"},Le={class:"ui-datepicker__year-scroll"},Ye=["onClick"],Re={class:"ui-datepicker__weekdays"},Be={class:"ui-datepicker__days"},Ve=["onClick"],Fe={key:1,class:"ui-datepicker__actions"},Ne=["disabled"],je={key:2,class:"ui-datepicker__error"},Ee={key:3,class:"ui-datepicker__helper"},Te={__name:"UiDatePicker",props:{modelValue:{type:[Date,String,Array,null],default:null},isRange:{type:Boolean,default:!1},label:{type:String,default:""},placeholder:{type:String,default:"날짜 선택"},startPlaceholder:{type:String,default:"시작일"},endPlaceholder:{type:String,default:"종료일"},format:{type:String,default:"YYYY.MM.DD"},clearable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},helperText:{type:String,default:""},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},size:{type:String,default:"medium",validator:o=>["small","medium","large"].includes(o)}},emits:["update:modelValue","change"],setup(o,{emit:H}){const u=o,y=H,D=w(!1),v=w(new Date().getMonth()),k=w(new Date().getFullYear()),d=w(null),l=w(null),n=w(null),R=w(null),B=w(null),V=w("days"),M=w(!1),x=w(!1),I=["일","월","화","수","목","금","토"],P=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],W=T(()=>{const e=[],t=k.value-50,s=k.value+50;for(let h=t;h<=s;h++)e.push(h);return e}),G=T(()=>P[v.value]),J=T(()=>{const e=[],t=new Date(k.value,v.value,1),s=new Date(k.value,v.value+1,0),h=t.getDay(),_=new Date(k.value,v.value,0).getDate();for(let g=0;g<h;g++){const c=new Date(k.value,v.value-1,_-h+g+1);e.push({day:c.getDate(),date:c,currentMonth:!1,disabled:F(c),selected:m(c,d.value),rangeStart:m(c,l.value),rangeEnd:m(c,n.value),inRange:N(c)})}for(let g=1;g<=s.getDate();g++){const c=new Date(k.value,v.value,g);e.push({day:g,date:c,currentMonth:!0,disabled:F(c),selected:m(c,d.value),rangeStart:m(c,l.value),rangeEnd:m(c,n.value),inRange:N(c)})}const ie=42-e.length;for(let g=1;g<=ie;g++){const c=new Date(k.value,v.value+1,g);e.push({day:g,date:c,currentMonth:!1,disabled:F(c),selected:m(c,d.value),rangeStart:m(c,l.value),rangeEnd:m(c,n.value),inRange:N(c)})}return e});oe(()=>{K(),document.addEventListener("click",A)}),se(()=>{document.removeEventListener("click",A)});function K(){if(u.modelValue){if(u.isRange&&Array.isArray(u.modelValue))u.modelValue[0]&&(l.value=new Date(u.modelValue[0])),u.modelValue[1]&&(n.value=new Date(u.modelValue[1])),l.value&&(v.value=l.value.getMonth(),k.value=l.value.getFullYear());else if(!u.isRange)try{d.value=new Date(u.modelValue),isNaN(d.value.getTime())?d.value=null:(v.value=d.value.getMonth(),k.value=d.value.getFullYear())}catch{d.value=null}}}function Q(){M.value=!M.value,M.value&&(x.value=!1)}function X(){x.value=!x.value,x.value&&(M.value=!1)}function C(){M.value=!1,x.value=!1}function m(e,t){return!e||!t?!1:e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function F(e){if(u.minDate){const t=new Date(u.minDate);if(e<t)return!0}if(u.maxDate){const t=new Date(u.maxDate);if(e>t)return!0}return!1}function N(e){return!l.value||!n.value?!1:e>l.value&&e<n.value}function j(e){if(!e||isNaN(e.getTime()))return"";try{const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),h=String(e.getDate()).padStart(2,"0");let _=u.format;return _=_.replace("YYYY",t),_=_.replace("MM",s),_=_.replace("DD",h),_}catch{return""}}function z(){u.disabled||(D.value=!0,V.value="days",u.isRange&&(R.value=l.value?new Date(l.value):null,B.value=n.value?new Date(n.value):null))}function A(e){!e.target.closest(".ui-datepicker")&&D.value&&(u.isRange&&(l.value=R.value,n.value=B.value),D.value=!1,C())}function Z(){v.value===0?(v.value=11,k.value--):v.value--,C()}function ee(){v.value===11?(v.value=0,k.value++):v.value++,C()}function te(e){v.value=e,M.value=!1}function ae(e){k.value=e,x.value=!1}function le(e){if(!e.disabled)if(C(),u.isRange)if(!l.value||l.value&&n.value)l.value=new Date(e.date),n.value=null;else if(e.date>=l.value)n.value=new Date(e.date),E();else{const t=new Date(l.value);l.value=new Date(e.date),n.value=t,E()}else d.value=new Date(e.date),y("update:modelValue",d.value),y("change",d.value),D.value=!1}function q(e){e.stopPropagation(),u.isRange?(l.value=null,n.value=null,y("update:modelValue",[null,null]),y("change",[null,null])):(d.value=null,y("update:modelValue",null),y("change",null))}function ne(){l.value=R.value,n.value=B.value,D.value=!1,C()}function E(){l.value&&n.value&&(y("update:modelValue",[l.value,n.value]),y("change",[l.value,n.value]),D.value=!1,C())}return U(()=>u.modelValue,e=>{if(e==null){d.value=null,l.value=null,n.value=null;return}if(u.isRange&&Array.isArray(e))l.value=e[0]?new Date(e[0]):null,n.value=e[1]?new Date(e[1]):null;else if(!u.isRange)try{d.value=e?new Date(e):null}catch{d.value=null}},{immediate:!0}),U([d,l,n],()=>{const e=u.isRange?l.value||n.value:d.value;e&&(v.value=e.getMonth(),k.value=e.getFullYear())}),(e,t)=>(r(),i("div",{class:Y(["ui-datepicker",{"ui-datepicker--opened":D.value,"ui-datepicker--range":o.isRange,"ui-datepicker--disabled":o.disabled,"ui-datepicker--error":o.error,"ui-datepicker--small":o.size==="small","ui-datepicker--medium":o.size==="medium","ui-datepicker--large":o.size==="large"}])},[o.label?(r(),i("label",ue,[O(p(o.label)+" ",1),o.required?(r(),i("span",de,"*")):f("",!0)])):f("",!0),a("div",ce,[o.isRange?f("",!0):(r(),i("div",{key:0,class:"ui-datepicker__input",onClick:z},[t[3]||(t[3]=$('<div class="ui-datepicker__icon" data-v-c6ee905d><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c6ee905d><rect x="3" y="6" width="18" height="15" rx="2" stroke="currentColor" stroke-width="2" data-v-c6ee905d></rect><path d="M3 10H21" stroke="currentColor" stroke-width="2" data-v-c6ee905d></path><path d="M8 3L8 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-c6ee905d></path><path d="M16 3L16 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-c6ee905d></path></svg></div>',1)),a("div",ve,[d.value?(r(),i("span",ke,p(j(d.value)),1)):(r(),i("span",pe,p(o.placeholder||"날짜 선택"),1))]),d.value&&o.clearable?(r(),i("div",{key:0,class:"ui-datepicker__clear",onClick:b(q,["stop"])},t[2]||(t[2]=[a("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M18 6L6 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),a("path",{d:"M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):f("",!0)])),o.isRange?(r(),i("div",{key:1,class:"ui-datepicker__range-input",onClick:z},[t[5]||(t[5]=$('<div class="ui-datepicker__icon" data-v-c6ee905d><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c6ee905d><rect x="3" y="6" width="18" height="15" rx="2" stroke="currentColor" stroke-width="2" data-v-c6ee905d></rect><path d="M3 10H21" stroke="currentColor" stroke-width="2" data-v-c6ee905d></path><path d="M8 3L8 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-c6ee905d></path><path d="M16 3L16 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-c6ee905d></path></svg></div>',1)),a("div",he,[l.value?(r(),i("span",ge,p(j(l.value)),1)):(r(),i("span",fe,p(o.startPlaceholder||"시작일"),1))]),t[6]||(t[6]=a("div",{class:"ui-datepicker__range-separator"},"-",-1)),a("div",_e,[n.value?(r(),i("span",we,p(j(n.value)),1)):(r(),i("span",me,p(o.endPlaceholder||"종료일"),1))]),(l.value||n.value)&&o.clearable?(r(),i("div",{key:0,class:"ui-datepicker__clear",onClick:b(q,["stop"])},t[4]||(t[4]=[a("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M18 6L6 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),a("path",{d:"M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):f("",!0)])):f("",!0)]),D.value?(r(),i("div",ye,[V.value==="days"?(r(),i("div",De,[a("div",Me,[a("button",{class:"ui-datepicker__arrow ui-datepicker__arrow--prev",onClick:Z,type:"button"},t[7]||(t[7]=[a("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),a("div",xe,[a("div",Ce,[a("div",{class:"ui-datepicker__month-select",onClick:b(Q,["stop"])},[O(p(G.value)+" ",1),t[8]||(t[8]=a("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M6 9L12 15L18 9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),M.value?(r(),i("div",{key:0,class:"ui-datepicker__dropdown-list",onClick:t[0]||(t[0]=b(()=>{},["stop"]))},[(r(),i(S,null,L(P,(s,h)=>a("div",{key:s,class:Y(["ui-datepicker__dropdown-item",{"ui-datepicker__dropdown-item--selected":v.value===h}]),onClick:_=>te(h)},p(s),11,be)),64))])):f("",!0)]),a("div",Se,[a("div",{class:"ui-datepicker__year-select",onClick:b(X,["stop"])},[O(p(k.value)+" ",1),t[9]||(t[9]=a("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M6 9L12 15L18 9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),x.value?(r(),i("div",{key:0,class:"ui-datepicker__dropdown-list ui-datepicker__dropdown-list--years",onClick:t[1]||(t[1]=b(()=>{},["stop"]))},[a("div",Le,[(r(!0),i(S,null,L(W.value,s=>(r(),i("div",{key:s,class:Y(["ui-datepicker__dropdown-item",{"ui-datepicker__dropdown-item--selected":k.value===s}]),onClick:h=>ae(s)},p(s),11,Ye))),128))])])):f("",!0)])]),a("button",{class:"ui-datepicker__arrow ui-datepicker__arrow--next",onClick:ee,type:"button"},t[10]||(t[10]=[a("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M9 6L15 12L9 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),a("div",Re,[(r(),i(S,null,L(I,s=>a("div",{key:s,class:"ui-datepicker__weekday"},p(s),1)),64))]),a("div",Be,[(r(!0),i(S,null,L(J.value,(s,h)=>(r(),i("div",{key:h,class:Y(["ui-datepicker__day",{"ui-datepicker__day--disabled":s.disabled,"ui-datepicker__day--other-month":!s.currentMonth,"ui-datepicker__day--selected":s.selected,"ui-datepicker__day--range-start":s.rangeStart,"ui-datepicker__day--range-end":s.rangeEnd,"ui-datepicker__day--in-range":s.inRange}]),onClick:_=>le(s)},p(s.day),11,Ve))),128))])])):f("",!0),o.isRange&&V.value==="days"?(r(),i("div",Fe,[a("button",{class:"ui-datepicker__action-button ui-datepicker__action-button--cancel",onClick:ne,type:"button"}," 취소 "),a("button",{class:"ui-datepicker__action-button ui-datepicker__action-button--apply",onClick:E,disabled:!l.value||!n.value,type:"button"}," 적용 ",8,Ne)])):f("",!0)])):f("",!0),o.error&&o.errorMessage?(r(),i("div",je,p(o.errorMessage),1)):o.helperText?(r(),i("div",Ee,p(o.helperText),1)):f("",!0)],2))}},Pe=re(Te,[["__scopeId","data-v-c6ee905d"]]);export{Pe as _};
