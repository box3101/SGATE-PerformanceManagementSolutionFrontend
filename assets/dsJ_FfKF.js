import ce from"./BgwLtuoS.js";import{_ as Q,r as g,G as O,H as P,f as W,z as J,c as s,o as i,a,h as H,b as ve,t as k,j as K,n as S,C as pe,v as ke,l as D,F as V,g as $,s as R,d as F,I as G}from"./CAclH53C.js";const he=["placeholder","onKeydown","aria-expanded"],_e={class:"select-value"},ge={key:0,class:"selected-text"},fe={key:1,class:"placeholder"},we={class:"select-dropdown"},me={class:"search-container"},ye={class:"options-container",role:"listbox"},De=["aria-selected","onClick"],be={key:0,class:"no-results"},xe={__name:"UiSearchableSelect",props:{placeholder:{type:String,default:"선택하세요"}},setup(r){const B=[{value:"1",label:"옵션 1"},{value:"2",label:"옵션 2"},{value:"3",label:"옵션 3"},{value:"4",label:"옵션 4"},{value:"5",label:"옵션 5"},{value:"6",label:"옵션 6"},{value:"7",label:"옵션 7"},{value:"8",label:"옵션 8"},{value:"9",label:"옵션 9"},{value:"10",label:"옵션 10"}],n=g(!1),h=g(""),m=g(""),c=g(null),p=O(()=>B.find(f=>f.value===m.value)),d=O(()=>h.value?B.filter(f=>f.label.toLowerCase().includes(h.value.toLowerCase())):B),l=()=>{n.value=!n.value},o=f=>{m.value=f.value,n.value=!1,h.value=""},L=f=>{!f.target.closest(".searchable-select")&&n.value&&(n.value=!1,h.value="")};return P(n,f=>{f&&setTimeout(()=>{var b;(b=c.value)==null||b.focus()},50)}),W(()=>{document.addEventListener("click",L)}),J(()=>{document.removeEventListener("click",L)}),(f,b)=>{const C=ce;return i(),s("div",{class:R(["searchable-select",{"is-open":n.value}])},[a("div",{class:"select-header",onClick:l,tabindex:0,placeholder:r.placeholder,onKeydown:[K(l,["enter"]),K(S(l,["prevent"]),["space"])],role:"combobox","aria-haspopup":"listbox","aria-expanded":n.value},[a("div",_e,[p.value?(i(),s("span",ge,k(p.value.label),1)):(i(),s("span",fe,k(r.placeholder),1))]),ve(C,{name:n.value?"heroicons:chevron-up":"heroicons:chevron-down",class:"select-icon","aria-hidden":"true"},null,8,["name"])],40,he),H(a("div",we,[a("div",me,[H(a("input",{ref_key:"searchInput",ref:c,"onUpdate:modelValue":b[0]||(b[0]=_=>h.value=_),type:"text",class:"search-input",placeholder:"검색어를 입력하세요",onClick:b[1]||(b[1]=S(()=>{},["stop"]))},null,512),[[ke,h.value]])]),a("div",ye,[(i(!0),s(V,null,$(d.value,_=>(i(),s("div",{key:_.value,class:R(["option-item",{"is-selected":m.value===_.value}]),role:"option","aria-selected":m.value===_.value,onClick:U=>o(_)},k(_.label),11,De))),128)),d.value.length===0?(i(),s("div",be," 검색 결과가 없습니다 ")):D("",!0)])],512),[[pe,n.value]])],2)}}},at=Q(xe,[["__scopeId","data-v-525d1f07"]]),Ce={key:0,class:"ui-datepicker__label"},Me={key:0,class:"ui-datepicker__required"},Se={class:"ui-datepicker__input-wrapper"},Le={class:"ui-datepicker__text"},Ye={key:0,class:"ui-datepicker__selected-text"},Re={key:1,class:"ui-datepicker__placeholder"},Be={class:"ui-datepicker__range-text"},Ve={key:0,class:"ui-datepicker__selected-text"},$e={key:1,class:"ui-datepicker__placeholder"},Oe={class:"ui-datepicker__range-text"},Ee={key:0,class:"ui-datepicker__selected-text"},Ne={key:1,class:"ui-datepicker__placeholder"},Te={key:1,class:"ui-datepicker__calendar"},je={key:0},Fe={class:"ui-datepicker__header"},Pe={class:"ui-datepicker__selectors"},Ue={class:"ui-datepicker__dropdown"},ze=["onClick"],Ie={class:"ui-datepicker__dropdown"},Ae={class:"ui-datepicker__year-scroll"},qe=["onClick"],He={class:"ui-datepicker__weekdays"},Ke={class:"ui-datepicker__days"},Ge=["onClick"],Qe={key:1,class:"ui-datepicker__actions"},We=["disabled"],Je={key:2,class:"ui-datepicker__error"},Xe={key:3,class:"ui-datepicker__helper"},Ze={__name:"UiDatePicker",props:{modelValue:{type:[Date,String,Array,null],default:null},isRange:{type:Boolean,default:!1},label:{type:String,default:""},placeholder:{type:String,default:"날짜 선택"},startPlaceholder:{type:String,default:"시작일"},endPlaceholder:{type:String,default:"종료일"},format:{type:String,default:"YYYY.MM.DD"},clearable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},helperText:{type:String,default:""},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},size:{type:String,default:"medium",validator:r=>["small","medium","large"].includes(r)}},emits:["update:modelValue","change"],setup(r,{emit:B}){const n=r,h=B,m=g(!1),c=g(new Date().getMonth()),p=g(new Date().getFullYear()),d=g(null),l=g(null),o=g(null),L=g(null),f=g(null),b=g("days"),C=g(!1),_=g(!1),U=["일","월","화","수","목","금","토"],z=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],X=O(()=>{const e=[],t=p.value-50,u=p.value+50;for(let w=t;w<=u;w++)e.push(w);return e}),Z=O(()=>z[c.value]),ee=O(()=>{const e=[],t=new Date(p.value,c.value,1),u=new Date(p.value,c.value+1,0),w=t.getDay(),x=new Date(p.value,c.value,0).getDate();for(let y=0;y<w;y++){const v=new Date(p.value,c.value-1,x-w+y+1);e.push({day:v.getDate(),date:v,currentMonth:!1,disabled:E(v),selected:M(v,d.value),rangeStart:M(v,l.value),rangeEnd:M(v,o.value),inRange:N(v)})}for(let y=1;y<=u.getDate();y++){const v=new Date(p.value,c.value,y);e.push({day:y,date:v,currentMonth:!0,disabled:E(v),selected:M(v,d.value),rangeStart:M(v,l.value),rangeEnd:M(v,o.value),inRange:N(v)})}const de=42-e.length;for(let y=1;y<=de;y++){const v=new Date(p.value,c.value+1,y);e.push({day:y,date:v,currentMonth:!1,disabled:E(v),selected:M(v,d.value),rangeStart:M(v,l.value),rangeEnd:M(v,o.value),inRange:N(v)})}return e});W(()=>{te(),document.addEventListener("click",A)}),J(()=>{document.removeEventListener("click",A)});function te(){if(n.modelValue){if(n.isRange&&Array.isArray(n.modelValue))n.modelValue[0]&&(l.value=new Date(n.modelValue[0])),n.modelValue[1]&&(o.value=new Date(n.modelValue[1])),l.value&&(c.value=l.value.getMonth(),p.value=l.value.getFullYear());else if(!n.isRange)try{d.value=new Date(n.modelValue),isNaN(d.value.getTime())?d.value=null:(c.value=d.value.getMonth(),p.value=d.value.getFullYear())}catch{d.value=null}}}function ae(){C.value=!C.value,C.value&&(_.value=!1)}function le(){_.value=!_.value,_.value&&(C.value=!1)}function Y(){C.value=!1,_.value=!1}function M(e,t){return!e||!t?!1:e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function E(e){if(n.minDate){const t=new Date(n.minDate);if(e<t)return!0}if(n.maxDate){const t=new Date(n.maxDate);if(e>t)return!0}return!1}function N(e){return!l.value||!o.value?!1:e>l.value&&e<o.value}function T(e){if(!e||isNaN(e.getTime()))return"";try{const t=e.getFullYear(),u=String(e.getMonth()+1).padStart(2,"0"),w=String(e.getDate()).padStart(2,"0");let x=n.format;return x=x.replace("YYYY",t),x=x.replace("MM",u),x=x.replace("DD",w),x}catch{return""}}function I(){n.disabled||(m.value=!0,b.value="days",n.isRange&&(L.value=l.value?new Date(l.value):null,f.value=o.value?new Date(o.value):null))}function A(e){!e.target.closest(".ui-datepicker")&&m.value&&(n.isRange&&(l.value=L.value,o.value=f.value),m.value=!1,Y())}function ne(){c.value===0?(c.value=11,p.value--):c.value--,Y()}function se(){c.value===11?(c.value=0,p.value++):c.value++,Y()}function ie(e){c.value=e,C.value=!1}function re(e){p.value=e,_.value=!1}function oe(e){if(!e.disabled)if(Y(),n.isRange)if(!l.value||l.value&&o.value)l.value=new Date(e.date),o.value=null;else if(e.date>=l.value)o.value=new Date(e.date),j();else{const t=new Date(l.value);l.value=new Date(e.date),o.value=t,j()}else d.value=new Date(e.date),h("update:modelValue",d.value),h("change",d.value),m.value=!1}function q(e){e.stopPropagation(),n.isRange?(l.value=null,o.value=null,h("update:modelValue",[null,null]),h("change",[null,null])):(d.value=null,h("update:modelValue",null),h("change",null))}function ue(){l.value=L.value,o.value=f.value,m.value=!1,Y()}function j(){l.value&&o.value&&(h("update:modelValue",[l.value,o.value]),h("change",[l.value,o.value]),m.value=!1,Y())}return P(()=>n.modelValue,e=>{if(e==null){d.value=null,l.value=null,o.value=null;return}if(n.isRange&&Array.isArray(e))l.value=e[0]?new Date(e[0]):null,o.value=e[1]?new Date(e[1]):null;else if(!n.isRange)try{d.value=e?new Date(e):null}catch{d.value=null}},{immediate:!0}),P([d,l,o],()=>{const e=n.isRange?l.value||o.value:d.value;e&&(c.value=e.getMonth(),p.value=e.getFullYear())}),(e,t)=>(i(),s("div",{class:R(["ui-datepicker",{"ui-datepicker--opened":m.value,"ui-datepicker--range":r.isRange,"ui-datepicker--disabled":r.disabled,"ui-datepicker--error":r.error,"ui-datepicker--small":r.size==="small","ui-datepicker--medium":r.size==="medium","ui-datepicker--large":r.size==="large"}])},[r.label?(i(),s("label",Ce,[F(k(r.label)+" ",1),r.required?(i(),s("span",Me,"*")):D("",!0)])):D("",!0),a("div",Se,[r.isRange?D("",!0):(i(),s("div",{key:0,class:"ui-datepicker__input",onClick:I},[t[3]||(t[3]=G('<div class="ui-datepicker__icon" data-v-d1820315><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d1820315><rect x="3" y="6" width="18" height="15" rx="2" stroke="currentColor" stroke-width="2" data-v-d1820315></rect><path d="M3 10H21" stroke="currentColor" stroke-width="2" data-v-d1820315></path><path d="M8 3L8 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-d1820315></path><path d="M16 3L16 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-d1820315></path></svg></div>',1)),a("div",Le,[d.value?(i(),s("span",Ye,k(T(d.value)),1)):(i(),s("span",Re,k(r.placeholder||"날짜 선택"),1))]),d.value&&r.clearable?(i(),s("div",{key:0,class:"ui-datepicker__clear",onClick:S(q,["stop"])},t[2]||(t[2]=[a("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M18 6L6 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),a("path",{d:"M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):D("",!0)])),r.isRange?(i(),s("div",{key:1,class:"ui-datepicker__range-input",onClick:I},[t[5]||(t[5]=G('<div class="ui-datepicker__icon" data-v-d1820315><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d1820315><rect x="3" y="6" width="18" height="15" rx="2" stroke="currentColor" stroke-width="2" data-v-d1820315></rect><path d="M3 10H21" stroke="currentColor" stroke-width="2" data-v-d1820315></path><path d="M8 3L8 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-d1820315></path><path d="M16 3L16 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-d1820315></path></svg></div>',1)),a("div",Be,[l.value?(i(),s("span",Ve,k(T(l.value)),1)):(i(),s("span",$e,k(r.startPlaceholder||"시작일"),1))]),t[6]||(t[6]=a("div",{class:"ui-datepicker__range-separator"},"-",-1)),a("div",Oe,[o.value?(i(),s("span",Ee,k(T(o.value)),1)):(i(),s("span",Ne,k(r.endPlaceholder||"종료일"),1))]),(l.value||o.value)&&r.clearable?(i(),s("div",{key:0,class:"ui-datepicker__clear",onClick:S(q,["stop"])},t[4]||(t[4]=[a("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M18 6L6 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),a("path",{d:"M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):D("",!0)])):D("",!0)]),m.value?(i(),s("div",Te,[b.value==="days"?(i(),s("div",je,[a("div",Fe,[a("button",{class:"ui-datepicker__arrow ui-datepicker__arrow--prev",onClick:ne,type:"button"},t[7]||(t[7]=[a("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),a("div",Pe,[a("div",Ue,[a("div",{class:"ui-datepicker__month-select",onClick:S(ae,["stop"])},[F(k(Z.value)+" ",1),t[8]||(t[8]=a("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M6 9L12 15L18 9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),C.value?(i(),s("div",{key:0,class:"ui-datepicker__dropdown-list",onClick:t[0]||(t[0]=S(()=>{},["stop"]))},[(i(),s(V,null,$(z,(u,w)=>a("div",{key:u,class:R(["ui-datepicker__dropdown-item",{"ui-datepicker__dropdown-item--selected":c.value===w}]),onClick:x=>ie(w)},k(u),11,ze)),64))])):D("",!0)]),a("div",Ie,[a("div",{class:"ui-datepicker__year-select",onClick:S(le,["stop"])},[F(k(p.value)+" ",1),t[9]||(t[9]=a("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M6 9L12 15L18 9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),_.value?(i(),s("div",{key:0,class:"ui-datepicker__dropdown-list ui-datepicker__dropdown-list--years",onClick:t[1]||(t[1]=S(()=>{},["stop"]))},[a("div",Ae,[(i(!0),s(V,null,$(X.value,u=>(i(),s("div",{key:u,class:R(["ui-datepicker__dropdown-item",{"ui-datepicker__dropdown-item--selected":p.value===u}]),onClick:w=>re(u)},k(u),11,qe))),128))])])):D("",!0)])]),a("button",{class:"ui-datepicker__arrow ui-datepicker__arrow--next",onClick:se,type:"button"},t[10]||(t[10]=[a("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M9 6L15 12L9 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),a("div",He,[(i(),s(V,null,$(U,u=>a("div",{key:u,class:"ui-datepicker__weekday"},k(u),1)),64))]),a("div",Ke,[(i(!0),s(V,null,$(ee.value,(u,w)=>(i(),s("div",{key:w,class:R(["ui-datepicker__day",{"ui-datepicker__day--disabled":u.disabled,"ui-datepicker__day--other-month":!u.currentMonth,"ui-datepicker__day--selected":u.selected,"ui-datepicker__day--range-start":u.rangeStart,"ui-datepicker__day--range-end":u.rangeEnd,"ui-datepicker__day--in-range":u.inRange}]),onClick:x=>oe(u)},k(u.day),11,Ge))),128))])])):D("",!0),r.isRange&&b.value==="days"?(i(),s("div",Qe,[a("button",{class:"ui-datepicker__action-button ui-datepicker__action-button--cancel",onClick:ue,type:"button"}," 취소 "),a("button",{class:"ui-datepicker__action-button ui-datepicker__action-button--apply",onClick:j,disabled:!l.value||!o.value,type:"button"}," 적용 ",8,We)])):D("",!0)])):D("",!0),r.error&&r.errorMessage?(i(),s("div",Je,k(r.errorMessage),1)):r.helperText?(i(),s("div",Xe,k(r.helperText),1)):D("",!0)],2))}},lt=Q(Ze,[["__scopeId","data-v-d1820315"]]);export{at as U,lt as a};
