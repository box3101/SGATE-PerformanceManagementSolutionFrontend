import Q from"./CCbE5MaM.js";import X from"./BgczX3cf.js";import Z from"./CMY0yCR6.js";import ee from"./N2_R9gkV.js";import{_ as I,c as l,o as s,a as n,k as g,x as _,t as r,r as p,z as b,f as te,E as ne,G as ae,b as y,w as oe,F as k,g as C,d as T}from"./CFVpJKc5.js";import"./hQPwmvO3.js";const le={class:"report-card"},se={class:"report-header"},re={class:"report-meta"},ie={class:"create-time"},de={class:"report-title"},ue={key:0,class:"report-summary"},ce={__name:"ReportDetailCard",props:{report:{type:Object,required:!0}},setup(m){return(d,f)=>(s(),l("div",le,[n("div",se,[n("div",re,[n("span",{class:_(["type-badge",m.report.extendedProps.reportType==="daily"?"daily":"weekly"])},r(m.report.extendedProps.reportType==="daily"?"일간보고":"주간보고"),3),n("span",ie,r(m.report.extendedProps.createTime),1)]),n("h2",de,r(m.report.title),1),m.report.extendedProps.summary?(s(),l("p",ue,r(m.report.extendedProps.summary),1)):g("",!0)]),f[0]||(f[0]=n("div",{class:"report-content"},"23",-1))]))}},ve=I(ce,[["__scopeId","data-v-3a82bf27"]]),pe={class:"report-page"},me={class:"report-controls com-header"},_e={class:"checkbox-group"},fe={class:"select-group"},he={class:"report-viewer-container"},ye={class:"view-mode-tabs"},ge=["onClick"],be={key:0,class:"report-counter"},ke={key:0,class:"single-view"},Ce={key:0,class:"navigation-bar"},xe=["disabled"],we={class:"progress-nav"},Te={class:"report-indicators"},De=["onClick","title"],Ve={class:"author-preview"},Pe=["disabled"],Re={key:1,class:"report-detail"},$e={key:1,class:"timeline-view"},ze={class:"timeline-container"},Ee={class:"timeline-marker"},Ue={key:0,class:"timeline-line"},Ie={class:"timeline-content"},Me={class:"time-header"},Se={class:"create-time"},Ae={class:"author-name"},Be=["onClick"],Fe={class:"report-title"},Le={class:"report-content"},Ne={__name:"view",setup(m){const d=p(null),f=p(!0),x=p(!0),D=p("w"),h=p(!1),u=p("single"),o=p(0),M=[{value:"w",label:"작성일 기준"},{value:"r",label:"보고일 기준"}],S=[{value:"single",label:"단일 보기"},{value:"timeline",label:"타임라인"}],A={dayMaxEvents:!1,moreLinkClick:"popover",eventDisplay:"block"},B=p([{id:"1",title:"[이찬용] 프로젝트 A 진행상황",start:"2025-05-16",allDay:!0,backgroundColor:"#0084ff",borderColor:"#0084ff",extendedProps:{reportType:"weekly",author:"이찬용",submitTarget:"한성진",actualContent:`리타게팅 랜딩페이지 수정
우체국뱅킹 ui/ux 개선 퍼블리싱 작업

Sgate 아카데미 퍼블리싱`,planContent:`리타게팅 랜딩페이지 수정
우체국뱅킹 ui/ux 개선 퍼블리싱 작업
Sgate 아카데미 퍼블리싱

sgate 인사평가 퍼블리싱`,etcContent:"특별한 의견 없음",attachments:[{id:1,name:"프로젝트_진행현황.xlsx",size:15234},{id:2,name:"화면설계서.pdf",size:3421567}],feedbacks:[{id:1,author:"한성진",content:"수고하셨습니다. 다음 주 일정 조율이 필요할 것 같습니다.",createdAt:"2025-05-16T16:30:00"}],summary:"프로젝트 A 1차 개발 완료",createTime:"09:30"}},{id:"2",title:"[김영희] 품질관리 점검",start:"2025-05-16",allDay:!0,backgroundColor:"#ff6b35",borderColor:"#ff6b35",extendedProps:{reportType:"daily",author:"김영희",submitTarget:"이부장",actualContent:`생산라인 전체 점검 완료
- 1라인: 정상 가동
- 2라인: 미세 조정 필요
- 3라인: 정상 가동`,planContent:`내일 계획:
- 2라인 미세 조정 작업
- 월간 품질 보고서 작성
- 신규 장비 점검`,etcContent:"전반적으로 양호한 상태",attachments:[{id:3,name:"품질점검표.pdf",size:892345}],feedbacks:[],summary:"생산라인 품질관리 점검 완료",createTime:"16:45"}},{id:"3",title:"[정수민] 회계 업무 처리",start:"2025-05-16",allDay:!0,backgroundColor:"#6f42c1",borderColor:"#6f42c1",extendedProps:{reportType:"daily",author:"정수민",submitTarget:"최팀장",actualContent:`월간 회계 마감 완료
- 매출/매입 정리
- 비용 분석
- 예산 대비 실적 검토`,planContent:`내일 계획:
- 분기 보고서 작성
- 예산 수정안 검토
- 세무사 미팅 준비`,etcContent:"예산 대비 105% 달성",attachments:[{id:5,name:"월간정산서.xlsx",size:234567},{id:6,name:"예산분석표.pdf",size:445566}],feedbacks:[],summary:"월간 회계 마감 및 실적 분석",createTime:"11:30"}},{id:"4",title:"[박민수] 마케팅 활동 보고",start:"2025-05-16",allDay:!0,backgroundColor:"#28a745",borderColor:"#28a745",extendedProps:{reportType:"daily",author:"박민수",submitTarget:"김과장",actualContent:`고객사 3곳 방문 완료
- A사: 제품 데모 진행
- B사: 계약 조건 협의
- C사: 추가 요구사항 청취`,planContent:`내일 계획:
- A사 후속 미팅 준비
- B사 계약서 검토
- 신규 고객사 발굴`,etcContent:"전반적으로 긍정적인 반응",attachments:[],feedbacks:[],summary:"고객사 방문 및 제품 소개",createTime:"14:20"}}]),V=b(()=>B.value.filter(e=>{const t=f.value&&e.extendedProps.reportType==="daily",c=x.value&&e.extendedProps.reportType==="weekly";return t||c})),i=b(()=>{if(!d.value)return[];const e=E(d.value);return V.value.filter(t=>E(t.start)===e)}),P=b(()=>i.value[o.value]||null),R=b(()=>[...i.value].sort((e,t)=>{const c=e.extendedProps.createTime,w=t.extendedProps.createTime;return c.localeCompare(w)})),F=b(()=>{if(!d.value)return"보고서 뷰어";const e=q(d.value),t=i.value.length;return`${e} 보고서 (${t}건)`});function L(e){d.value=e.date,o.value=0,u.value="single",h.value=!0}function N(e){d.value=e.event.start;const t=i.value.findIndex(c=>c.id===e.event.id);o.value=t>=0?t:0,u.value="single",h.value=!0}function O(e){u.value=e}function $(){o.value<i.value.length-1&&o.value++}function z(){o.value>0&&o.value--}function G(e){o.value=e}function j(e){o.value=e,u.value="single"}function H(e){return`${e.extendedProps.author} - ${e.extendedProps.createTime}`}function K(e){return e==="daily"?"일간":"주간"}function q(e){return e?new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(e)):""}function E(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function U(e){if(h.value)switch(e.key){case"ArrowLeft":e.preventDefault(),z();break;case"ArrowRight":e.preventDefault(),$();break;case"Escape":e.preventDefault(),h.value=!1;break}}return te(()=>{window.addEventListener("keydown",U)}),ne(()=>{window.removeEventListener("keydown",U)}),ae(u,()=>{u.value==="single"&&(o.value=0)}),(e,t)=>{const c=Q,w=X,W=Z;return s(),l(k,null,[n("div",pe,[n("div",me,[n("div",_e,[y(c,{size:"large",modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=a=>f.value=a),label:"일간보고",value:"d"},null,8,["modelValue"]),y(c,{size:"large",modelValue:x.value,"onUpdate:modelValue":t[1]||(t[1]=a=>x.value=a),label:"주간보고",value:"w"},null,8,["modelValue"])]),n("div",fe,[y(w,{modelValue:D.value,"onUpdate:modelValue":t[2]||(t[2]=a=>D.value=a),class:"date-selector",options:M},null,8,["modelValue"])])]),y(ee,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a),events:V.value,onDateClick:L,onEventClick:N,useViewportHeight:!0,viewportHeight:80,customOptions:A},null,8,["modelValue","events"])]),y(W,{modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=a=>h.value=a),title:F.value,size:"xlarge",showFooter:!1,class:"report-viewer-modal"},{default:oe(()=>[n("div",he,[n("div",ye,[(s(),l(k,null,C(S,a=>n("button",{key:a.value,onClick:v=>O(a.value),class:_(["tab-button",{active:u.value===a.value}])},[T(r(a.label)+" ",1),a.value==="single"&&i.value.length>1?(s(),l("span",be,r(o.value+1)+"/"+r(i.value.length),1)):g("",!0)],10,ge)),64))]),u.value==="single"?(s(),l("div",ke,[i.value.length>1?(s(),l("div",Ce,[n("button",{onClick:z,disabled:o.value===0,class:_(["nav-button",{disabled:o.value===0}])},t[5]||(t[5]=[n("i",{class:"icon-chevron-left"},null,-1),T(" 이전 ")]),10,xe),n("div",we,[n("div",Te,[(s(!0),l(k,null,C(i.value,(a,v)=>(s(),l("button",{key:a.id,onClick:Y=>G(v),class:_(["indicator-button",{active:v===o.value}]),title:H(a)},r(v+1),11,De))),128))]),n("div",Ve,[(s(!0),l(k,null,C(i.value,(a,v)=>(s(),l("span",{key:a.id,class:_(["author-name",{active:v===o.value}])},r(a.extendedProps.author)+r(v<i.value.length-1?",":""),3))),128))])]),n("button",{onClick:$,disabled:o.value===i.value.length-1,class:_(["nav-button",{disabled:o.value===i.value.length-1}])},t[6]||(t[6]=[T(" 다음 "),n("i",{class:"icon-chevron-right"},null,-1)]),10,Pe)])):g("",!0),P.value?(s(),l("div",Re,[y(ve,{report:P.value},null,8,["report"])])):g("",!0)])):u.value==="timeline"?(s(),l("div",$e,[n("div",ze,[(s(!0),l(k,null,C(R.value,(a,v)=>(s(),l("div",{key:a.id,class:"timeline-item"},[n("div",Ee,[t[7]||(t[7]=n("div",{class:"timeline-dot"},null,-1)),v<R.value.length-1?(s(),l("div",Ue)):g("",!0)]),n("div",Ie,[n("div",Me,[n("span",Se,r(a.extendedProps.createTime),1),n("span",Ae,r(a.extendedProps.author),1),n("span",{class:_(["report-type-badge",a.extendedProps.reportType])},r(K(a.extendedProps.reportType)),3)]),n("div",{class:"report-preview",onClick:Y=>j(i.value.findIndex(J=>J.id===a.id))},[n("h4",Fe,r(a.title),1),n("p",Le,r(a.extendedProps.actualContent),1)],8,Be)])]))),128))])])):g("",!0)])]),_:1},8,["modelValue","title"])],64)}}},We=I(Ne,[["__scopeId","data-v-77d20a46"]]);export{We as default};
