import j from"./BHjbfn6d.js";import q from"./D2smx354.js";import A from"./BX0ynNCu.js";import{_ as J,r,c as l,C as O,b as u,w as p,aa as P,a7 as Q,o as a,k as W,a as e,F as I,g as B,x as X,m as x,i as R,t as V,G as Y}from"./C7M-G8Qz.js";import"./uBLzf49R.js";import"./CzknMO4h.js";const Z={class:"rating-scale-table-container"},ee={key:0,class:"save-reminder-toast",role:"alert","aria-live":"polite"},te=["draggable","onDragstart","onDragover","onDrop","onDragend","onClick"],ne={key:0,class:"editing-wrapper"},ae={key:1,class:"text-display-container"},oe={class:"text-content"},le=["onClick"],ie={class:"text-center"},se={__name:"RatingGroup",emits:["row-selected"],setup(re,{emit:T}){const E=T,C=r(!1),w=r(!1);let f=null;const i=r({rowId:null,field:null}),_=r(null),b=r(""),z=()=>{w.value=!0,f&&clearTimeout(f),f=setTimeout(()=>{w.value&&(C.value=!0)},1e3)},G=()=>{C.value=!1},S=async(o,t)=>{var v;const m=c.value.find(k=>k.id===o);b.value=m[t],i.value={rowId:o,field:t},await Y(),(v=_.value)!=null&&v[0]&&_.value[0].focus()},y=()=>{i.value={rowId:null,field:null}},N=()=>{const o=c.value.find(t=>t.id===i.value.rowId);o&&i.value.field&&(o[i.value.field]=b.value),y()},$=o=>{E("row-selected",o)},F=r([{key:"name",title:"등급척도"},{key:"ratingCount",title:"평가등급수"}]),c=r([{id:1,name:"등급척도",ratingCount:0},{id:2,name:"평가등급수",ratingCount:0},{id:3,name:"평가항목",ratingCount:0},{id:4,name:"역량평가",ratingCount:0},{id:5,name:"성과평가",ratingCount:3},{id:6,name:"다면평가",ratingCount:5},{id:7,name:"리더십평가",ratingCount:4},{id:8,name:"업적평가",ratingCount:3},{id:9,name:"핵심가치평가",ratingCount:0},{id:10,name:"직무역량평가",ratingCount:4},{id:11,name:"업무성과평가",ratingCount:3},{id:12,name:"행동역량평가",ratingCount:0},{id:13,name:"종합평가",ratingCount:4},{id:14,name:"직무수행평가",ratingCount:5},{id:15,name:"팀워크평가",ratingCount:3},{id:16,name:"소통역량평가",ratingCount:4},{id:17,name:"목표달성평가",ratingCount:5},{id:18,name:"기여도평가",ratingCount:3},{id:19,name:"전문성평가",ratingCount:4},{id:20,name:"혁신역량평가",ratingCount:5}]);return(o,t)=>{const m=j,v=q,k=A;return a(),l("div",Z,[(a(),O(Q,{to:"body"},[u(P,{name:"save-toast","enter-active-class":"save-toast-enter-active","leave-active-class":"save-toast-leave-active","enter-from-class":"save-toast-enter-from","leave-to-class":"save-toast-leave-to"},{default:p(()=>[C.value?(a(),l("div",ee,[t[4]||(t[4]=e("div",{class:"toast-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})])],-1)),t[5]||(t[5]=e("div",{class:"toast-content"},[e("div",{class:"toast-message"},"변경사항을 저장하려면 저장 버튼을 클릭하세요.")],-1)),e("button",{class:"toast-close",onClick:G,"aria-label":"닫기"},t[3]||(t[3]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))])):W("",!0)]),_:1})])),u(k,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=d=>c.value=d),title:"등급척도 그룹",editable:"",sortable:"",scrollable:"","max-height":"calc(100vh - 200px)"},{colgroup:p(()=>t[6]||(t[6]=[e("col",{style:{width:"40px"}},null,-1),e("col",{style:{width:"auto"}},null,-1),e("col",{style:{width:"80px"}},null,-1)])),header:p(({selectAll:d,isAllSelected:h})=>[e("th",null,[u(m,{size:"large",onClick:t[0]||(t[0]=x(()=>{},["stop"])),modelValue:h,"onUpdate:modelValue":d},null,8,["modelValue","onUpdate:modelValue"])]),(a(!0),l(I,null,B(F.value,g=>(a(),l("th",{key:g.key},V(g.title),1))),128))]),body:p(({rows:d,toggleRowSelection:h,isRowSelected:g,handleDragStart:H,handleDragOver:K,handleDrop:L,handleDragEnd:M,sortable:U})=>[(a(!0),l(I,null,B(d,(n,D)=>(a(),l("tr",{key:n.id,draggable:U,onDragstart:s=>H(s,D),onDragover:K,onDrop:s=>L(s,D),onDragend:M,class:X({"sortable-row":U}),onClick:s=>$(n),style:{cursor:"pointer"}},[e("td",null,[u(m,{size:"large",onClick:t[1]||(t[1]=x(()=>{},["stop"])),modelValue:g(n),"onUpdate:modelValue":()=>h(n)},null,8,["modelValue","onUpdate:modelValue"])]),e("td",null,[i.value.rowId===n.id&&i.value.field==="name"?(a(),l("div",ne,[u(v,{ref_for:!0,ref_key:"editInput",ref:_,modelValue:n.name,"onUpdate:modelValue":s=>n.name=s,placeholder:"등급척도명을 입력하세요",onBlur:y,onKeyup:[R(y,["enter"]),R(N,["escape"])],onInput:z},null,8,["modelValue","onUpdate:modelValue"])])):(a(),l("div",ae,[e("span",oe,V(n.name||"등급척도명을 입력하세요"),1),e("button",{class:"edit-icon-btn",onClick:x(s=>S(n.id,"name"),["stop"]),title:"편집"},t[7]||(t[7]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),8,le)]))]),e("td",ie,V(n.ratingCount),1)],42,te))),128))]),_:1},8,["modelValue"])])}}},pe=J(se,[["__scopeId","data-v-3234d0cf"]]);export{pe as default};
