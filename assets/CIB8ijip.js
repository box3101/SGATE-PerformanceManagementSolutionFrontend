import{_ as ae}from"./C6JS7huD.js";import{_ as ne}from"./CTlqU3h9.js";import{_ as se}from"./BDRnE6pX.js";import{_ as de}from"./0-jLkeVY.js";import{_ as ue}from"./DL89FYIO.js";import{_ as re}from"./QbhstHSK.js";import{a as ie,U as pe}from"./Dp0f4M_S.js";import{_ as me}from"./eU0DEhPC.js";import{U as ve}from"./C0wmS50G.js";import{r as y,s as ge,c as s,a as l,b as n,w as d,F as k,o as t,d as O,g as D,x as h,k as w,m as U,t as c,D as S}from"./B8Ju4ncf.js";import"./DwmpsY0s.js";const ce={class:"page-header"},ye={class:"header-left"},Ve={class:"select-group"},fe={class:"select-item"},_e={class:"select-item flex items-center"},ke={class:"button-group ml-4 flex items-center gap-4"},we={class:"header-right"},he={class:"button-group"},Ue={class:"flex-container"},be={class:"w-70p"},xe={key:0,width:"40px"},Ce=["width"],De={key:1,width:"60px"},$e={key:0},Be={key:1},Oe=["onClick","draggable","onDragstart","onDragover","onDrop","onDragend"],Me={key:0},ze={key:0,class:"row-checkbox"},Ie={key:1,class:"drag-handle"},Ne={key:1},Se=["onClick"],Fe=["rowspan"],Ee={key:0,class:"row-checkbox"},Te={key:1,class:"drag-handle"},Ae=["rowspan"],Le=["rowspan"],Ge=["rowspan"],Je=["draggable","onDragstart","onDragover","onDrop","onDragend"],Ye={key:1},je={key:0,class:"flex items-center gap-2"},qe={key:1},He={key:1},Ke={key:0},sl={__name:"index",setup(Pe){const J=y("2025"),P=y([{value:"2025",label:"2025년"},{value:"2024",label:"2024년"},{value:"2023",label:"2023년"}]),M=y(!0),z=y(!0),v=y([{key:"name",title:"역량항목",align:"",width:"100px",icon:"edit"},{key:"category",title:"구분",align:"center",width:"100px"},{key:"standard",title:"행동기준/행동수준/역량정의",align:"",width:""},{key:"level",title:"수준/점수",align:"center",width:"100px"},{key:"weight",title:"가중",align:"center",width:"80px"}]),Q=ge(()=>{const u={};return v.value.forEach(e=>{u[e.key]=e.key==="level"||e.key==="weight"?0:""}),u}),b=y([{id:1,name:"리더십",category:"핵심역량",standard:"조직의 목표를 달성하기 위해 구성원들을 이끄는 능력",level:5,weight:20},{id:2,name:"문제해결",category:"직무역량",standard:"복잡한 문제를 분석하고 효과적인 해결책을 도출하는 능력",level:4,weight:15},{id:3,name:"의사소통",category:"기본역량",standard:"정보와 아이디어를 명확하게 전달하고 수용하는 능력",level:3,weight:10},{id:4,name:"전략적 사고",category:"BOS",behaviors:[{description:"사업에 대한 통찰력에 기초하여 2년 이상의 추진 기간이 요구되는 장기적 사업 계획을 기안하며, 장기적 미래의 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:5,score:100,weight:"-"},{description:"1~2년의 추진 기간이 요구되는 중기적 사업 계획을 수립하며, 중기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:4,score:80,weight:"-"},{description:"3~6개월 이상의 추진 기간이 요구되는 단기적 사업 계획을 수립하며, 단기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:3,score:60,weight:"-"}]},{id:5,name:"성과지향",category:"일반",standard:"목표를 달성하기 위해 끊임없이 노력하는 태도",level:"-",weight:"-"}]),W=u=>{console.log("저장된 데이터:",u)},$=y(!1),I=y(!1),N=y(null),X=y([{value:"일반",label:"일반"},{value:"BOS",label:"BOS"}]),Y=()=>({name:"",category:"",standard:"",level:3,weight:10,behaviors:[]}),o=y(Y()),Z=u=>{o.value.behaviors=[],u==="일반"?(o.value.level="-",o.value.weight="-"):u==="BOS"?o.value.behaviors=[R()]:(o.value.level=3,o.value.weight=10)},R=()=>({description:"",level:1,score:20,weight:"-"}),j=()=>{$.value=!1,I.value=!1,N.value=null,o.value=Y()},q=u=>{I.value=!0,N.value=u.id,o.value=JSON.parse(JSON.stringify({name:u.name,category:u.category,standard:u.standard,level:u.level,weight:u.weight,behaviors:u.behaviors||[]})),$.value=!0},ee=()=>{if(!o.value.name||!o.value.category){alert("항목명과 구분은 필수 입력 항목입니다.");return}if(o.value.category==="BOS"){if(o.value.behaviors.length===0){alert("BOS 구분의 경우 최소 하나 이상의 행동수준을 추가해야 합니다.");return}for(const u of o.value.behaviors)if(!u.description){alert("모든 행동수준 설명을 입력해주세요.");return}}else if(o.value.category==="일반"){if(!o.value.standard){alert("역량정의를 입력해주세요.");return}o.value.level="-",o.value.weight="-"}else if(!o.value.standard){alert("역량정의를 입력해주세요.");return}if(I.value){const u=b.value.findIndex(e=>e.id===N.value);u!==-1&&(b.value[u]={...b.value[u],...o.value,id:N.value})}else b.value.push({id:Date.now(),...o.value});j()};return(u,e)=>{const F=ae,V=ne,le=se,B=de,H=ue,x=re,C=pe,E=me,te=ie,oe=ve;return t(),s(k,null,[l("div",ce,[l("div",ye,[l("div",Ve,[l("div",fe,[e[17]||(e[17]=l("span",{class:"select-label"},"기준년도",-1)),n(F,{modelValue:J.value,"onUpdate:modelValue":e[0]||(e[0]=a=>J.value=a),options:P.value,size:"medium",placeholder:"선택",width:"150px"},null,8,["modelValue","options"])]),l("div",_e,[e[21]||(e[21]=l("span",{class:"select-label"},"역량평가항목그룹",-1)),n(F,{modelValue:u.selectedGroup,"onUpdate:modelValue":e[1]||(e[1]=a=>u.selectedGroup=a),options:u.groupOptions,placeholder:"선택",width:"150px"},null,8,["modelValue","options"]),l("div",ke,[n(V,{variant:"primary","icon-only":""},{default:d(()=>e[18]||(e[18]=[l("i",{class:"icon-md icon-plus icon-white"},null,-1)])),_:1}),n(V,{variant:"secondary","icon-only":""},{default:d(()=>e[19]||(e[19]=[l("i",{class:"icon-md icon-pencil"},null,-1)])),_:1}),n(V,{variant:"secondary-line","icon-only":""},{default:d(()=>e[20]||(e[20]=[l("i",{class:"icon-md icon-delete"},null,-1)])),_:1})])])])]),l("div",we,[l("div",he,[n(le,{title:"역량항목그룹 가져오기"},{trigger:d(()=>[n(V,{type:"button",variant:"secondary-line",size:"medium"},{default:d(()=>e[22]||(e[22]=[O(" 역량항목그룹 가져오기 "),l("i",{class:"icon-md icon-get"},null,-1)])),_:1})]),default:d(()=>[e[23]||(e[23]=l("p",null,"현 기존년도의 등급배분표 그룹 중 하나를 선택하여 복사합니다.",-1))]),_:1}),n(V,{type:"button",variant:"primary-line",size:"medium",class:"ml-2"},{default:d(()=>e[24]||(e[24]=[O(" 전년도 데이터 복사 "),l("i",{class:"icon-md icon-copy icon-primary"},null,-1)])),_:1})])])]),l("div",Ue,[e[30]||(e[30]=l("div",{class:"w-30p"},"2",-1)),l("div",be,[n(H,{title:"테이블 제목",modelValue:b.value,"onUpdate:modelValue":e[6]||(e[6]=a=>b.value=a),hover:"",editable:"",bordered:"",canAddRow:!1,"default-row-data":Q.value,onSave:W},{"action-button":d(()=>[n(V,{type:"button",variant:"primary",onClick:e[2]||(e[2]=a=>$.value=!0)},{default:d(()=>e[25]||(e[25]=[O(" 항목 추가 ")])),_:1})]),colgroup:d(()=>[M.value?(t(),s("col",xe)):w("",!0),(t(!0),s(k,null,D(v.value,a=>(t(),s("col",{key:a.key,width:a.width},null,8,Ce))),128)),z.value?(t(),s("col",De)):w("",!0)]),header:d(({selectAll:a,isAllSelected:f})=>[l("tr",null,[M.value?(t(),s("th",$e,[n(B,{modelValue:f,"onUpdate:modelValue":a,size:"large",onClick:e[3]||(e[3]=U(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])])):w("",!0),(t(!0),s(k,null,D(v.value,g=>(t(),s("th",{key:g.key,class:h(g.align?`text-${g.align}`:"")},c(g.title),3))),128)),z.value?(t(),s("th",Be,"수정")):w("",!0)])]),body:d(({rows:a,toggleRowSelection:f,isRowSelected:g,handleDragStart:T,handleDragOver:A,handleDrop:L,handleDragEnd:G,sortable:_})=>[(t(!0),s(k,null,D(a,(r,m)=>(t(),s(k,{key:r.id},[r.category!=="BOS"?(t(),s("tr",{key:0,onClick:i=>!_&&f(r),class:h({selected:g(r),"sortable-row":_}),draggable:_,onDragstart:i=>T(i,m),onDragover:i=>A(i),onDrop:i=>L(i,m),onDragend:G},[M.value?(t(),s("td",Me,[_?(t(),s("div",Ie,e[26]||(e[26]=[l("i",{class:"icon-md icon-drag"},null,-1)]))):(t(),s("div",ze,[n(B,{modelValue:g(r),"onUpdate:modelValue":i=>f(r),size:"large",onClick:e[4]||(e[4]=U(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))])):w("",!0),(t(!0),s(k,null,D(v.value,(i,p)=>(t(),s("td",{key:p,class:h(i.align?`text-${i.align}`:"")},c(r[i.key]),3))),128)),z.value?(t(),s("td",Ne,[n(V,{variant:"ghost","icon-only":"",onClick:U(i=>q(r),["stop"])},{default:d(()=>e[27]||(e[27]=[l("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])])):w("",!0)],42,Oe)):(t(!0),s(k,{key:1},D(r.behaviors,(i,p)=>(t(),s("tr",{key:`${r.id}-${p}`,onClick:K=>!_&&f(r),class:h({selected:g(r),"sortable-row":_})},[p===0?(t(),s(k,{key:0},[M.value?(t(),s("td",{key:0,rowspan:r.behaviors.length},[_?(t(),s("div",Te,e[28]||(e[28]=[l("i",{class:"icon-md icon-drag"},null,-1)]))):(t(),s("div",Ee,[n(B,{modelValue:g(r),"onUpdate:modelValue":K=>f(r),size:"large",onClick:e[5]||(e[5]=U(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))],8,Fe)):w("",!0),l("td",{rowspan:r.behaviors.length},c(r.name),9,Ae),l("td",{rowspan:r.behaviors.length,class:h(v.value[1].align?`text-${v.value[1].align}`:"")},c(r.category),11,Le)],64)):w("",!0),l("td",{class:h(v.value[2].align?`text-${v.value[2].align}`:"")},c(i.description),3),l("td",{class:h(v.value[3].align?`text-${v.value[3].align}`:"")},c(i.level)+"/"+c(i.score),3),l("td",{class:h(v.value[4].align?`text-${v.value[4].align}`:"")},c(i.weight),3),z.value&&p===0?(t(),s("td",{key:1,rowspan:r.behaviors.length},[n(V,{variant:"ghost","icon-only":"",onClick:U(K=>q(r),["stop"])},{default:d(()=>e[29]||(e[29]=[l("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])],8,Ge)):w("",!0)],10,Se))),128))],64))),128))]),_:1},8,["modelValue","default-row-data"])])]),n(oe,{modelValue:$.value,"onUpdate:modelValue":e[16]||(e[16]=a=>$.value=a),size:"mlarge",title:I.value?"역량사전 항목 수정":"역량사전 항목 추가",showFooter:!0},{footerActions:d(()=>[n(V,{onClick:ee,variant:"primary"},{default:d(()=>e[37]||(e[37]=[O("저장")])),_:1}),n(V,{onClick:j,variant:"secondary-line"},{default:d(()=>e[38]||(e[38]=[O("닫기")])),_:1})]),default:d(()=>[n(te,null,{default:d(()=>[n(C,{label:"역량항목"},{default:d(()=>[n(x,{modelValue:o.value.name,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.name=a),placeholder:"역량항목을 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"구분"},{default:d(()=>[n(F,{modelValue:o.value.category,"onUpdate:modelValue":[e[8]||(e[8]=a=>o.value.category=a),Z],options:X.value,placeholder:"구분을 선택해주세요."},null,8,["modelValue","options"])]),_:1}),o.value.category==="일반"?(t(),S(C,{key:0,label:"역량정의"},{default:d(()=>[n(E,{modelValue:o.value.standard,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.standard=a),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1})):o.value.category!=="BOS"?(t(),s(k,{key:1},[n(C,{label:"역량정의"},{default:d(()=>[n(E,{modelValue:o.value.standard,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.standard=a),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"수준/점수"},{default:d(()=>[n(x,{modelValue:o.value.level,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.level=a),modelModifiers:{number:!0},type:"number",placeholder:"수준/점수를 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"가중치"},{default:d(()=>[n(x,{modelValue:o.value.weight,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.weight=a),modelModifiers:{number:!0},type:"number",placeholder:"가중치를 입력해주세요."},null,8,["modelValue"])]),_:1})],64)):(t(),S(H,{key:2,modelValue:o.value.behaviors,"onUpdate:modelValue":e[15]||(e[15]=a=>o.value.behaviors=a),editable:"",sortable:""},{colgroup:d(()=>e[31]||(e[31]=[l("col",{style:{width:"20px"}},null,-1),l("col",{style:{width:"auto"}},null,-1),l("col",{style:{width:"15%"}},null,-1),l("col",{style:{width:"10%"}},null,-1)])),header:d(({selectAll:a,isAllSelected:f,sortable:g})=>[l("tr",null,[l("th",null,[n(B,{size:"large",onClick:e[13]||(e[13]=U(()=>{},["stop"])),modelValue:f,"onUpdate:modelValue":a},null,8,["modelValue","onUpdate:modelValue"])]),e[32]||(e[32]=l("th",null,"행동수준 설명",-1)),e[33]||(e[33]=l("th",null,"수준/점수",-1)),e[34]||(e[34]=l("th",null,"가중치",-1))])]),body:d(({rows:a,toggleRowSelection:f,isRowSelected:g,handleDragStart:T,handleDragOver:A,handleDrop:L,handleDragEnd:G,sortable:_,editable:r})=>[(t(!0),s(k,null,D(a,(m,i)=>(t(),s("tr",{key:i,draggable:_,onDragstart:p=>T(p,i),onDragover:p=>A(p),onDrop:p=>L(p,i),onDragend:G,class:h({"sortable-row":_})},[l("td",null,[n(B,{modelValue:g(m),"onUpdate:modelValue":p=>f(m),size:"large",onClick:e[14]||(e[14]=U(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]),l("td",null,[r?(t(),S(E,{key:0,modelValue:m.description,"onUpdate:modelValue":p=>m.description=p,placeholder:"행동수준 설명을 입력해주세요.",rows:"3"},null,8,["modelValue","onUpdate:modelValue"])):(t(),s("div",Ye,c(m.description),1))]),l("td",null,[r?(t(),s("div",je,[n(x,{modelValue:m.level,"onUpdate:modelValue":p=>m.level=p,modelModifiers:{number:!0},type:"number",placeholder:"수준",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"]),e[35]||(e[35]=l("span",null,"/",-1)),n(x,{modelValue:m.score,"onUpdate:modelValue":p=>m.score=p,modelModifiers:{number:!0},type:"number",placeholder:"점수",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"])])):(t(),s("div",qe,c(m.level)+"/"+c(m.score),1))]),l("td",null,[r?(t(),S(x,{key:0,modelValue:m.weight,"onUpdate:modelValue":p=>m.weight=p,modelModifiers:{number:!0},type:"number",placeholder:"가중치"},null,8,["modelValue","onUpdate:modelValue"])):(t(),s("div",He,c(m.weight),1))])],42,Je))),128)),a.length===0?(t(),s("tr",Ke,e[36]||(e[36]=[l("td",{colspan:"4",class:"text-center py-4"}," 행동수준이 없습니다. '행 추가' 버튼을 클릭하여 추가해주세요. ",-1)]))):w("",!0)]),_:1},8,["modelValue"]))]),_:1})]),_:1},8,["modelValue","title"])],64)}}};export{sl as default};
