import{U as B}from"./Ba5TBZ1K.js";import O from"./BWDVDft3.js";import{_ as D,r as h,z as U,B as N,f as z,C as E,c,o,a as n,h as L,F as g,g as f,y as M,t as k,b as T,D as A,l as F,n as y,s as r,d as I}from"./DYJ6fwiu.js";const $={class:"ui-multi-select__tags"},j={key:1,class:"ui-multi-select__placeholder"},q=["onClick"],G={class:"ui-multi-select__checkbox"},H=["checked"],J={key:0,class:"ui-multi-select__no-options"},K={__name:"UiMultiSelect",props:{options:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},placeholder:{type:String,default:"선택하세요"},tagVariant:{type:String,default:"primary"}},emits:["update:modelValue"],setup(i,{emit:x}){const u=i,d=x,a=h(!1),l=h([...u.modelValue]),m=U(()=>u.options.filter(e=>l.value.includes(e.value))),_=e=>l.value.includes(e.value),V=e=>{const t=l.value.indexOf(e.value);t===-1?l.value.push(e.value):l.value.splice(t,1),d("update:modelValue",l.value)},w=e=>{const t=l.value.indexOf(e.value);t!==-1&&(l.value.splice(t,1),d("update:modelValue",l.value))},v=()=>{a.value=!a.value},p=e=>{e.target.closest(".ui-multi-select")||(a.value=!1)};return N(()=>u.modelValue,e=>{l.value=[...e]},{deep:!0}),z(()=>{document.addEventListener("click",p)}),E(()=>{document.removeEventListener("click",p)}),(e,t)=>{const C=B,S=O;return o(),c("div",{class:r(["ui-multi-select",{"is-open":a.value}])},[n("div",$,[n("div",{class:"ui-multi-select__tags-container",onClick:v},[m.value.length>0?(o(!0),c(g,{key:0},f(m.value,s=>(o(),M(C,{key:s.value,text:s.label,variant:i.tagVariant,size:"small",closable:"",onClose:b=>w(s)},null,8,["text","variant","onClose"]))),128)):(o(),c("div",j,k(i.placeholder),1))]),n("div",{class:"ui-multi-select__dropdown-toggle",onClick:v},[T(S,{name:a.value?"heroicons:chevron-up":"heroicons:chevron-down",class:"ui-multi-select__toggle-icon"},null,8,["name"])])]),L(n("div",{class:r(["ui-multi-select__dropdown",{"ui-multi-select__dropdown--open":a.value}])},[(o(!0),c(g,null,f(i.options,s=>(o(),c("div",{key:s.value,class:r(["ui-multi-select__option",{"ui-multi-select__option--selected":_(s)}]),onClick:y(b=>V(s),["stop"])},[n("span",G,[n("input",{type:"checkbox",checked:_(s),onClick:t[0]||(t[0]=y(()=>{},["stop"]))},null,8,H),t[1]||(t[1]=n("span",{class:"ui-multi-select__checkmark"},null,-1))]),I(" "+k(s.label),1)],10,q))),128)),i.options.length===0?(o(),c("div",J," 옵션이 없습니다 ")):F("",!0)],2),[[A,a.value]])],2)}}},W=D(K,[["__scopeId","data-v-ace8c3ae"]]);export{W as _};
