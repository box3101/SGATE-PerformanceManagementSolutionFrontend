import S from"./C6VqKUXb.js";import{_ as T,r as k,c as m,n as x,a as e,m as n,b as o,p as W,w as i,F as P,k as $,t as C,d as f,C as D,o as d,l as E,H}from"./B-YgnUKQ.js";import{U as q}from"./BM74MotV.js";import{_ as K}from"./JoPO-qzi.js";import{U as X}from"./CrAGl1FQ.js";import{_ as p}from"./CBG10ph4.js";import{_ as z}from"./BTrq_Go4.js";import{_ as Y}from"./BNdY19iv.js";import{U as j,a as G}from"./Bm3Hv_Rv.js";const J={class:"task-card-wrapper"},O={class:"card-actions"},Q={class:"flex gap-5"},R={class:"flex gap-5"},Z={key:0,class:"card-tags"},tt={class:"card-content"},et={class:"card-title"},ot={class:"card-footer"},nt={class:"card-stats"},it={class:"card-comments"},st={class:"card-attachments"},at={class:"card-date"},rt={__name:"CategoryCard",props:{title:{type:String,default:"업무명이 들어가는 공간입니다."},tags:{type:Array,default:()=>[]},date:{type:String,default:""},comments:{type:Number,default:0},attachments:{type:Number,default:0},cardId:{type:[Number,String],required:!0},favorite:{type:Boolean,default:!1}},emits:["click","openInNewWindow","toggleFavorite","taskAction"],setup(a,{emit:F}){const c=a,v=F,b=k(!1),_=k({top:"0px",left:"0px"}),u=k(c.favorite),l=k(!1),N=[{title:"업무 이동",isAccordion:!0},{title:"업무 전달",isAccordion:!0},{title:"업무 합치기",isAccordion:!0},{title:"업무 삭제",isAccordion:!1,icon:"mdi:delete-outline",action:()=>h("delete")}];function A(s){if(!l.value){if(s.shiftKey){w();return}v("click",c.cardId)}}function M(s){_.value={top:`${s.offsetY}px`,left:`${s.offsetX}px`},b.value=!0,document.addEventListener("click",y,{once:!0}),s.preventDefault()}function y(){b.value=!1}function w(){v("openInNewWindow",c.cardId),y()}function U(){u.value=!u.value,v("toggleFavorite",c.cardId,u.value)}function V(){l.value=!0}function I(){l.value=!1}function h(s,t=null){v("taskAction",{cardId:c.cardId,action:s,subAction:t}),I()}function B(s){const t=s.toLowerCase();return t.includes("디자인")?{variant:"primary"}:t.includes("ui")||t.includes("ux")?{variant:"info"}:t.includes("테스트")?{variant:"warning"}:t.includes("버그")||t.includes("오류")?{variant:"danger"}:t.includes("완료")||t.includes("성공")?{variant:"success"}:t.includes("프론트엔드")?{variant:"custom",backgroundColor:"#61dafb",textColor:"#003545",borderColor:"#61dafb"}:t.includes("백엔드")?{variant:"custom",backgroundColor:"#6c5ce7",textColor:"white",borderColor:"#6c5ce7"}:t.includes("모바일")?{variant:"custom",backgroundColor:"#fdcb6e",textColor:"#805b00",borderColor:"#fdcb6e"}:t.includes("시스템")?{variant:"custom",backgroundColor:"#00b894",textColor:"white",borderColor:"#00b894"}:{variant:"default"}}return(s,t)=>{const r=S;return d(),m("div",J,[l.value?(d(),m("div",{key:0,class:"dim-background",onClick:n(I,["stop"])})):x("",!0),e("div",{class:"task-card",onClick:A,onContextmenu:n(M,["prevent"])},[e("div",O,[e("button",{class:"action-btn favorite-btn",onClick:n(U,["stop"])},[o(r,{name:u.value?"mdi:star":"mdi:star-outline",size:"16",class:W({"star-active":u.value})},null,8,["name","class"])]),e("button",{class:"action-btn filter-btn",onClick:n(V,["stop"])},[o(r,{name:"mdi:dots-vertical",size:"16"})])]),o(X,{modelValue:l.value,"onUpdate:modelValue":t[9]||(t[9]=g=>l.value=g),position:"right",size:"small",title:"업무 메뉴",hideHeader:!0,onClick:t[10]||(t[10]=n(()=>{},["stop"]))},{default:i(()=>[e("div",{onClick:t[8]||(t[8]=n(()=>{},["stop"]))},[o(K,{menuItems:N},{"content-1":i(()=>[e("div",{onClick:t[1]||(t[1]=n(()=>{},["stop"]))},[o(Y,{placeholder:"제조공정"}),o(p,{class:"mt-5",variant:"tertiary",icon:"heroicons:arrow-right","icon-position":"right",block:"",onClick:t[0]||(t[0]=n(()=>{},["stop"]))},{default:i(()=>t[11]||(t[11]=[f(" 이동 ")])),_:1})])]),"content-2":i(()=>[e("div",{onClick:t[4]||(t[4]=n(()=>{},["stop"]))},[e("div",Q,[o(z,{placeholder:"조회 및 선택하세요",icon:"heroicons:magnifying-glass"}),o(p,{variant:"tertiary","icon-only":"",onClick:t[2]||(t[2]=n(()=>{},["stop"]))},{default:i(()=>[o(r,{name:"heroicons:magnifying-glass",size:"20"})]),_:1})]),o(p,{class:"mt-5",variant:"tertiary",block:"",onClick:t[3]||(t[3]=n(()=>{},["stop"]))},{default:i(()=>t[12]||(t[12]=[f(" 전달 ")])),_:1})])]),"content-3":i(()=>[e("div",{onClick:t[7]||(t[7]=n(()=>{},["stop"]))},[t[14]||(t[14]=e("p",{class:"mb-9"},"업무 합치기 대상 선택",-1)),o(j,null,{default:i(()=>[o(G,{label:"업무",minWidth:"min-w-10"},{default:i(()=>[e("div",R,[o(z,{placeholder:"조회 및 선택하세요"}),o(p,{variant:"tertiary","icon-only":"",onClick:t[5]||(t[5]=n(()=>{},["stop"]))},{default:i(()=>[o(r,{name:"heroicons:magnifying-glass",size:"20"})]),_:1})])]),_:1})]),_:1}),o(p,{class:"mt-5",variant:"tertiary",block:"",onClick:t[6]||(t[6]=n(()=>{},["stop"]))},{default:i(()=>t[13]||(t[13]=[f(" 합치기 ")])),_:1})])]),_:1})])]),_:1},8,["modelValue"]),a.tags&&a.tags.length>0?(d(),m("div",Z,[(d(!0),m(P,null,$(a.tags,(g,L)=>(d(),E(q,H({key:L,text:g,ref_for:!0},B(g),{size:"small"}),null,16,["text"]))),128))])):x("",!0),e("div",tt,[e("p",et,C(a.title),1)]),e("div",ot,[e("div",nt,[e("span",it,[o(r,{name:"mdi:comment-outline",size:"14"}),f(" "+C(a.comments||0),1)]),e("span",st,[o(r,{name:"mdi:paperclip",size:"14"}),f(" "+C(a.attachments||0),1)])]),e("span",at,C(a.date),1)]),b.value?(d(),m("div",{key:1,class:"card-context-menu",style:D(_.value)},[e("div",{class:"menu-item",onClick:n(w,["stop"])},[o(r,{name:"mdi:open-in-new",size:"16"}),t[15]||(t[15]=e("span",null,"새 창으로 열기",-1))]),e("div",{class:"menu-item",onClick:n(y,["stop"])},[o(r,{name:"mdi:close",size:"16"}),t[16]||(t[16]=e("span",null,"닫기",-1))])],4)):x("",!0)],32)])}}},kt=T(rt,[["__scopeId","data-v-34aa3c3f"]]);export{kt as default};
