import we from"./CSuBt88m.js";import{_ as Oe}from"./Da4AWjYq.js";import{_ as Be}from"./DIoBCwY1.js";import{a as Ne,b as Ie}from"./BYaQFQt8.js";import{a as Pe,_ as Xe}from"./Bt-a9ClQ.js";import{_ as Ee}from"./CY9S9B5w.js";import{_ as Ye,a as je}from"./BXTlxQ7a.js";import{_ as ze,z as fe,r as z,c as u,o as c,a as e,t as x,n as L,s as Ge,l as W,b as a,F as U,g as V,e as N,f as Qe,A as Ze,w as p,y as q,d as T,p as qe,B as xe}from"./DQ1GgUUl.js";import Je from"./1q4851zk.js";import{C as Ke,U as ge}from"./RgF4iNoj.js";import{U as le}from"./TklQpP4V.js";const et={class:"ui-attachment"},tt={class:"attachment-section"},st={class:"section-header"},nt={class:"section-title"},it={class:"section-content"},ot={class:"file-upload-container"},lt={for:"file-upload",class:"file-upload-label"},at={key:0,class:"file-info"},dt={class:"file-info-text"},ct={key:1,class:"uploaded-files-list"},rt={class:"file-info-text"},ut={class:"file-name"},mt=["onClick"],ht={__name:"UiAttachment",props:{title:{type:String,default:"파일첨부"},modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(J,{emit:C}){const K=J,I=C,b=fe({get:()=>K.modelValue,set:v=>I("update:modelValue",v)}),A=z(!1),f=fe(()=>b.value.reduce((m,w)=>m+w.size,0).toLocaleString());function H(v){const m=Array.from(v.target.files);S(m),v.target.value=""}function Y(v){A.value=!0}function j(v){A.value=!1}function B(v){A.value=!1;const m=Array.from(v.dataTransfer.files);S(m)}function S(v){if(v.length>0){const m=[...b.value,...v];if(m.length>5){alert("최대 5개 파일까지만 업로드 가능합니다.");return}if(m.reduce((O,r)=>O+r.size,0)>52428800){alert("총 파일 크기는 50MB를 초과할 수 없습니다.");return}b.value=m}}function D(v){const m=[...b.value];m.splice(v,1),b.value=m}return(v,m)=>{const w=we;return c(),u("div",et,[e("div",tt,[e("div",st,[e("span",nt,x(J.title),1)]),e("div",it,[e("div",{class:"attachment-container",onDragleave:L(j,["prevent"]),onDrop:L(B,["prevent"]),onDragover:L(Y,["prevent"])},[e("div",{class:Ge(["attachment-content",{"drag-over":A.value}])},[e("div",ot,[e("label",lt,[a(w,{name:"mdi:plus",size:"20"}),m[0]||(m[0]=e("span",null,"클릭하거나 드래그해서 파일을 추가하세요.",-1))]),e("input",{id:"file-upload",type:"file",class:"file-upload-input",multiple:"",onChange:H},null,32)]),b.value.length===0?(c(),u("div",at,[e("div",dt,[a(w,{name:"mdi:file-outline",size:"24",class:"file-icon"}),m[1]||(m[1]=e("span",null,"파일 개수 : 0 / 5　　Total Size : 0 / 52,428,800 bytes",-1))]),m[2]||(m[2]=e("div",{class:"file-formats"},[e("span",null,"첨부 허용 확장자 : jpg,jpeg,gif,png,bmp,txt,pdf,xls,xlsx,ppt,pptx,doc,docx,hwp,zip,7z,rar,alz,hwpx,heic,avi,mp4")],-1))])):W("",!0),b.value.length>0?(c(),u("div",ct,[e("div",rt,[e("span",null,"파일 개수 : "+x(b.value.length)+" / 5　　Total Size : "+x(f.value)+" / 52,428,800 bytes",1)]),(c(!0),u(U,null,V(b.value,(O,r)=>(c(),u("div",{key:r,class:"uploaded-file-item"},[e("span",ut,x(O.name),1),e("button",{class:"file-delete-btn",onClick:ae=>D(r)},[a(w,{name:"mdi:close",size:"16"})],8,mt)]))),128))])):W("",!0)],2)],32)])])])}}},ye=ze(ht,[["__scopeId","data-v-5039af0e"]]),pt={class:"task-board-page"},vt={class:"board-content"},_t={class:"categories-container"},ft={key:0,class:"empty-category"},xt={class:"add-placeholder-icon"},gt={key:0},yt={key:1},wt={class:"empty-category"},zt={class:"add-placeholder-icon"},bt={class:"category-column"},Mt={class:"category-header"},kt={class:"category-actions"},$t={class:"edit-title-btn"},Lt={class:"flex gap-5"},Dt={class:"flex gap-5"},Ut={class:"flex gap-5 justify-end"},Vt={class:"activity-content"},At={class:"flex justify-between gap-5 mb-4"},St={class:"flex gap-10 items-center"},Tt={class:"flex gap-20 items-center"},Ct={class:"flex justify-between items-center mt-20 pt-10",style:{"border-top":"1px solid #eee"}},Rt={class:"attachment-btn"},Ft={key:0,class:"card-detail"},Wt={class:"card-detail-header"},Ht={class:"card-detail-title"},Ot={class:"card-detail-tags"},Bt={class:"card-detail-content"},Nt={class:"card-comments-section"},It={class:"comment-input-container"},Pt={class:"comments-list"},Xt={class:"comment-header"},Et={class:"comment-author"},Yt={class:"comment-author-name"},jt={class:"comment-date"},Gt={class:"comment-body"},Qt={class:"comment-actions-row"},Zt=["onClick"],qt={key:0,class:"reply-form"},Jt={class:"reply-form-actions"},Kt=["onClick"],es={key:1,class:"replies-list"},ts={class:"reply-header"},ss={class:"reply-author"},ns={class:"reply-author-name"},is={class:"reply-date"},os={class:"reply-body"},ls=["onMousedown"],as={class:"detached-modal-title"},ds={class:"detached-modal-actions"},cs=["onClick"],rs=["onClick"],us={class:"detached-modal-body"},ms={class:"card-detail"},hs={class:"card-detail-header"},ps={class:"card-detail-tags"},vs={class:"card-detail-info"},_s={class:"info-item"},fs={class:"info-value"},xs={class:"info-item"},gs={class:"info-value"},ys={class:"info-item"},ws={class:"info-value"},zs={class:"card-detail-content"},bs={class:"card-comments-section"},Ms={class:"comment-input-container"},ks={class:"comment-actions"},$s=["onClick"],Ls={class:"comments-list"},Ds={class:"comment-header"},Us={class:"comment-author"},Vs={class:"comment-author-name"},As={class:"comment-date"},Ss={class:"comment-body"},Ts={class:"comment-actions-row"},Cs=["onClick"],Rs={key:0,class:"reply-form"},Fs={class:"reply-form-actions"},Ws=["onClick"],Hs=["onClick"],Os={key:1,class:"replies-list"},Bs={class:"reply-header"},Ns={class:"reply-author"},Is={class:"reply-author-name"},Ps={class:"reply-date"},Xs={class:"reply-body"},Es=["onMousedown"],Ys=["onMousedown"],js=["onMousedown"],Gs=["onMousedown"],Qs=["onMousedown"],Zs=["onMousedown"],qs=["onMousedown"],Js=["onMousedown"],Ks={class:"attachment-modal-content"},en={class:"attachment-actions flex justify-end"},tn={__name:"TaskBoard",setup(J){const C=z([{id:1,title:"할 일",cards:[{id:1,title:"디자인 시스템 구축",tags:["디자인","UI/UX"],date:"2023-09-15",comments:3,attachments:2,commentsList:[{id:"comment-1",author:"김윤기",date:"2023-09-10 14:30",text:"디자인 시스템 초안 완료했습니다. 리뷰 부탁드립니다.",replies:[]},{id:"comment-2",author:"이지은",date:"2023-09-11 09:15",text:"컬러 팔레트 부분 조금 수정이 필요할 것 같습니다. 미팅에서 논의해요.",replies:[{id:"reply-1",author:"김윤기",date:"2023-09-11 10:30",text:"네, 미팅에서 논의하겠습니다. 추가 의견 있으시면 미리 공유해주세요."}]}]},{id:2,title:"사용자 피드백 수집",tags:["리서치","사용자경험"],date:"2023-09-20",comments:1,attachments:0,commentsList:[{id:"comment-4",author:"최수진",date:"2023-09-18 11:20",text:"설문조사 양식 초안 작성했습니다. 검토 부탁드려요.",replies:[]}]},{id:5,title:"프로토타입 제작",tags:["디자인","프로토타입"],date:"2023-09-30",comments:0,attachments:1,commentsList:[]},{id:6,title:"사용성 테스트 계획",tags:["테스트","QA"],date:"2023-10-05",comments:0,attachments:0,commentsList:[]},{id:7,title:"경쟁사 분석 보고서",tags:["리서치","분석"],date:"2023-10-10",comments:0,attachments:0,commentsList:[]}]},{id:2,title:"진행 중",cards:[{id:3,title:"랜딩 페이지 개발",tags:["프론트엔드","개발"],date:"2023-09-25",comments:2,attachments:3,commentsList:[{id:"comment-5",author:"김개발",date:"2023-09-22 10:30",text:"헤더 부분 반응형 이슈가 있습니다. 수정 중입니다.",replies:[]},{id:"comment-6",author:"이디자인",date:"2023-09-23 15:45",text:"모바일 뷰에서 버튼 크기 조정이 필요합니다.",replies:[]}]},{id:8,title:"API 연동 작업",tags:["백엔드","API"],date:"2023-10-15",comments:1,attachments:0,commentsList:[{id:"comment-7",author:"박서버",date:"2023-10-12 09:30",text:"인증 API 문서 업데이트했습니다. 참고해주세요.",replies:[]}]},{id:9,title:"데이터 시각화 구현",tags:["데이터","차트"],date:"2023-10-20",comments:0,attachments:1,commentsList:[]}]},{id:3,title:"완료",cards:[{id:4,title:"로그인 기능 구현",tags:["백엔드","보안"],date:"2023-09-10",comments:0,attachments:1,commentsList:[]},{id:10,title:"회원가입 페이지 개발",tags:["프론트엔드","UI"],date:"2023-09-05",comments:0,attachments:0,commentsList:[]},{id:11,title:"DB 스키마 설계",tags:["데이터베이스","설계"],date:"2023-08-28",comments:2,attachments:1,commentsList:[{id:"comment-8",author:"김데이터",date:"2023-08-25 11:20",text:"인덱스 최적화 작업 완료했습니다.",replies:[]},{id:"comment-9",author:"이백엔드",date:"2023-08-26 14:30",text:"쿼리 성능 테스트 결과 첨부합니다.",replies:[]}]}]}]),K=[{title:"속성",isAccordion:!0,initialOpen:!1,items:[],action:()=>{}},{title:"활동",isAccordion:!0,initialOpen:!0,items:[],action:()=>{}}],I=z(!0),b=z(!0),A=z(!1),f=z(null),H=z(""),Y=z(null),j=N({}),B=N({}),S=z(null),D=z(""),v=z(null),m=N({}),w=N({}),O=N({}),r=z([]),ae=N({});let ee=!1,P=null,te={x:0,y:0},se=!1,X=null,de="",ne={x:0,y:0},_={width:0,height:0},$={x:0,y:0};const ce=z([]),re=z([]);function be(){I.value=!0}function ue(){b.value=!0}function Me(i){f.value=i,A.value=!0}function me(i){if(!i||r.value.findIndex(y=>y.card.id===i.id)!==-1)return;A.value=!1;const s=r.value.length*30,o=window.innerWidth,d=window.innerHeight,h={id:`detached-${i.id}-${Date.now()}`,card:{...i},position:{x:Math.min((o-500)/2+s,o-550),y:Math.min((d-600)/2+s,d-650)},size:{width:500,height:600},isMaximized:!1,originalSize:{width:500,height:600},originalPosition:{x:(o-500)/2+s,y:(d-600)/2+s},style:{left:`${Math.min((o-500)/2+s,o-550)}px`,top:`${Math.min((d-600)/2+s,d-650)}px`,width:"500px",height:"600px",zIndex:1e3+r.value.length}};r.value.push(h)}function ke(i){const t=r.value.findIndex(s=>s.id===i);t!==-1&&r.value.splice(t,1)}function $e(i){const t=r.value.findIndex(o=>o.id===i);if(t===-1)return;const s=r.value[t];s.isMaximized?(s.size={...s.originalSize},s.position={...s.originalPosition},s.isMaximized=!1):(s.originalSize={...s.size},s.originalPosition={...s.position},s.size={width:window.innerWidth-40,height:window.innerHeight-40},s.position={x:20,y:20},s.isMaximized=!0),ie(i)}function Le(i,t){const s=r.value.findIndex(d=>d.id===t);if(s===-1)return;const o=r.value[s];o.isMaximized||(ee=!0,P=t,te={x:i.clientX-o.position.x,y:i.clientY-o.position.y},he(t),i.preventDefault())}function R(i,t,s){const o=r.value.findIndex(h=>h.id===t);if(o===-1)return;const d=r.value[o];d.isMaximized||(se=!0,X=t,de=s,ne={x:i.clientX,y:i.clientY},_={width:d.size.width,height:d.size.height},$={x:d.position.x,y:d.position.y},he(t),i.preventDefault())}function he(i){let t=1e3;r.value.forEach(o=>{const d=parseInt(o.style.zIndex);d>t&&(t=d)});const s=r.value.findIndex(o=>o.id===i);s!==-1&&(r.value[s].style.zIndex=(t+1).toString())}function pe(i){if(ee&&P){const t=r.value.findIndex(M=>M.id===P);if(t===-1)return;const s=r.value[t],o=i.clientX-te.x,d=i.clientY-te.y,h=window.innerWidth-s.size.width,y=window.innerHeight-s.size.height;s.position={x:Math.max(0,Math.min(o,h)),y:Math.max(0,Math.min(d,y))},ie(P)}else if(se&&X){const t=r.value.findIndex(M=>M.id===X);if(t===-1)return;const s=r.value[t],o=i.clientX-ne.x,d=i.clientY-ne.y,h=300,y=200;switch(de){case"se":s.size={width:Math.max(h,_.width+o),height:Math.max(y,_.height+d)};break;case"sw":const M=Math.max(h,_.width-o);s.position={x:$.x-(M-_.width),y:$.y},s.size={width:M,height:Math.max(y,_.height+d)};break;case"ne":const F=Math.max(y,_.height-d);s.position={x:$.x,y:$.y-(F-_.height)},s.size={width:Math.max(h,_.width+o),height:F};break;case"nw":const Q=Math.max(h,_.width-o),Z=Math.max(y,_.height-d);s.position={x:$.x-(Q-_.width),y:$.y-(Z-_.height)},s.size={width:Q,height:Z};break;case"n":const n=Math.max(y,_.height-d);s.position={x:$.x,y:$.y-(n-_.height)},s.size={width:_.width,height:n};break;case"s":s.size={width:_.width,height:Math.max(y,_.height+d)};break;case"e":s.size={width:Math.max(h,_.width+o),height:_.height};break;case"w":const g=Math.max(h,_.width-o);s.position={x:$.x-(g-_.width),y:$.y},s.size={width:g,height:_.height};break}ie(X)}}function ve(){ee=!1,se=!1,P=null,X=null}function ie(i){const t=r.value.findIndex(o=>o.id===i);if(t===-1)return;const s=r.value[t];s.style={...s.style,left:`${s.position.x}px`,top:`${s.position.y}px`,width:`${s.size.width}px`,height:`${s.size.height}px`}}Qe(()=>{window.addEventListener("mousemove",pe),window.addEventListener("mouseup",ve)}),Ze(()=>{window.removeEventListener("mousemove",pe),window.removeEventListener("mouseup",ve)});function oe(){console.log("새 카테고리 추가"),C.value.push({id:C.value.length+1,title:"카테고리 "+(C.value.length+1),cards:[]})}function De(){if(!H.value.trim()||!f.value)return;f.value.commentsList||(f.value.commentsList=[]);const i={id:`comment-${Date.now()}`,author:"김윤기",date:new Date().toLocaleString(),text:H.value.trim(),replies:[]};f.value.commentsList.push(i),f.value.comments=f.value.commentsList.length,H.value="",G(f.value)}function Ue(i){const t=B[i];if(!t||!t.trim())return;const s=r.value.findIndex(h=>h.id===i);if(s===-1)return;const o=r.value[s].card;o.commentsList||(o.commentsList=[]);const d={id:`comment-${Date.now()}`,author:"김윤기",date:new Date().toLocaleString(),text:t.trim(),replies:[]};o.commentsList.push(d),o.comments=o.commentsList.length,B[i]="",G(o)}function Ve(i){S.value===i?(S.value=null,D.value=""):(S.value=i,D.value="",xe(()=>{v.value&&v.value.focus()}))}function Ae(i,t){m[i]===t?(m[i]=null,w[i]=""):(m[i]=t,w[i]="",xe(()=>{const s=O[`${i}-${t}`];s&&s.focus()}))}function Se(){S.value=null,D.value=""}function Te(i){m[i]=null,w[i]=""}function Ce(i){if(!D.value.trim()||!f.value)return;const t=f.value.commentsList.findIndex(o=>o.id===i);if(t===-1)return;const s={id:`reply-${Date.now()}`,author:"김윤기",date:new Date().toLocaleString(),text:D.value.trim()};f.value.commentsList[t].replies||(f.value.commentsList[t].replies=[]),f.value.commentsList[t].replies.push(s),S.value=null,D.value="",G(f.value)}function Re(i,t){const s=w[i];if(!s||!s.trim())return;const o=r.value.findIndex(M=>M.id===i);if(o===-1)return;const d=r.value[o].card,h=d.commentsList.findIndex(M=>M.id===t);if(h===-1)return;const y={id:`reply-${Date.now()}`,author:"김윤기",date:new Date().toLocaleString(),text:s.trim()};d.commentsList[h].replies||(d.commentsList[h].replies=[]),d.commentsList[h].replies.push(y),m[i]=null,w[i]="",G(d)}function _e(i,t){const s=t?j[t]:Y.value;if(!s)return;s.style.height="auto";const o=80;s.style.height=`${Math.max(s.scrollHeight,o)}px`}function Fe(){if(!v.value)return;v.value.style.height="auto";const i=60;v.value.style.height=`${Math.max(v.value.scrollHeight,i)}px`}function We(i,t){const s=m[t];if(!s)return;const o=O[`${t}-${s}`];if(!o)return;o.style.height="auto";const d=60;o.style.height=`${Math.max(o.scrollHeight,d)}px`}function G(i){C.value.forEach(t=>{const s=t.cards.findIndex(o=>o.id===i.id);s!==-1&&(t.cards[s].comments=i.comments,t.cards[s].commentsList=[...i.commentsList])})}return(i,t)=>{const s=we,o=Oe,d=Be,h=Ie,y=Pe,M=Ee,F=Xe,Q=Ne,Z=je;return c(),u("div",pt,[a(Je,{onAddCategory:oe}),e("section",vt,[e("ul",_t,[C.value.length===0?(c(),u("div",ft,[e("div",{class:"add-category-placeholder",onClick:oe},[e("div",xt,[a(s,{name:"mdi:plus",size:"24"})]),t[8]||(t[8]=e("p",null,"새 카테고리 추가하기",-1))])])):W("",!0),(c(!0),u(U,null,V(C.value,n=>(c(),q(Ye,{key:n.id,title:n.title,onAddBoard:ue,onOpenMenu:i.openCategoryMenu},{default:p(()=>[n.cards.length>0?(c(),u("div",gt,[(c(!0),u(U,null,V(n.cards,g=>(c(),q(Ke,{key:g.id,title:g.title,tags:g.tags,date:g.date,comments:g.comments,attachments:g.attachments,cardId:g.id,onClick:l=>Me(g),onOpenInNewWindow:l=>me(g)},null,8,["title","tags","date","comments","attachments","cardId","onClick","onOpenInNewWindow"]))),128))])):(c(),u("div",yt,[e("div",wt,[e("div",{class:"add-card-placeholder",onClick:ue},[e("div",zt,[a(s,{name:"mdi:plus",size:"24"})]),t[9]||(t[9]=e("p",null,[T(" 해당 카테고리의 "),e("br"),T(" 첫 업무카드를 등록해보세요. ")],-1))])])]))]),_:2},1032,["title","onOpenMenu"]))),128)),e("li",bt,[e("div",Mt,[t[11]||(t[11]=e("h3",{class:"category-title"},"카테고리 추가",-1)),e("div",kt,[a(o,{variant:"tertiary",size:"small",icon:"heroicons:plus",onClick:oe},{default:p(()=>t[10]||(t[10]=[T(" 카테고리 추가 ")])),_:1})])])])])]),a(le,{modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=n=>b.value=n),position:"right",title:"카드 추가"},{headerActions:p(()=>[e("button",$t,[a(s,{name:"mdi:pencil",size:"16"})])]),default:p(()=>[a(Z,{menuItems:K},{"content-1":p(()=>[a(Q,{showFooter:!0},{footerActions:p(()=>[e("div",Ut,[a(o,null,{default:p(()=>t[12]||(t[12]=[T("등록")])),_:1}),a(o,{variant:"tertiary"},{default:p(()=>t[13]||(t[13]=[T("취소")])),_:1})])]),default:p(()=>[a(h,{label:"카테고리",minWidth:"min-w-10"},{default:p(()=>[a(d,{placeholder:"업무 보드명입니다."})]),_:1}),a(h,{label:"실행기간",minWidth:"min-w-10"},{default:p(()=>[a(y,{isRange:""})]),_:1}),a(h,{label:"협업",minWidth:"min-w-10"},{default:p(()=>[e("div",Lt,[a(M,{placeholder:"협업者の 이름을 입력해주세요"}),a(o,{variant:"tertiary","icon-only":""},{default:p(()=>[a(s,{name:"heroicons:user",size:"20"})]),_:1}),a(o,{variant:"tertiary","icon-only":""},{default:p(()=>[a(s,{name:"heroicons:magnifying-glass",size:"20"})]),_:1})])]),_:1}),a(h,{label:"공유",minWidth:"min-w-10"},{default:p(()=>[e("div",Dt,[a(M,{placeholder:"공유者の 이름을 입력해주세요"}),a(o,{variant:"tertiary","icon-only":""},{default:p(()=>[a(s,{name:"heroicons:user",size:"20"})]),_:1}),a(o,{variant:"tertiary","icon-only":""},{default:p(()=>[a(s,{name:"heroicons:magnifying-glass",size:"20"})]),_:1})])]),_:1}),a(h,{label:"내용",minWidth:"min-w-10"},{default:p(()=>[a(F,{placeholder:"업무에 대한 구체적인 내용을 입력해주세요."})]),_:1})]),_:1})]),"content-2":p(()=>[e("div",Vt,[e("div",At,[e("div",St,[t[14]||(t[14]=e("p",{class:"flex-none"},"일자",-1)),a(y,{placeholder:"날짜 선택"})]),e("div",Tt,[t[15]||(t[15]=e("p",{class:"flex-none"},"업무상태",-1)),a(d,{placeholder:"선택하세요",class:"w-200"}),t[16]||(t[16]=e("p",{class:"flex-none"},"진행만족도",-1)),a(d,{placeholder:"선택하세요",class:"w-200"})])]),t[18]||(t[18]=e("div",{class:"editor-container mt-10 my-4",style:{height:"200px",border:"1px solid #141212"}},null,-1)),e("div",Ct,[e("button",Rt,[a(s,{name:"heroicons:paper-clip",size:"20",onClick:be})]),a(o,{variant:"primary"},{default:p(()=>t[17]||(t[17]=[T("저장")])),_:1})])])]),_:1})]),_:1},8,["modelValue"]),a(le,{modelValue:A.value,"onUpdate:modelValue":t[4]||(t[4]=n=>A.value=n),position:"right",title:"카드 상세",size:"medium"},{headerActions:p(()=>[e("button",{class:"detach-modal-btn",onClick:t[1]||(t[1]=n=>me(f.value))},[a(s,{name:"mdi:arrow-expand",size:"16"})])]),default:p(()=>[f.value?(c(),u("div",Ft,[e("div",Wt,[e("h2",Ht,x(f.value.title),1),e("div",Ot,[(c(!0),u(U,null,V(f.value.tags,(n,g)=>(c(),q(ge,{key:g,text:n,size:"small"},null,8,["text"]))),128))])]),e("div",Bt,[e("div",Nt,[t[22]||(t[22]=e("h3",{class:"content-section-title"},"활동내역",-1)),e("div",It,[a(F,{placeholder:"내용을 입력해주세요.",modelValue:H.value,"onUpdate:modelValue":t[2]||(t[2]=n=>H.value=n),rows:"3",onInput:_e,ref_key:"commentTextarea",ref:Y},null,8,["modelValue"]),e("div",{class:"comment-actions"},[e("button",{class:"comment-submit-btn",onClick:De}," 등록 ")])]),e("div",Pt,[(c(!0),u(U,null,V(f.value.commentsList,(n,g)=>(c(),u("div",{key:g,class:"comment-item"},[e("div",Xt,[e("div",Et,[t[19]||(t[19]=e("img",{src:"https://via.placeholder.com/32",alt:"User Avatar",class:"comment-avatar"},null,-1)),e("span",Yt,x(n.author),1)]),e("span",jt,x(n.date),1)]),e("div",Gt,x(n.text),1),e("div",Qt,[e("button",{class:"reply-btn",onClick:l=>Ve(n.id)},[a(s,{name:"mdi:reply",size:"14"}),t[20]||(t[20]=T(" 답글 "))],8,Zt)]),S.value===n.id?(c(),u("div",qt,[a(F,{class:"reply-textarea",placeholder:"답글을 입력해주세요...",modelValue:D.value,"onUpdate:modelValue":t[3]||(t[3]=l=>D.value=l),rows:"2",onInput:Fe,ref_for:!0,ref_key:"replyTextarea",ref:v},null,8,["modelValue"]),e("div",Jt,[e("button",{class:"cancel-btn",onClick:Se}," 취소 "),e("button",{class:"submit-btn",onClick:l=>Ce(n.id)}," 등록 ",8,Kt)])])):W("",!0),n.replies&&n.replies.length>0?(c(),u("div",es,[(c(!0),u(U,null,V(n.replies,(l,E)=>(c(),u("div",{key:E,class:"reply-item"},[e("div",ts,[e("div",ss,[t[21]||(t[21]=e("img",{src:"https://via.placeholder.com/24",alt:"User Avatar",class:"reply-avatar"},null,-1)),e("span",ns,x(l.author),1)]),e("span",is,x(l.date),1)]),e("div",os,x(l.text),1)]))),128))])):W("",!0)]))),128))])])])])):W("",!0)]),_:1},8,["modelValue"]),(c(!0),u(U,null,V(r.value,(n,g)=>(c(),u("div",{key:n.id,class:"detached-modal",style:qe(n.style),ref_for:!0,ref:l=>{l&&(ae[n.id]=l)}},[e("div",{class:"detached-modal-header",onMousedown:l=>Le(l,n.id)},[e("h3",as,x(n.card.title),1),e("div",ds,[e("button",{class:"detached-modal-btn",onClick:l=>$e(n.id)},[a(s,{name:n.isMaximized?"mdi:arrow-collapse":"mdi:arrow-expand",size:"16"},null,8,["name"])],8,cs),e("button",{class:"detached-modal-btn",onClick:l=>ke(n.id)},[a(s,{name:"mdi:close",size:"16"})],8,rs)])],40,ls),e("div",us,[e("div",ms,[e("div",hs,[e("div",ps,[(c(!0),u(U,null,V(n.card.tags,(l,E)=>(c(),q(ge,{key:E,text:l,size:"small"},null,8,["text"]))),128))])]),e("div",vs,[e("div",_s,[t[23]||(t[23]=e("span",{class:"info-label"},"기간",-1)),e("span",fs,x(n.card.date),1)]),e("div",xs,[t[24]||(t[24]=e("span",{class:"info-label"},"댓글",-1)),e("span",gs,x(n.card.comments||0),1)]),e("div",ys,[t[25]||(t[25]=e("span",{class:"info-label"},"첨부파일",-1)),e("span",ws,x(n.card.attachments||0),1)])]),e("div",zs,[e("div",bs,[t[29]||(t[29]=e("h3",{class:"content-section-title"},"활동내역",-1)),e("div",Ms,[a(F,{class:"comment-textarea",placeholder:"내용을 입력해주세요.",modelValue:B[n.id],"onUpdate:modelValue":l=>B[n.id]=l,rows:"3",onInput:l=>_e(l,n.id),ref_for:!0,ref:l=>{l&&(j[n.id]=l)}},null,8,["modelValue","onUpdate:modelValue","onInput"]),e("div",ks,[e("button",{class:"comment-submit-btn",onClick:l=>Ue(n.id)}," 등록 ",8,$s)])]),e("div",Ls,[(c(!0),u(U,null,V(n.card.commentsList,(l,E)=>(c(),u("div",{key:E,class:"comment-item"},[e("div",Ds,[e("div",Us,[t[26]||(t[26]=e("img",{src:"https://via.placeholder.com/32",alt:"User Avatar",class:"comment-avatar"},null,-1)),e("span",Vs,x(l.author),1)]),e("span",As,x(l.date),1)]),e("div",Ss,x(l.text),1),e("div",Ts,[e("button",{class:"reply-btn",onClick:k=>Ae(n.id,l.id)},[a(s,{name:"mdi:reply",size:"14"}),t[27]||(t[27]=T(" 답글 "))],8,Cs)]),m[n.id]===l.id?(c(),u("div",Rs,[a(F,{placeholder:"답글을 입력해주세요...",modelValue:w[n.id],"onUpdate:modelValue":k=>w[n.id]=k,rows:"2",onInput:k=>We(k,n.id),ref_for:!0,ref:k=>{k&&(O[`${n.id}-${l.id}`]=k)}},null,8,["modelValue","onUpdate:modelValue","onInput"]),e("div",Fs,[e("button",{class:"cancel-btn",onClick:k=>Te(n.id)}," 취소 ",8,Ws),e("button",{class:"submit-btn",onClick:k=>Re(n.id,l.id)}," 등록 ",8,Hs)])])):W("",!0),l.replies&&l.replies.length>0?(c(),u("div",Os,[(c(!0),u(U,null,V(l.replies,(k,He)=>(c(),u("div",{key:He,class:"reply-item"},[e("div",Bs,[e("div",Ns,[t[28]||(t[28]=e("img",{src:"https://via.placeholder.com/24",alt:"User Avatar",class:"reply-avatar"},null,-1)),e("span",Is,x(k.author),1)]),e("span",Ps,x(k.date),1)]),e("div",Xs,x(k.text),1)]))),128))])):W("",!0)]))),128))])])])])]),e("div",{class:"resize-handle resize-handle-se",onMousedown:L(l=>R(l,n.id,"se"),["stop"])},null,40,Es),e("div",{class:"resize-handle resize-handle-sw",onMousedown:L(l=>R(l,n.id,"sw"),["stop"])},null,40,Ys),e("div",{class:"resize-handle resize-handle-ne",onMousedown:L(l=>R(l,n.id,"ne"),["stop"])},null,40,js),e("div",{class:"resize-handle resize-handle-nw",onMousedown:L(l=>R(l,n.id,"nw"),["stop"])},null,40,Gs),e("div",{class:"resize-handle resize-handle-n",onMousedown:L(l=>R(l,n.id,"n"),["stop"])},null,40,Qs),e("div",{class:"resize-handle resize-handle-s",onMousedown:L(l=>R(l,n.id,"s"),["stop"])},null,40,Zs),e("div",{class:"resize-handle resize-handle-e",onMousedown:L(l=>R(l,n.id,"e"),["stop"])},null,40,qs),e("div",{class:"resize-handle resize-handle-w",onMousedown:L(l=>R(l,n.id,"w"),["stop"])},null,40,Js)],4))),128)),a(le,{modelValue:I.value,"onUpdate:modelValue":t[7]||(t[7]=n=>I.value=n),title:"첨부파일",size:"medium"},{default:p(()=>[e("div",Ks,[a(ye,{modelValue:ce.value,"onUpdate:modelValue":t[5]||(t[5]=n=>ce.value=n),title:"파일첨부",initialOpen:!0},null,8,["modelValue"]),a(ye,{modelValue:re.value,"onUpdate:modelValue":t[6]||(t[6]=n=>re.value=n),title:"Google Drive",initialOpen:!1},null,8,["modelValue"]),e("div",en,[a(o,{onClick:i.saveAttachments},{default:p(()=>t[30]||(t[30]=[T("첨부완료")])),_:1},8,["onClick"])])])]),_:1},8,["modelValue"])])}}},pn=ze(tn,[["__scopeId","data-v-39b9036f"]]);export{pn as default};
