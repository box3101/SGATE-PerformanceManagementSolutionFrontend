import ae from"./C5CqlXUj.js";import ne from"./2BAGbr46.js";import se from"./M_wGEb2T.js";import de from"./BKBweEib.js";import re from"./DshJzqNP.js";import ie from"./Cjvsdr06.js";import ue from"./CtmdrlVQ.js";import pe from"./SiOkeI8V.js";import me from"./BwWQtlyF.js";import ve from"./Cjg3pdtb.js";import{r as f,B as ce,c as s,a as l,b as n,w as d,y as ge,F as w,o as t,d as M,g as $,x as U,k as _,m as h,t as g,C as L}from"./7S7soqi2.js";import"./6_KUV-ko.js";const ye={class:"page-header"},fe={class:"header-left"},Ve={class:"select-group"},ke={class:"select-item"},we={class:"select-item flex items-center"},_e={class:"button-group ml-4 flex items-center gap-4"},Ue={class:"header-right"},be={class:"button-group"},he={class:"flex-container"},xe={class:"w-70p"},De={key:0,width:"40px"},Ce=["width"],$e={key:1,width:"60px"},Be={key:0},Oe={key:1},Me=["onClick","draggable","onDragstart","onDragover","onDrop","onDragend"],ze={key:0},Ne={key:0,class:"row-checkbox"},Ie={key:1,class:"drag-handle"},Se={key:1},Fe=["onClick","draggable","onDragstart","onDragover","onDrop","onDragend"],Te=["rowspan"],Ae={key:0,class:"row-checkbox"},Ee={key:1,class:"drag-handle"},Le=["rowspan"],Ge=["rowspan"],Je=["rowspan"],je=["draggable","onDragstart","onDragover","onDrop","onDragend"],Ye={key:1},qe={key:0,class:"flex items-center gap-2"},He={key:1},Ke={key:1},Pe={key:0},rl={__name:"index",setup(Qe){const j=f("2025"),P=f([{value:"2025",label:"2025년"},{value:"2024",label:"2024년"},{value:"2023",label:"2023년"}]),z=f(!0),N=f(!0),v=f([{key:"name",title:"역량항목",align:"",width:"100px",icon:"edit"},{key:"category",title:"구분",align:"center",width:"100px"},{key:"standard",title:"행동기준/행동수준/역량정의",align:"",width:""},{key:"level",title:"수준/점수",align:"center",width:"100px"},{key:"weight",title:"가중",align:"center",width:"80px"}]),Q=ce(()=>{const r={};return v.value.forEach(e=>{r[e.key]=e.key==="level"||e.key==="weight"?0:""}),r}),x=f([{id:1,name:"리더십",category:"핵심역량",standard:"조직의 목표를 달성하기 위해 구성원들을 이끄는 능력",level:5,weight:20},{id:2,name:"문제해결",category:"직무역량",standard:"복잡한 문제를 분석하고 효과적인 해결책을 도출하는 능력",level:4,weight:15},{id:3,name:"의사소통",category:"기본역량",standard:"정보와 아이디어를 명확하게 전달하고 수용하는 능력",level:3,weight:10},{id:4,name:"전략적 사고",category:"BOS",behaviors:[{description:"사업에 대한 통찰력에 기초하여 2년 이상의 추진 기간이 요구되는 장기적 사업 계획을 기안하며, 장기적 미래의 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:5,score:100,weight:"-"},{description:"1~2년의 추진 기간이 요구되는 중기적 사업 계획을 수립하며, 중기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:4,score:80,weight:"-"},{description:"3~6개월 이상의 추진 기간이 요구되는 단기적 사업 계획을 수립하며, 단기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:3,score:60,weight:"-"}]},{id:5,name:"성과지향",category:"일반",standard:"목표를 달성하기 위해 끊임없이 노력하는 태도",level:"-",weight:"-"}]),W=r=>{console.log("저장된 데이터:",r)},B=f(!1),I=f(!1),S=f(null),X=f([{value:"일반",label:"일반"},{value:"BOS",label:"BOS"}]),Y=()=>({name:"",category:"",standard:"",level:3,weight:10,behaviors:[]}),o=f(Y()),Z=r=>{o.value.behaviors=[],r==="일반"?(o.value.level="-",o.value.weight="-"):r==="BOS"?o.value.behaviors=[R()]:(o.value.level=3,o.value.weight=10)},R=()=>({description:"",level:1,score:20,weight:"-"}),q=()=>{B.value=!1,I.value=!1,S.value=null,o.value=Y()},H=r=>{I.value=!0,S.value=r.id,o.value=JSON.parse(JSON.stringify({name:r.name,category:r.category,standard:r.standard,level:r.level,weight:r.weight,behaviors:r.behaviors||[]})),B.value=!0},ee=()=>{if(!o.value.name||!o.value.category){alert("항목명과 구분은 필수 입력 항목입니다.");return}if(o.value.category==="BOS"){if(o.value.behaviors.length===0){alert("BOS 구분의 경우 최소 하나 이상의 행동수준을 추가해야 합니다.");return}for(const r of o.value.behaviors)if(!r.description){alert("모든 행동수준 설명을 입력해주세요.");return}}else if(o.value.category==="일반"){if(!o.value.standard){alert("역량정의를 입력해주세요.");return}o.value.level="-",o.value.weight="-"}else if(!o.value.standard){alert("역량정의를 입력해주세요.");return}if(I.value){const r=x.value.findIndex(e=>e.id===S.value);r!==-1&&(x.value[r]={...x.value[r],...o.value,id:S.value})}else x.value.push({id:Date.now(),...o.value});q()};return(r,e)=>{const G=ae,V=ne,le=se,O=de,K=re,D=ie,C=ue,J=pe,te=me,oe=ve;return t(),s(w,null,[l("div",ye,[l("div",fe,[l("div",Ve,[l("div",ke,[e[17]||(e[17]=l("span",{class:"select-label"},"기준년도",-1)),n(G,{modelValue:j.value,"onUpdate:modelValue":e[0]||(e[0]=a=>j.value=a),options:P.value,size:"medium",placeholder:"선택",width:"150px"},null,8,["modelValue","options"])]),l("div",we,[e[21]||(e[21]=l("span",{class:"select-label"},"역량평가항목그룹",-1)),n(G,{modelValue:r.selectedGroup,"onUpdate:modelValue":e[1]||(e[1]=a=>r.selectedGroup=a),options:r.groupOptions,placeholder:"선택",width:"150px"},null,8,["modelValue","options"]),l("div",_e,[n(V,{variant:"primary","icon-only":""},{default:d(()=>e[18]||(e[18]=[l("i",{class:"icon-md icon-plus icon-white"},null,-1)])),_:1}),n(V,{variant:"secondary","icon-only":""},{default:d(()=>e[19]||(e[19]=[l("i",{class:"icon-md icon-pencil"},null,-1)])),_:1}),n(V,{variant:"secondary-line","icon-only":""},{default:d(()=>e[20]||(e[20]=[l("i",{class:"icon-md icon-delete"},null,-1)])),_:1})])])])]),l("div",Ue,[l("div",be,[n(le,{title:"역량항목그룹 가져오기"},{trigger:d(()=>[n(V,{type:"button",variant:"secondary-line",size:"medium"},{default:d(()=>e[22]||(e[22]=[M(" 역량항목그룹 가져오기 "),l("i",{class:"icon-md icon-get"},null,-1)])),_:1})]),default:d(()=>[e[23]||(e[23]=l("p",null,"현 기존년도의 등급배분표 그룹 중 하나를 선택하여 복사합니다.",-1))]),_:1}),n(V,{type:"button",variant:"primary-line",size:"medium",class:"ml-2"},{default:d(()=>e[24]||(e[24]=[M(" 전년도 데이터 복사 "),l("i",{class:"icon-md icon-copy icon-primary"},null,-1)])),_:1})])])]),l("div",he,[e[31]||(e[31]=l("div",{class:"w-30p"},"2",-1)),l("div",xe,[e[30]||(e[30]=ge('<div class="cmptDict-noti"><ul><li><div class="flex items-center gap-5"><i class="icon-sm icon-alert mr-1"></i><span class="dict-title"> 역량사전 : <span class="dict-value">공통역량</span></span></div></li><li class="dict-info"><div class="flex items-center gap-5"><i class="icon-sm icon-alert mr-1"></i> 직무 : <span class="tag tag-job">공통</span> 직위 : <span class="tag tag-position">공통</span> 직급 : <span class="tag tag-rank">공통</span> 부서 : <span class="tag tag-department">공통</span></div></li></ul></div>',1)),n(K,{modelValue:x.value,"onUpdate:modelValue":e[6]||(e[6]=a=>x.value=a),hover:"",editable:"",bordered:"",canAddRow:!1,"default-row-data":Q.value,onSave:W},{"action-button":d(()=>[n(V,{type:"button",variant:"primary",onClick:e[2]||(e[2]=a=>B.value=!0)},{default:d(()=>e[25]||(e[25]=[M(" 항목 추가 ")])),_:1})]),colgroup:d(()=>[z.value?(t(),s("col",De)):_("",!0),(t(!0),s(w,null,$(v.value,a=>(t(),s("col",{key:a.key,width:a.width},null,8,Ce))),128)),N.value?(t(),s("col",$e)):_("",!0)]),header:d(({selectAll:a,isAllSelected:k})=>[l("tr",null,[z.value?(t(),s("th",Be,[n(O,{modelValue:k,"onUpdate:modelValue":a,size:"large",onClick:e[3]||(e[3]=h(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])])):_("",!0),(t(!0),s(w,null,$(v.value,c=>(t(),s("th",{key:c.key,class:U(c.align?`text-${c.align}`:"")},g(c.title),3))),128)),N.value?(t(),s("th",Oe,"수정")):_("",!0)])]),body:d(({rows:a,toggleRowSelection:k,isRowSelected:c,handleDragStart:F,handleDragOver:T,handleDrop:A,handleDragEnd:E,sortable:y})=>[(t(!0),s(w,null,$(a,(i,m)=>(t(),s(w,{key:i.id},[i.category!=="BOS"?(t(),s("tr",{key:0,onClick:u=>!y&&k(i),class:U({selected:c(i),"sortable-row":y}),draggable:y,onDragstart:u=>F(u,m),onDragover:u=>T(u),onDrop:u=>A(u,m),onDragend:E},[z.value?(t(),s("td",ze,[y?(t(),s("div",Ie,e[26]||(e[26]=[l("i",{class:"icon-md icon-drag"},null,-1)]))):(t(),s("div",Ne,[n(O,{modelValue:c(i),"onUpdate:modelValue":u=>k(i),size:"large",onClick:e[4]||(e[4]=h(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))])):_("",!0),(t(!0),s(w,null,$(v.value,(u,p)=>(t(),s("td",{key:p,class:U(u.align?`text-${u.align}`:"")},g(i[u.key]),3))),128)),N.value?(t(),s("td",Se,[n(V,{variant:"ghost","icon-only":"",onClick:h(u=>H(i),["stop"])},{default:d(()=>e[27]||(e[27]=[l("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])])):_("",!0)],42,Me)):(t(!0),s(w,{key:1},$(i.behaviors,(u,p)=>(t(),s("tr",{key:`${i.id}-${p}`,onClick:b=>!y&&k(i),class:U({selected:c(i),"sortable-row":y}),draggable:y&&p===0,onDragstart:b=>F(b,m),onDragover:b=>T(b),onDrop:b=>A(b,m),onDragend:E},[p===0?(t(),s(w,{key:0},[z.value?(t(),s("td",{key:0,rowspan:i.behaviors.length},[y?(t(),s("div",Ee,e[28]||(e[28]=[l("i",{class:"icon-md icon-drag"},null,-1)]))):(t(),s("div",Ae,[n(O,{modelValue:c(i),"onUpdate:modelValue":b=>k(i),size:"large",onClick:e[5]||(e[5]=h(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))],8,Te)):_("",!0),l("td",{rowspan:i.behaviors.length},g(i.name),9,Le),l("td",{rowspan:i.behaviors.length,class:U(v.value[1].align?`text-${v.value[1].align}`:"")},g(i.category),11,Ge)],64)):_("",!0),l("td",{class:U(v.value[2].align?`text-${v.value[2].align}`:"")},g(u.description),3),l("td",{class:U(v.value[3].align?`text-${v.value[3].align}`:"")},g(u.level)+"/"+g(u.score),3),l("td",{class:U(v.value[4].align?`text-${v.value[4].align}`:"")},g(u.weight),3),N.value&&p===0?(t(),s("td",{key:1,rowspan:i.behaviors.length},[n(V,{variant:"ghost","icon-only":"",onClick:h(b=>H(i),["stop"])},{default:d(()=>e[29]||(e[29]=[l("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])],8,Je)):_("",!0)],42,Fe))),128))],64))),128))]),_:1},8,["modelValue","default-row-data"])])]),n(oe,{modelValue:B.value,"onUpdate:modelValue":e[16]||(e[16]=a=>B.value=a),size:"mlarge",title:I.value?"역량사전 항목 수정":"역량사전 항목 추가",showFooter:!0},{footerActions:d(()=>[n(V,{onClick:ee,variant:"primary"},{default:d(()=>e[38]||(e[38]=[M("저장")])),_:1}),n(V,{onClick:q,variant:"secondary-line"},{default:d(()=>e[39]||(e[39]=[M("닫기")])),_:1})]),default:d(()=>[n(te,null,{default:d(()=>[n(C,{label:"역량항목"},{default:d(()=>[n(D,{modelValue:o.value.name,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.name=a),placeholder:"역량항목을 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"구분"},{default:d(()=>[n(G,{modelValue:o.value.category,"onUpdate:modelValue":[e[8]||(e[8]=a=>o.value.category=a),Z],options:X.value,placeholder:"구분을 선택해주세요."},null,8,["modelValue","options"])]),_:1}),o.value.category==="일반"?(t(),L(C,{key:0,label:"역량정의"},{default:d(()=>[n(J,{modelValue:o.value.standard,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.standard=a),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1})):o.value.category!=="BOS"?(t(),s(w,{key:1},[n(C,{label:"역량정의"},{default:d(()=>[n(J,{modelValue:o.value.standard,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.standard=a),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"수준/점수"},{default:d(()=>[n(D,{modelValue:o.value.level,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.level=a),modelModifiers:{number:!0},type:"number",placeholder:"수준/점수를 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"가중치"},{default:d(()=>[n(D,{modelValue:o.value.weight,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.weight=a),modelModifiers:{number:!0},type:"number",placeholder:"가중치를 입력해주세요."},null,8,["modelValue"])]),_:1})],64)):(t(),L(K,{key:2,modelValue:o.value.behaviors,"onUpdate:modelValue":e[15]||(e[15]=a=>o.value.behaviors=a),editable:"",sortable:""},{colgroup:d(()=>e[32]||(e[32]=[l("col",{style:{width:"20px"}},null,-1),l("col",{style:{width:"auto"}},null,-1),l("col",{style:{width:"15%"}},null,-1),l("col",{style:{width:"10%"}},null,-1)])),header:d(({selectAll:a,isAllSelected:k,sortable:c})=>[l("tr",null,[l("th",null,[n(O,{size:"large",onClick:e[13]||(e[13]=h(()=>{},["stop"])),modelValue:k,"onUpdate:modelValue":a},null,8,["modelValue","onUpdate:modelValue"])]),e[33]||(e[33]=l("th",null,"행동수준 설명",-1)),e[34]||(e[34]=l("th",null,"수준/점수",-1)),e[35]||(e[35]=l("th",null,"가중치",-1))])]),body:d(({rows:a,toggleRowSelection:k,isRowSelected:c,handleDragStart:F,handleDragOver:T,handleDrop:A,handleDragEnd:E,sortable:y,editable:i})=>[(t(!0),s(w,null,$(a,(m,u)=>(t(),s("tr",{key:u,draggable:y,onDragstart:p=>F(p,u),onDragover:p=>T(p),onDrop:p=>A(p,u),onDragend:E,class:U({"sortable-row":y})},[l("td",null,[n(O,{modelValue:c(m),"onUpdate:modelValue":p=>k(m),size:"large",onClick:e[14]||(e[14]=h(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]),l("td",null,[i?(t(),L(J,{key:0,modelValue:m.description,"onUpdate:modelValue":p=>m.description=p,placeholder:"행동수준 설명을 입력해주세요.",rows:"3"},null,8,["modelValue","onUpdate:modelValue"])):(t(),s("div",Ye,g(m.description),1))]),l("td",null,[i?(t(),s("div",qe,[n(D,{modelValue:m.level,"onUpdate:modelValue":p=>m.level=p,modelModifiers:{number:!0},type:"number",placeholder:"수준",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"]),e[36]||(e[36]=l("span",null,"/",-1)),n(D,{modelValue:m.score,"onUpdate:modelValue":p=>m.score=p,modelModifiers:{number:!0},type:"number",placeholder:"점수",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"])])):(t(),s("div",He,g(m.level)+"/"+g(m.score),1))]),l("td",null,[i?(t(),L(D,{key:0,modelValue:m.weight,"onUpdate:modelValue":p=>m.weight=p,modelModifiers:{number:!0},type:"number",placeholder:"가중치"},null,8,["modelValue","onUpdate:modelValue"])):(t(),s("div",Ke,g(m.weight),1))])],42,je))),128)),a.length===0?(t(),s("tr",Pe,e[37]||(e[37]=[l("td",{colspan:"4",class:"text-center py-4"}," 행동수준이 없습니다. '행 추가' 버튼을 클릭하여 추가해주세요. ",-1)]))):_("",!0)]),_:1},8,["modelValue"]))]),_:1})]),_:1},8,["modelValue","title"])],64)}}};export{rl as default};
