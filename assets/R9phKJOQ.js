import B from"./CmDMZsPb.js";import{_ as E,r as d,B as L,Z as z,f as $,L as D,c,o,a as u,h as M,F as w,g,C as N,t as y,x as r,a2 as U,k as A,m as k,d as F,n as I,a3 as T}from"./Dxw_OvRz.js";const q=["tabindex"],Z={class:"ui-multi-select__tags-container"},j={key:1,class:"ui-multi-select__placeholder"},G={class:"ui-multi-select__dropdown"},H={class:"ui-multi-select__options"},J=["onClick"],K={class:"ui-multi-select__checkbox"},P=["checked"],Q={key:0,class:"ui-multi-select__no-results"},R={__name:"UiMultiSelect",props:{options:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},placeholder:{type:String,default:"선택하세요"},tagVariant:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},viewOnly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:t=>["small","medium","large"].includes(t)},width:{type:[String,Number],default:"100%"}},emits:["update:modelValue"],setup(t,{emit:x}){T(e=>({"2d899366":t.width}));const a=t,m=x,i=d(!1),l=d([...a.modelValue]),v=d(`multi-select-${Math.random().toString(36).substr(2,9)}`),f=L(()=>a.options.filter(e=>l.value.includes(e.value))),_=e=>l.value.includes(e.value),b=e=>{if(a.disabled||a.viewOnly)return;const s=l.value.indexOf(e.value);s===-1?l.value.push(e.value):l.value.splice(s,1),m("update:modelValue",l.value)},O=e=>{if(a.disabled||a.viewOnly)return;const s=l.value.indexOf(e.value);s!==-1&&(l.value.splice(s,1),m("update:modelValue",l.value))},S=()=>{a.disabled||a.viewOnly||(i.value||window.dispatchEvent(new CustomEvent("select-dropdown-toggle",{detail:{id:v.value}})),i.value=!i.value)},h=e=>{e.detail.id!==v.value&&i.value&&(i.value=!1)},p=e=>{!e.target.closest(".ui-multi-select")&&i.value&&(i.value=!1)};return z(()=>a.modelValue,e=>{l.value=[...e]},{deep:!0}),$(()=>{document.addEventListener("click",p),window.addEventListener("select-dropdown-toggle",h)}),D(()=>{document.removeEventListener("click",p),window.removeEventListener("select-dropdown-toggle",h)}),(e,s)=>{const V=B;return o(),c("div",{class:r(["ui-multi-select",[`ui-multi-select--${t.size}`,{"ui-multi-select--open":i.value,"ui-multi-select--selected":l.value.length>0,"ui-multi-select--error":t.error,"ui-multi-select--disabled":t.disabled,"ui-multi-select--view":t.viewOnly}]]),style:I({width:t.width})},[u("div",{class:"ui-multi-select__header",onClick:S,tabindex:t.disabled||t.viewOnly?-1:0},[u("div",Z,[f.value.length>0?(o(!0),c(w,{key:0},g(f.value,n=>(o(),N(V,{key:n.value,text:n.label,variant:t.tagVariant,size:"small",closable:"",onClose:C=>O(n)},null,8,["text","variant","onClose"]))),128)):(o(),c("div",j,y(t.placeholder),1))]),u("i",{class:r(["ui-multi-select__icon",{"ui-multi-select__icon--up":i.value}])},null,2)],8,q),M(u("div",G,[u("div",H,[(o(!0),c(w,null,g(t.options,n=>(o(),c("div",{key:n.value,class:r(["ui-multi-select__option",{"ui-multi-select__option--selected":_(n)}]),onClick:k(C=>b(n),["stop"])},[u("span",K,[u("input",{type:"checkbox",checked:_(n),onClick:s[0]||(s[0]=k(()=>{},["stop"]))},null,8,P),s[1]||(s[1]=u("span",{class:"ui-multi-select__checkmark"},null,-1))]),F(" "+y(n.label),1)],10,J))),128)),t.options.length===0?(o(),c("div",Q,"옵션이 없습니다")):A("",!0)])],512),[[U,i.value]])],6)}}},Y=E(R,[["__scopeId","data-v-8a532273"]]);export{Y as default};
