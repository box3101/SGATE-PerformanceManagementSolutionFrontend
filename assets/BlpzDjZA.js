import P from"./Dc8DIv0-.js";import{_ as F,c as u,o as d,q as W,l as y,d as m,t as p,p as N,s as $,r as k,a as o,n as a,b as n,w as i,F as j,g as q,y as D,B as E}from"./CSzMJbbZ.js";import{_ as O}from"./n3oqeHZ2.js";import{U as H,a as K,b as X}from"./D8-uXjgz.js";import{_ as v}from"./-dHpVkzT.js";import{_ as S}from"./D7rWr6iO.js";import{_ as Y}from"./RyJCNiHi.js";const G={__name:"UiTag",props:{text:{type:String,default:""},variant:{type:String,default:"default",validator:e=>["default","primary","success","warning","danger","info","custom"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},closable:{type:Boolean,default:!1},backgroundColor:{type:String,default:""},textColor:{type:String,default:""},borderColor:{type:String,default:""}},emits:["close"],setup(e){return(C,r)=>(d(),u("span",{class:$(["ui-tag",[`ui-tag--${e.size}`,`ui-tag--${e.variant}`,{"ui-tag--closable":e.closable}]]),style:N(e.variant==="custom"?{backgroundColor:e.backgroundColor,color:e.textColor,borderColor:e.borderColor||e.backgroundColor}:{})},[W(C.$slots,"default",{},()=>[m(p(e.text),1)],!0),e.closable?(d(),u("button",{key:0,class:"ui-tag__close",type:"button",onClick:r[0]||(r[0]=f=>C.$emit("close")),"aria-label":"태그 삭제"}," × ")):y("",!0)],6))}},J=F(G,[["__scopeId","data-v-3a1f6f31"]]),Q={class:"task-card-wrapper"},R={class:"card-actions"},Z={class:"flex gap-5"},tt={class:"flex gap-5"},et={key:0,class:"card-tags"},ot={class:"card-content"},nt={class:"card-title"},at={class:"card-footer"},it={class:"card-stats"},st={class:"card-comments"},rt={class:"card-attachments"},lt={class:"card-date"},dt={__name:"CategoryCard",props:{title:{type:String,default:"업무명이 들어가는 공간입니다."},tags:{type:Array,default:()=>[]},date:{type:String,default:""},comments:{type:Number,default:0},attachments:{type:Number,default:0},cardId:{type:[Number,String],required:!0},favorite:{type:Boolean,default:!1}},emits:["click","openInNewWindow","toggleFavorite","taskAction"],setup(e,{emit:C}){const r=e,f=C,x=k(!1),z=k({top:"0px",left:"0px"}),g=k(r.favorite),c=k(!1),M=[{title:"업무 이동",isAccordion:!0},{title:"업무 전달",isAccordion:!0},{title:"업무 합치기",isAccordion:!0},{title:"업무 삭제",isAccordion:!1,icon:"mdi:delete-outline",action:()=>T("delete")}];function A(s){if(!c.value){if(s.shiftKey){I();return}f("click",r.cardId)}}function U(s){z.value={top:`${s.offsetY}px`,left:`${s.offsetX}px`},x.value=!0,document.addEventListener("click",w,{once:!0}),s.preventDefault()}function w(){x.value=!1}function I(){f("openInNewWindow",r.cardId),w()}function B(){g.value=!g.value,f("toggleFavorite",r.cardId,g.value)}function V(){c.value=!0}function _(){c.value=!1}function T(s,t=null){f("taskAction",{cardId:r.cardId,action:s,subAction:t}),_()}function L(s){const t=s.toLowerCase();return t.includes("디자인")?{variant:"primary"}:t.includes("ui")||t.includes("ux")?{variant:"info"}:t.includes("테스트")?{variant:"warning"}:t.includes("버그")||t.includes("오류")?{variant:"danger"}:t.includes("완료")||t.includes("성공")?{variant:"success"}:t.includes("프론트엔드")?{variant:"custom",backgroundColor:"#61dafb",textColor:"#003545",borderColor:"#61dafb"}:t.includes("백엔드")?{variant:"custom",backgroundColor:"#6c5ce7",textColor:"white",borderColor:"#6c5ce7"}:t.includes("모바일")?{variant:"custom",backgroundColor:"#fdcb6e",textColor:"#805b00",borderColor:"#fdcb6e"}:t.includes("시스템")?{variant:"custom",backgroundColor:"#00b894",textColor:"white",borderColor:"#00b894"}:{variant:"default"}}return(s,t)=>{const l=P;return d(),u("div",Q,[c.value?(d(),u("div",{key:0,class:"dim-background",onClick:a(_,["stop"])})):y("",!0),o("div",{class:"task-card",onClick:A,onContextmenu:a(U,["prevent"])},[o("div",R,[o("button",{class:"action-btn favorite-btn",onClick:a(B,["stop"])},[n(l,{name:g.value?"mdi:star":"mdi:star-outline",size:"16",class:$({"star-active":g.value})},null,8,["name","class"])]),o("button",{class:"action-btn filter-btn",onClick:a(V,["stop"])},[n(l,{name:"mdi:dots-vertical",size:"16"})])]),n(H,{modelValue:c.value,"onUpdate:modelValue":t[9]||(t[9]=b=>c.value=b),position:"right",size:"small",title:"업무 메뉴",hideHeader:!0,onClick:t[10]||(t[10]=a(()=>{},["stop"]))},{default:i(()=>[o("div",{onClick:t[8]||(t[8]=a(()=>{},["stop"]))},[n(O,{menuItems:M},{"content-1":i(()=>[o("div",{onClick:t[1]||(t[1]=a(()=>{},["stop"]))},[n(Y,{placeholder:"제조공정"}),n(v,{class:"mt-5",variant:"tertiary",icon:"heroicons:arrow-right","icon-position":"right",block:"",onClick:t[0]||(t[0]=a(()=>{},["stop"]))},{default:i(()=>t[11]||(t[11]=[m(" 이동 ")])),_:1})])]),"content-2":i(()=>[o("div",{onClick:t[4]||(t[4]=a(()=>{},["stop"]))},[o("div",Z,[n(S,{placeholder:"조회 및 선택하세요",icon:"heroicons:magnifying-glass"}),n(v,{variant:"tertiary","icon-only":"",onClick:t[2]||(t[2]=a(()=>{},["stop"]))},{default:i(()=>[n(l,{name:"heroicons:magnifying-glass",size:"20"})]),_:1})]),n(v,{class:"mt-5",variant:"tertiary",block:"",onClick:t[3]||(t[3]=a(()=>{},["stop"]))},{default:i(()=>t[12]||(t[12]=[m(" 전달 ")])),_:1})])]),"content-3":i(()=>[o("div",{onClick:t[7]||(t[7]=a(()=>{},["stop"]))},[t[14]||(t[14]=o("p",{class:"mb-9"},"업무 합치기 대상 선택",-1)),n(K,null,{default:i(()=>[n(X,{label:"업무",minWidth:"min-w-10"},{default:i(()=>[o("div",tt,[n(S,{placeholder:"조회 및 선택하세요"}),n(v,{variant:"tertiary","icon-only":"",onClick:t[5]||(t[5]=a(()=>{},["stop"]))},{default:i(()=>[n(l,{name:"heroicons:magnifying-glass",size:"20"})]),_:1})])]),_:1})]),_:1}),n(v,{class:"mt-5",variant:"tertiary",block:"",onClick:t[6]||(t[6]=a(()=>{},["stop"]))},{default:i(()=>t[13]||(t[13]=[m(" 합치기 ")])),_:1})])]),_:1})])]),_:1},8,["modelValue"]),e.tags&&e.tags.length>0?(d(),u("div",et,[(d(!0),u(j,null,q(e.tags,(b,h)=>(d(),D(J,E({key:h,text:b,ref_for:!0},L(b),{size:"small"}),null,16,["text"]))),128))])):y("",!0),o("div",ot,[o("p",nt,p(e.title),1)]),o("div",at,[o("div",it,[o("span",st,[n(l,{name:"mdi:comment-outline",size:"14"}),m(" "+p(e.comments||0),1)]),o("span",rt,[n(l,{name:"mdi:paperclip",size:"14"}),m(" "+p(e.attachments||0),1)])]),o("span",lt,p(e.date),1)]),x.value?(d(),u("div",{key:1,class:"card-context-menu",style:N(z.value)},[o("div",{class:"menu-item",onClick:a(I,["stop"])},[n(l,{name:"mdi:open-in-new",size:"16"}),t[15]||(t[15]=o("span",null,"새 창으로 열기",-1))]),o("div",{class:"menu-item",onClick:a(w,["stop"])},[n(l,{name:"mdi:close",size:"16"}),t[16]||(t[16]=o("span",null,"닫기",-1))])],4)):y("",!0)],32)])}}},ut=F(dt,[["__scopeId","data-v-b9dbbee3"]]),bt=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"}));export{ut as C,J as U,bt as a};
