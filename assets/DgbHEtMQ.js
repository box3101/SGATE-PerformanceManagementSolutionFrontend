import{_ as ae}from"./DkY4kyX_.js";import{_ as ne}from"./CWSM4UDU.js";import{_ as se}from"./B17aMSfa.js";import{_ as de}from"./COQC0KKw.js";import{_ as ue}from"./DMoIUL3H.js";import{_ as re}from"./CXSHoyOg.js";import{a as ie,U as pe}from"./DebhY7IC.js";import{_ as me}from"./Ch20MXjn.js";import{U as ve}from"./BIUOJCaA.js";import{r as V,s as ge,c as s,a as l,b as n,w as d,F as k,o,d as M,g as $,x as U,k as w,m as h,t as c,D as L}from"./BlwuZVIW.js";import"./Bkc24ydX.js";const ce={class:"page-header"},ye={class:"header-left"},Ve={class:"select-group"},fe={class:"select-item"},_e={class:"select-item flex items-center"},ke={class:"button-group ml-4 flex items-center gap-4"},we={class:"header-right"},Ue={class:"button-group"},be={class:"flex-container"},he={class:"w-70p"},xe={key:0,width:"40px"},De=["width"],Ce={key:1,width:"60px"},$e={key:0},Be={key:1},Oe=["onClick","draggable","onDragstart","onDragover","onDrop","onDragend"],Me={key:0},ze={key:0,class:"row-checkbox"},Ie={key:1,class:"drag-handle"},Ne={key:1},Fe=["onClick","draggable","onDragstart","onDragover","onDrop","onDragend"],Se=["rowspan"],Te={key:0,class:"row-checkbox"},Ae={key:1,class:"drag-handle"},Ee=["rowspan"],Le=["rowspan"],Ge=["rowspan"],Je=["draggable","onDragstart","onDragover","onDrop","onDragend"],Ye={key:1},je={key:0,class:"flex items-center gap-2"},qe={key:1},He={key:1},Ke={key:0},sl={__name:"index",setup(Pe){const Y=V("2025"),P=V([{value:"2025",label:"2025년"},{value:"2024",label:"2024년"},{value:"2023",label:"2023년"}]),z=V(!0),I=V(!0),v=V([{key:"name",title:"역량항목",align:"",width:"100px",icon:"edit"},{key:"category",title:"구분",align:"center",width:"100px"},{key:"standard",title:"행동기준/행동수준/역량정의",align:"",width:""},{key:"level",title:"수준/점수",align:"center",width:"100px"},{key:"weight",title:"가중",align:"center",width:"80px"}]),Q=ge(()=>{const u={};return v.value.forEach(e=>{u[e.key]=e.key==="level"||e.key==="weight"?0:""}),u}),x=V([{id:1,name:"리더십",category:"핵심역량",standard:"조직의 목표를 달성하기 위해 구성원들을 이끄는 능력",level:5,weight:20},{id:2,name:"문제해결",category:"직무역량",standard:"복잡한 문제를 분석하고 효과적인 해결책을 도출하는 능력",level:4,weight:15},{id:3,name:"의사소통",category:"기본역량",standard:"정보와 아이디어를 명확하게 전달하고 수용하는 능력",level:3,weight:10},{id:4,name:"전략적 사고",category:"BOS",behaviors:[{description:"사업에 대한 통찰력에 기초하여 2년 이상의 추진 기간이 요구되는 장기적 사업 계획을 기안하며, 장기적 미래의 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:5,score:100,weight:"-"},{description:"1~2년의 추진 기간이 요구되는 중기적 사업 계획을 수립하며, 중기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:4,score:80,weight:"-"},{description:"3~6개월 이상의 추진 기간이 요구되는 단기적 사업 계획을 수립하며, 단기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:3,score:60,weight:"-"}]},{id:5,name:"성과지향",category:"일반",standard:"목표를 달성하기 위해 끊임없이 노력하는 태도",level:"-",weight:"-"}]),W=u=>{console.log("저장된 데이터:",u)},B=V(!1),N=V(!1),F=V(null),X=V([{value:"일반",label:"일반"},{value:"BOS",label:"BOS"}]),j=()=>({name:"",category:"",standard:"",level:3,weight:10,behaviors:[]}),t=V(j()),Z=u=>{t.value.behaviors=[],u==="일반"?(t.value.level="-",t.value.weight="-"):u==="BOS"?t.value.behaviors=[R()]:(t.value.level=3,t.value.weight=10)},R=()=>({description:"",level:1,score:20,weight:"-"}),q=()=>{B.value=!1,N.value=!1,F.value=null,t.value=j()},H=u=>{N.value=!0,F.value=u.id,t.value=JSON.parse(JSON.stringify({name:u.name,category:u.category,standard:u.standard,level:u.level,weight:u.weight,behaviors:u.behaviors||[]})),B.value=!0},ee=()=>{if(!t.value.name||!t.value.category){alert("항목명과 구분은 필수 입력 항목입니다.");return}if(t.value.category==="BOS"){if(t.value.behaviors.length===0){alert("BOS 구분의 경우 최소 하나 이상의 행동수준을 추가해야 합니다.");return}for(const u of t.value.behaviors)if(!u.description){alert("모든 행동수준 설명을 입력해주세요.");return}}else if(t.value.category==="일반"){if(!t.value.standard){alert("역량정의를 입력해주세요.");return}t.value.level="-",t.value.weight="-"}else if(!t.value.standard){alert("역량정의를 입력해주세요.");return}if(N.value){const u=x.value.findIndex(e=>e.id===F.value);u!==-1&&(x.value[u]={...x.value[u],...t.value,id:F.value})}else x.value.push({id:Date.now(),...t.value});q()};return(u,e)=>{const G=ae,f=ne,le=se,O=de,K=ue,D=re,C=pe,J=me,oe=ie,te=ve;return o(),s(k,null,[l("div",ce,[l("div",ye,[l("div",Ve,[l("div",fe,[e[17]||(e[17]=l("span",{class:"select-label"},"기준년도",-1)),n(G,{modelValue:Y.value,"onUpdate:modelValue":e[0]||(e[0]=a=>Y.value=a),options:P.value,size:"medium",placeholder:"선택",width:"150px"},null,8,["modelValue","options"])]),l("div",_e,[e[21]||(e[21]=l("span",{class:"select-label"},"역량평가항목그룹",-1)),n(G,{modelValue:u.selectedGroup,"onUpdate:modelValue":e[1]||(e[1]=a=>u.selectedGroup=a),options:u.groupOptions,placeholder:"선택",width:"150px"},null,8,["modelValue","options"]),l("div",ke,[n(f,{variant:"primary","icon-only":""},{default:d(()=>e[18]||(e[18]=[l("i",{class:"icon-md icon-plus icon-white"},null,-1)])),_:1}),n(f,{variant:"secondary","icon-only":""},{default:d(()=>e[19]||(e[19]=[l("i",{class:"icon-md icon-pencil"},null,-1)])),_:1}),n(f,{variant:"secondary-line","icon-only":""},{default:d(()=>e[20]||(e[20]=[l("i",{class:"icon-md icon-delete"},null,-1)])),_:1})])])])]),l("div",we,[l("div",Ue,[n(le,{title:"역량항목그룹 가져오기"},{trigger:d(()=>[n(f,{type:"button",variant:"secondary-line",size:"medium"},{default:d(()=>e[22]||(e[22]=[M(" 역량항목그룹 가져오기 "),l("i",{class:"icon-md icon-get"},null,-1)])),_:1})]),default:d(()=>[e[23]||(e[23]=l("p",null,"현 기존년도의 등급배분표 그룹 중 하나를 선택하여 복사합니다.",-1))]),_:1}),n(f,{type:"button",variant:"primary-line",size:"medium",class:"ml-2"},{default:d(()=>e[24]||(e[24]=[M(" 전년도 데이터 복사 "),l("i",{class:"icon-md icon-copy icon-primary"},null,-1)])),_:1})])])]),l("div",be,[e[30]||(e[30]=l("div",{class:"w-30p"},"2",-1)),l("div",he,[n(K,{title:"테이블 제목",modelValue:x.value,"onUpdate:modelValue":e[6]||(e[6]=a=>x.value=a),hover:"",editable:"",bordered:"",canAddRow:!1,"default-row-data":Q.value,onSave:W},{"action-button":d(()=>[n(f,{type:"button",variant:"primary",onClick:e[2]||(e[2]=a=>B.value=!0)},{default:d(()=>e[25]||(e[25]=[M(" 항목 추가 ")])),_:1})]),colgroup:d(()=>[z.value?(o(),s("col",xe)):w("",!0),(o(!0),s(k,null,$(v.value,a=>(o(),s("col",{key:a.key,width:a.width},null,8,De))),128)),I.value?(o(),s("col",Ce)):w("",!0)]),header:d(({selectAll:a,isAllSelected:_})=>[l("tr",null,[z.value?(o(),s("th",$e,[n(O,{modelValue:_,"onUpdate:modelValue":a,size:"large",onClick:e[3]||(e[3]=h(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])])):w("",!0),(o(!0),s(k,null,$(v.value,g=>(o(),s("th",{key:g.key,class:U(g.align?`text-${g.align}`:"")},c(g.title),3))),128)),I.value?(o(),s("th",Be,"수정")):w("",!0)])]),body:d(({rows:a,toggleRowSelection:_,isRowSelected:g,handleDragStart:S,handleDragOver:T,handleDrop:A,handleDragEnd:E,sortable:y})=>[(o(!0),s(k,null,$(a,(r,m)=>(o(),s(k,{key:r.id},[r.category!=="BOS"?(o(),s("tr",{key:0,onClick:i=>!y&&_(r),class:U({selected:g(r),"sortable-row":y}),draggable:y,onDragstart:i=>S(i,m),onDragover:i=>T(i),onDrop:i=>A(i,m),onDragend:E},[z.value?(o(),s("td",Me,[y?(o(),s("div",Ie,e[26]||(e[26]=[l("i",{class:"icon-md icon-drag"},null,-1)]))):(o(),s("div",ze,[n(O,{modelValue:g(r),"onUpdate:modelValue":i=>_(r),size:"large",onClick:e[4]||(e[4]=h(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))])):w("",!0),(o(!0),s(k,null,$(v.value,(i,p)=>(o(),s("td",{key:p,class:U(i.align?`text-${i.align}`:"")},c(r[i.key]),3))),128)),I.value?(o(),s("td",Ne,[n(f,{variant:"ghost","icon-only":"",onClick:h(i=>H(r),["stop"])},{default:d(()=>e[27]||(e[27]=[l("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])])):w("",!0)],42,Oe)):(o(!0),s(k,{key:1},$(r.behaviors,(i,p)=>(o(),s("tr",{key:`${r.id}-${p}`,onClick:b=>!y&&_(r),class:U({selected:g(r),"sortable-row":y}),draggable:y&&p===0,onDragstart:b=>S(b,m),onDragover:b=>T(b),onDrop:b=>A(b,m),onDragend:E},[p===0?(o(),s(k,{key:0},[z.value?(o(),s("td",{key:0,rowspan:r.behaviors.length},[y?(o(),s("div",Ae,e[28]||(e[28]=[l("i",{class:"icon-md icon-drag"},null,-1)]))):(o(),s("div",Te,[n(O,{modelValue:g(r),"onUpdate:modelValue":b=>_(r),size:"large",onClick:e[5]||(e[5]=h(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))],8,Se)):w("",!0),l("td",{rowspan:r.behaviors.length},c(r.name),9,Ee),l("td",{rowspan:r.behaviors.length,class:U(v.value[1].align?`text-${v.value[1].align}`:"")},c(r.category),11,Le)],64)):w("",!0),l("td",{class:U(v.value[2].align?`text-${v.value[2].align}`:"")},c(i.description),3),l("td",{class:U(v.value[3].align?`text-${v.value[3].align}`:"")},c(i.level)+"/"+c(i.score),3),l("td",{class:U(v.value[4].align?`text-${v.value[4].align}`:"")},c(i.weight),3),I.value&&p===0?(o(),s("td",{key:1,rowspan:r.behaviors.length},[n(f,{variant:"ghost","icon-only":"",onClick:h(b=>H(r),["stop"])},{default:d(()=>e[29]||(e[29]=[l("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])],8,Ge)):w("",!0)],42,Fe))),128))],64))),128))]),_:1},8,["modelValue","default-row-data"])])]),n(te,{modelValue:B.value,"onUpdate:modelValue":e[16]||(e[16]=a=>B.value=a),size:"mlarge",title:N.value?"역량사전 항목 수정":"역량사전 항목 추가",showFooter:!0},{footerActions:d(()=>[n(f,{onClick:ee,variant:"primary"},{default:d(()=>e[37]||(e[37]=[M("저장")])),_:1}),n(f,{onClick:q,variant:"secondary-line"},{default:d(()=>e[38]||(e[38]=[M("닫기")])),_:1})]),default:d(()=>[n(oe,null,{default:d(()=>[n(C,{label:"역량항목"},{default:d(()=>[n(D,{modelValue:t.value.name,"onUpdate:modelValue":e[7]||(e[7]=a=>t.value.name=a),placeholder:"역량항목을 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"구분"},{default:d(()=>[n(G,{modelValue:t.value.category,"onUpdate:modelValue":[e[8]||(e[8]=a=>t.value.category=a),Z],options:X.value,placeholder:"구분을 선택해주세요."},null,8,["modelValue","options"])]),_:1}),t.value.category==="일반"?(o(),L(C,{key:0,label:"역량정의"},{default:d(()=>[n(J,{modelValue:t.value.standard,"onUpdate:modelValue":e[9]||(e[9]=a=>t.value.standard=a),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1})):t.value.category!=="BOS"?(o(),s(k,{key:1},[n(C,{label:"역량정의"},{default:d(()=>[n(J,{modelValue:t.value.standard,"onUpdate:modelValue":e[10]||(e[10]=a=>t.value.standard=a),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"수준/점수"},{default:d(()=>[n(D,{modelValue:t.value.level,"onUpdate:modelValue":e[11]||(e[11]=a=>t.value.level=a),modelModifiers:{number:!0},type:"number",placeholder:"수준/점수를 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"가중치"},{default:d(()=>[n(D,{modelValue:t.value.weight,"onUpdate:modelValue":e[12]||(e[12]=a=>t.value.weight=a),modelModifiers:{number:!0},type:"number",placeholder:"가중치를 입력해주세요."},null,8,["modelValue"])]),_:1})],64)):(o(),L(K,{key:2,modelValue:t.value.behaviors,"onUpdate:modelValue":e[15]||(e[15]=a=>t.value.behaviors=a),editable:"",sortable:""},{colgroup:d(()=>e[31]||(e[31]=[l("col",{style:{width:"20px"}},null,-1),l("col",{style:{width:"auto"}},null,-1),l("col",{style:{width:"15%"}},null,-1),l("col",{style:{width:"10%"}},null,-1)])),header:d(({selectAll:a,isAllSelected:_,sortable:g})=>[l("tr",null,[l("th",null,[n(O,{size:"large",onClick:e[13]||(e[13]=h(()=>{},["stop"])),modelValue:_,"onUpdate:modelValue":a},null,8,["modelValue","onUpdate:modelValue"])]),e[32]||(e[32]=l("th",null,"행동수준 설명",-1)),e[33]||(e[33]=l("th",null,"수준/점수",-1)),e[34]||(e[34]=l("th",null,"가중치",-1))])]),body:d(({rows:a,toggleRowSelection:_,isRowSelected:g,handleDragStart:S,handleDragOver:T,handleDrop:A,handleDragEnd:E,sortable:y,editable:r})=>[(o(!0),s(k,null,$(a,(m,i)=>(o(),s("tr",{key:i,draggable:y,onDragstart:p=>S(p,i),onDragover:p=>T(p),onDrop:p=>A(p,i),onDragend:E,class:U({"sortable-row":y})},[l("td",null,[n(O,{modelValue:g(m),"onUpdate:modelValue":p=>_(m),size:"large",onClick:e[14]||(e[14]=h(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]),l("td",null,[r?(o(),L(J,{key:0,modelValue:m.description,"onUpdate:modelValue":p=>m.description=p,placeholder:"행동수준 설명을 입력해주세요.",rows:"3"},null,8,["modelValue","onUpdate:modelValue"])):(o(),s("div",Ye,c(m.description),1))]),l("td",null,[r?(o(),s("div",je,[n(D,{modelValue:m.level,"onUpdate:modelValue":p=>m.level=p,modelModifiers:{number:!0},type:"number",placeholder:"수준",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"]),e[35]||(e[35]=l("span",null,"/",-1)),n(D,{modelValue:m.score,"onUpdate:modelValue":p=>m.score=p,modelModifiers:{number:!0},type:"number",placeholder:"점수",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"])])):(o(),s("div",qe,c(m.level)+"/"+c(m.score),1))]),l("td",null,[r?(o(),L(D,{key:0,modelValue:m.weight,"onUpdate:modelValue":p=>m.weight=p,modelModifiers:{number:!0},type:"number",placeholder:"가중치"},null,8,["modelValue","onUpdate:modelValue"])):(o(),s("div",He,c(m.weight),1))])],42,Je))),128)),a.length===0?(o(),s("tr",Ke,e[36]||(e[36]=[l("td",{colspan:"4",class:"text-center py-4"}," 행동수준이 없습니다. '행 추가' 버튼을 클릭하여 추가해주세요. ",-1)]))):w("",!0)]),_:1},8,["modelValue"]))]),_:1})]),_:1},8,["modelValue","title"])],64)}}};export{sl as default};
