import{_ as B}from"./CFsRaQvq.js";import{_ as E,E as z,r as d,s as L,G as $,f as D,H as M,c,o,a as u,h as N,F as w,g,C as I,t as y,x as r,I as U,k as A,m as k,d as F,n as T}from"./4_wLB5jd.js";const q=["tabindex"],G={class:"ui-multi-select__tags-container"},H={key:1,class:"ui-multi-select__placeholder"},j={class:"ui-multi-select__dropdown"},J={class:"ui-multi-select__options"},K=["onClick"],P={class:"ui-multi-select__checkbox"},Q=["checked"],R={key:0,class:"ui-multi-select__no-results"},W={__name:"UiMultiSelect",props:{options:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},placeholder:{type:String,default:"선택하세요"},tagVariant:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},viewOnly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:t=>["small","medium","large"].includes(t)},width:{type:[String,Number],default:"100%"}},emits:["update:modelValue"],setup(t,{emit:x}){z(e=>({"6056f3c1":t.width}));const a=t,m=x,i=d(!1),l=d([...a.modelValue]),v=d(`multi-select-${Math.random().toString(36).substr(2,9)}`),f=L(()=>a.options.filter(e=>l.value.includes(e.value))),_=e=>l.value.includes(e.value),b=e=>{if(a.disabled||a.viewOnly)return;const s=l.value.indexOf(e.value);s===-1?l.value.push(e.value):l.value.splice(s,1),m("update:modelValue",l.value)},O=e=>{if(a.disabled||a.viewOnly)return;const s=l.value.indexOf(e.value);s!==-1&&(l.value.splice(s,1),m("update:modelValue",l.value))},S=()=>{a.disabled||a.viewOnly||(i.value||window.dispatchEvent(new CustomEvent("select-dropdown-toggle",{detail:{id:v.value}})),i.value=!i.value)},h=e=>{e.detail.id!==v.value&&i.value&&(i.value=!1)},p=e=>{!e.target.closest(".ui-multi-select")&&i.value&&(i.value=!1)};return $(()=>a.modelValue,e=>{l.value=[...e]},{deep:!0}),D(()=>{document.addEventListener("click",p),window.addEventListener("select-dropdown-toggle",h)}),M(()=>{document.removeEventListener("click",p),window.removeEventListener("select-dropdown-toggle",h)}),(e,s)=>{const V=B;return o(),c("div",{class:r(["ui-multi-select",[`ui-multi-select--${t.size}`,{"ui-multi-select--open":i.value,"ui-multi-select--selected":l.value.length>0,"ui-multi-select--error":t.error,"ui-multi-select--disabled":t.disabled,"ui-multi-select--view":t.viewOnly}]]),style:T({width:t.width})},[u("div",{class:"ui-multi-select__header",onClick:S,tabindex:t.disabled||t.viewOnly?-1:0},[u("div",G,[f.value.length>0?(o(!0),c(w,{key:0},g(f.value,n=>(o(),I(V,{key:n.value,text:n.label,variant:t.tagVariant,size:"small",closable:"",onClose:C=>O(n)},null,8,["text","variant","onClose"]))),128)):(o(),c("div",H,y(t.placeholder),1))]),u("i",{class:r(["ui-multi-select__icon",{"ui-multi-select__icon--up":i.value}])},null,2)],8,q),N(u("div",j,[u("div",J,[(o(!0),c(w,null,g(t.options,n=>(o(),c("div",{key:n.value,class:r(["ui-multi-select__option",{"ui-multi-select__option--selected":_(n)}]),onClick:k(C=>b(n),["stop"])},[u("span",P,[u("input",{type:"checkbox",checked:_(n),onClick:s[0]||(s[0]=k(()=>{},["stop"]))},null,8,Q),s[1]||(s[1]=u("span",{class:"ui-multi-select__checkmark"},null,-1))]),F(" "+y(n.label),1)],10,K))),128)),t.options.length===0?(o(),c("div",R,"옵션이 없습니다")):A("",!0)])],512),[[U,i.value]])],6)}}},Z=E(W,[["__scopeId","data-v-8171c0c2"]]);export{Z as _};
