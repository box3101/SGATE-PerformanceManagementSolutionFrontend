import L from"./BFbI9pzu.js";import{_ as T,r as k,c as m,l as w,a as e,n,b as o,s as E,w as a,F as P,g as W,t as C,d as f,p as D,o as d,y as $,E as q}from"./BYkLIH-r.js";import{U as H}from"./DAmf_1F7.js";import{_ as K}from"./P097DNsY.js";import{U as X}from"./YYUNGYOi.js";import{_ as b}from"./CRxdungN.js";import{_ as Y}from"./Bi3bWVkJ.js";import{_ as p}from"./DUFsEqBu.js";const j={class:"task-card-wrapper"},G={class:"card-actions"},J={class:"flex gap-5"},O={key:0,class:"card-tags"},Q={class:"card-content"},R={class:"card-title"},Z={class:"card-footer"},tt={class:"card-stats"},et={class:"card-comments"},ot={class:"card-attachments"},nt={class:"card-date"},st={__name:"CategoryCard",props:{title:{type:String,default:"업무명이 들어가는 공간입니다."},tags:{type:Array,default:()=>[]},date:{type:String,default:""},comments:{type:Number,default:0},attachments:{type:Number,default:0},cardId:{type:[Number,String],required:!0},favorite:{type:Boolean,default:!1}},emits:["click","openInNewWindow","toggleFavorite","taskAction"],setup(i,{emit:F}){const c=i,v=F,y=k(!1),_=k({top:"0px",left:"0px"}),u=k(c.favorite),l=k(!1),N=[{title:"업무 이동",isAccordion:!0},{title:"업무 전달",isAccordion:!0},{title:"업무 합치기",isAccordion:!0},{title:"업무 삭제",isAccordion:!1,icon:"mdi:delete-outline",action:()=>B("delete")}];function A(s){if(!l.value){if(s.shiftKey){I();return}v("click",c.cardId)}}function M(s){_.value={top:`${s.offsetY}px`,left:`${s.offsetX}px`},y.value=!0,document.addEventListener("click",x,{once:!0}),s.preventDefault()}function x(){y.value=!1}function I(){v("openInNewWindow",c.cardId),x()}function h(){u.value=!u.value,v("toggleFavorite",c.cardId,u.value)}function V(){l.value=!0}function z(){l.value=!1}function B(s,t=null){v("taskAction",{cardId:c.cardId,action:s,subAction:t}),z()}function S(s){const t=s.toLowerCase();return t.includes("디자인")?{variant:"primary"}:t.includes("ui")||t.includes("ux")?{variant:"info"}:t.includes("테스트")?{variant:"warning"}:t.includes("버그")||t.includes("오류")?{variant:"danger"}:t.includes("완료")||t.includes("성공")?{variant:"success"}:t.includes("프론트엔드")?{variant:"custom",backgroundColor:"#61dafb",textColor:"#003545",borderColor:"#61dafb"}:t.includes("백엔드")?{variant:"custom",backgroundColor:"#6c5ce7",textColor:"white",borderColor:"#6c5ce7"}:t.includes("모바일")?{variant:"custom",backgroundColor:"#fdcb6e",textColor:"#805b00",borderColor:"#fdcb6e"}:t.includes("시스템")?{variant:"custom",backgroundColor:"#00b894",textColor:"white",borderColor:"#00b894"}:{variant:"default"}}return(s,t)=>{const r=L;return d(),m("div",j,[l.value?(d(),m("div",{key:0,class:"dim-background",onClick:n(z,["stop"])})):w("",!0),e("div",{class:"task-card",onClick:A,onContextmenu:n(M,["prevent"])},[e("div",G,[e("button",{class:"action-btn favorite-btn",onClick:n(h,["stop"])},[o(r,{name:u.value?"mdi:star":"mdi:star-outline",size:"16",class:E({"star-active":u.value})},null,8,["name","class"])]),e("button",{class:"action-btn filter-btn",onClick:n(V,["stop"])},[o(r,{name:"mdi:dots-vertical",size:"16"})])]),o(X,{modelValue:l.value,"onUpdate:modelValue":t[8]||(t[8]=g=>l.value=g),position:"right",size:"small",title:"업무 메뉴",hideHeader:!0,onClick:t[9]||(t[9]=n(()=>{},["stop"]))},{default:a(()=>[e("div",{onClick:t[7]||(t[7]=n(()=>{},["stop"]))},[o(K,{menuItems:N},{"content-1":a(()=>[e("div",{onClick:t[1]||(t[1]=n(()=>{},["stop"]))},[o(p,{placeholder:"제조공정"}),o(p,{class:"mt-5",placeholder:"업무유형"}),o(b,{class:"mt-5",variant:"tertiary",icon:"heroicons:arrow-right","icon-position":"right",block:"",onClick:t[0]||(t[0]=n(()=>{},["stop"]))},{default:a(()=>t[10]||(t[10]=[f(" 이동 ")])),_:1})])]),"content-2":a(()=>[e("div",{onClick:t[4]||(t[4]=n(()=>{},["stop"]))},[e("div",J,[o(Y,{placeholder:"조회 및 선택하세요",icon:"heroicons:magnifying-glass"}),o(b,{variant:"tertiary","icon-only":"",onClick:t[2]||(t[2]=n(()=>{},["stop"]))},{default:a(()=>[o(r,{name:"heroicons:magnifying-glass",size:"20"})]),_:1})]),o(b,{class:"mt-5",variant:"tertiary",block:"",onClick:t[3]||(t[3]=n(()=>{},["stop"]))},{default:a(()=>t[11]||(t[11]=[f(" 전달 ")])),_:1})])]),"content-3":a(()=>[e("div",{onClick:t[6]||(t[6]=n(()=>{},["stop"]))},[t[13]||(t[13]=e("p",{class:"mb-9"},"업무 합치기 대상 선택",-1)),o(p,{placeholder:"업무"}),o(p,{class:"mt-5",placeholder:"업무2"}),o(p,{class:"mt-5",placeholder:"업무3"}),o(b,{class:"mt-5",variant:"tertiary",block:"",onClick:t[5]||(t[5]=n(()=>{},["stop"]))},{default:a(()=>t[12]||(t[12]=[f(" 합치기 ")])),_:1})])]),_:1})])]),_:1},8,["modelValue"]),i.tags&&i.tags.length>0?(d(),m("div",O,[(d(!0),m(P,null,W(i.tags,(g,U)=>(d(),$(H,q({key:U,text:g,ref_for:!0},S(g),{size:"small"}),null,16,["text"]))),128))])):w("",!0),e("div",Q,[e("p",R,C(i.title),1)]),e("div",Z,[e("div",tt,[e("span",et,[o(r,{name:"mdi:comment-outline",size:"14"}),f(" "+C(i.comments||0),1)]),e("span",ot,[o(r,{name:"mdi:paperclip",size:"14"}),f(" "+C(i.attachments||0),1)])]),e("span",nt,C(i.date),1)]),y.value?(d(),m("div",{key:1,class:"card-context-menu",style:D(_.value)},[e("div",{class:"menu-item",onClick:n(I,["stop"])},[o(r,{name:"mdi:open-in-new",size:"16"}),t[14]||(t[14]=e("span",null,"새 창으로 열기",-1))]),e("div",{class:"menu-item",onClick:n(x,["stop"])},[o(r,{name:"mdi:close",size:"16"}),t[15]||(t[15]=e("span",null,"닫기",-1))])],4)):w("",!0)],32)])}}},ft=T(st,[["__scopeId","data-v-cd16b5b4"]]);export{ft as default};
