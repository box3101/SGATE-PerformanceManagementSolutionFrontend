import N from"./BvrHfxUM.js";import O from"./RFnMyulK.js";import G from"./BcFwhd0U.js";import H from"./DuuhRiV5.js";import{_ as A,z as f,c as r,o as l,a as e,k as g,x as b,t as a,F as w,g as P,r as _,f as q,E as W,b as x,w as Y,d as M}from"./UGguS20k.js";import"./BrrRq7Fi.js";const J={class:"report-card"},Q={class:"report-header"},X={class:"report-meta"},Z={class:"create-time"},ee={class:"author-info"},te={class:"submit-target"},oe={class:"report-title"},ne={key:0,class:"report-summary"},se={class:"report-content"},ae={class:"content-section"},re={class:"content-body"},le={class:"content-text"},ie={key:0,class:"content-section"},de={class:"content-body"},ce={class:"content-text"},ue={key:1,class:"content-section"},pe={class:"content-body"},ve={class:"content-text"},me={key:2,class:"content-section"},fe={class:"attachments-list"},he={class:"attachment-icon"},_e={class:"attachment-info"},ge={class:"attachment-name"},ye={class:"attachment-size"},xe=["onClick"],be={key:3,class:"content-section"},ke={class:"feedbacks-list"},Ce={class:"feedback-header"},we={class:"feedback-author"},Te={class:"feedback-time"},Pe={class:"feedback-content"},De={__name:"ReportDetailCard",props:{report:{type:Object,required:!0,validator:s=>s&&s.extendedProps&&s.title}},setup(s){const c=s,k=f(()=>c.report.extendedProps.reportType==="daily"?"일간보고":"주간보고"),C=f(()=>c.report.extendedProps.reportType==="daily"?"daily":"weekly"),T=f(()=>c.report.extendedProps.attachments&&c.report.extendedProps.attachments.length>0),v=f(()=>c.report.extendedProps.feedbacks&&c.report.extendedProps.feedbacks.length>0);function i(p){var m;const t=(m=p.split(".").pop())==null?void 0:m.toLowerCase();return{pdf:"icon-file-pdf",doc:"icon-file-doc",docx:"icon-file-doc",xls:"icon-file-excel",xlsx:"icon-file-excel",ppt:"icon-file-ppt",pptx:"icon-file-ppt",jpg:"icon-file-image",jpeg:"icon-file-image",png:"icon-file-image",gif:"icon-file-image",zip:"icon-file-zip",rar:"icon-file-zip"}[t]||"icon-file-default"}function D(p){if(p===0)return"0 Bytes";const t=1024,d=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(p)/Math.log(t));return parseFloat((p/Math.pow(t,m)).toFixed(1))+" "+d[m]}function $(p){return new Intl.DateTimeFormat("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(p))}function V(p){console.log("파일 다운로드:",p.name)}return(p,t)=>(l(),r("div",J,[e("div",Q,[e("div",X,[e("span",{class:b(["type-badge",C.value])},a(k.value),3),e("span",Z,a(s.report.extendedProps.createTime),1),e("span",ee,a(s.report.extendedProps.author),1),e("span",te,"→ "+a(s.report.extendedProps.submitTarget),1)]),e("h2",oe,a(s.report.title),1),s.report.extendedProps.summary?(l(),r("p",ne,a(s.report.extendedProps.summary),1)):g("",!0)]),e("div",se,[e("div",ae,[t[0]||(t[0]=e("h3",{class:"section-title"},"수행 내용",-1)),e("div",re,[e("p",le,a(s.report.extendedProps.actualContent),1)])]),s.report.extendedProps.planContent?(l(),r("div",ie,[t[1]||(t[1]=e("h3",{class:"section-title"},"다음 계획",-1)),e("div",de,[e("p",ce,a(s.report.extendedProps.planContent),1)])])):g("",!0),s.report.extendedProps.etcContent?(l(),r("div",ue,[t[2]||(t[2]=e("h3",{class:"section-title"},"기타 의견",-1)),e("div",pe,[e("p",ve,a(s.report.extendedProps.etcContent),1)])])):g("",!0),T.value?(l(),r("div",me,[t[4]||(t[4]=e("h3",{class:"section-title"},"첨부파일",-1)),e("div",fe,[(l(!0),r(w,null,P(s.report.extendedProps.attachments,d=>(l(),r("div",{key:d.id,class:"attachment-item"},[e("div",he,[e("i",{class:b(i(d.name))},null,2)]),e("div",_e,[e("span",ge,a(d.name),1),e("span",ye,"("+a(D(d.size))+")",1)]),e("button",{class:"download-button",onClick:m=>V(d)},t[3]||(t[3]=[e("i",{class:"icon-download"},null,-1)]),8,xe)]))),128))])])):g("",!0),v.value?(l(),r("div",be,[t[5]||(t[5]=e("h3",{class:"section-title"},"피드백",-1)),e("div",ke,[(l(!0),r(w,null,P(s.report.extendedProps.feedbacks,d=>(l(),r("div",{key:d.id,class:"feedback-item"},[e("div",Ce,[e("span",we,a(d.author),1),e("span",Te,a($(d.createdAt)),1)]),e("p",Pe,a(d.content),1)]))),128))])])):g("",!0)])]))}},$e=A(De,[["__scopeId","data-v-a19016c9"]]),Ve={class:"report-page"},ze={class:"report-controls"},Be={class:"checkbox-group"},Fe={class:"select-group"},Re={class:"report-viewer-container"},Me={class:"single-view"},Ae={key:0,class:"navigation-bar"},Ee=["disabled"],Ie={class:"progress-nav"},Ue={class:"report-indicators"},Se=["onClick","title"],Le={class:"author-preview"},je=["disabled"],Ke={key:1,class:"report-detail"},Ne={__name:"view",setup(s){const c=_(null),k=_(!0),C=_(!0),T=_("w"),v=_(!1),i=_(0),D=[{value:"w",label:"작성일 기준"},{value:"r",label:"보고일 기준"}],$={dayMaxEvents:!1,moreLinkClick:"popover",eventDisplay:"block"},V=_([{id:"1",title:"[이찬용] 프로젝트 A 진행상황",start:"2025-05-16",allDay:!0,backgroundColor:"#0AF",borderColor:"#0AF",extendedProps:{reportType:"weekly",author:"이찬용",submitTarget:"한성진",actualContent:`리타게팅 랜딩페이지 수정
우체국뱅킹 ui/ux 개선 퍼블리싱 작업

Sgate 아카데미 퍼블리싱`,planContent:`리타게팅 랜딩페이지 수정
우체국뱅킹 ui/ux 개선 퍼블리싱 작업
Sgate 아카데미 퍼블리싱

sgate 인사평가 퍼블리싱`,etcContent:"특별한 의견 없음",attachments:[{id:1,name:"프로젝트_진행현황.xlsx",size:15234},{id:2,name:"화면설계서.pdf",size:3421567}],feedbacks:[{id:1,author:"한성진",content:"수고하셨습니다. 다음 주 일정 조율이 필요할 것 같습니다.",createdAt:"2025-05-16T16:30:00"}],summary:"프로젝트 A 1차 개발 완료",createTime:"09:30"}},{id:"2",title:"[김영희] 품질관리 점검",start:"2025-05-16",allDay:!0,backgroundColor:"#00B248",borderColor:"#00B248",extendedProps:{reportType:"daily",author:"김영희",submitTarget:"이부장",actualContent:`생산라인 전체 점검 완료
- 1라인: 정상 가동
- 2라인: 미세 조정 필요
- 3라인: 정상 가동`,planContent:`내일 계획:
- 2라인 미세 조정 작업
- 월간 품질 보고서 작성
- 신규 장비 점검`,etcContent:"전반적으로 양호한 상태",attachments:[{id:3,name:"품질점검표.pdf",size:892345}],feedbacks:[],summary:"생산라인 품질관리 점검 완료",createTime:"16:45"}},{id:"3",title:"[정수민] 회계 업무 처리",start:"2025-05-16",allDay:!0,backgroundColor:"#00B248",borderColor:"#00B248",extendedProps:{reportType:"daily",author:"정수민",submitTarget:"최팀장",actualContent:`월간 회계 마감 완료
- 매출/매입 정리
- 비용 분석
- 예산 대비 실적 검토`,planContent:`내일 계획:
- 분기 보고서 작성
- 예산 수정안 검토
- 세무사 미팅 준비`,etcContent:"예산 대비 105% 달성",attachments:[{id:5,name:"월간정산서.xlsx",size:234567},{id:6,name:"예산분석표.pdf",size:445566}],feedbacks:[],summary:"월간 회계 마감 및 실적 분석",createTime:"11:30"}},{id:"4",title:"[박민수] 마케팅 활동 보고",start:"2025-05-16",allDay:!0,backgroundColor:"#00B248",borderColor:"#00B248",extendedProps:{reportType:"daily",author:"박민수",submitTarget:"김과장",actualContent:`고객사 3곳 방문 완료
- A사: 제품 데모 진행
- B사: 계약 조건 협의
- C사: 추가 요구사항 청취`,planContent:`내일 계획:
- A사 후속 미팅 준비
- B사 계약서 검토
- 신규 고객사 발굴`,etcContent:"전반적으로 긍정적인 반응",attachments:[],feedbacks:[],summary:"고객사 방문 및 제품 소개",createTime:"14:20"}}]),p=f(()=>V.value.filter(o=>{const n=k.value&&o.extendedProps.reportType==="daily",h=C.value&&o.extendedProps.reportType==="weekly";return n||h})),t=f(()=>{if(!c.value)return[];const o=F(c.value);return p.value.filter(n=>F(n.start)===o)}),d=f(()=>t.value[i.value]||null),m=f(()=>{if(!c.value)return"보고서 뷰어";const o=L(c.value),n=t.value.length;return`${o} 보고서 (${n}건)`});function E(o){c.value=o.date,i.value=0,v.value=!0}function I(o){c.value=o.event.start;const n=t.value.findIndex(h=>h.id===o.event.id);i.value=n>=0?n:0,v.value=!0}function z(){i.value<t.value.length-1&&i.value++}function B(){i.value>0&&i.value--}function U(o){i.value=o}function S(o){return`${o.extendedProps.author} - ${o.extendedProps.createTime}`}function L(o){return o?new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(o)):""}function F(o){if(!o)return"";const n=new Date(o);return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}function R(o){if(v.value)switch(o.key){case"ArrowLeft":o.preventDefault(),B();break;case"ArrowRight":o.preventDefault(),z();break;case"Escape":o.preventDefault(),v.value=!1;break}}return q(()=>{window.addEventListener("keydown",R)}),W(()=>{window.removeEventListener("keydown",R)}),(o,n)=>{const h=N,j=O,K=G;return l(),r(w,null,[e("div",Ve,[e("div",ze,[e("div",Be,[x(h,{size:"large",modelValue:k.value,"onUpdate:modelValue":n[0]||(n[0]=u=>k.value=u),label:"일간보고",value:"d"},null,8,["modelValue"]),x(h,{size:"large",modelValue:C.value,"onUpdate:modelValue":n[1]||(n[1]=u=>C.value=u),label:"주간보고",value:"w"},null,8,["modelValue"])]),e("div",Fe,[x(j,{class:"w-150",modelValue:T.value,"onUpdate:modelValue":n[2]||(n[2]=u=>T.value=u),options:D},null,8,["modelValue"])])]),x(H,{modelValue:c.value,"onUpdate:modelValue":n[3]||(n[3]=u=>c.value=u),events:p.value,onDateClick:E,onEventClick:I,useViewportHeight:!0,viewportHeight:85,customOptions:$},null,8,["modelValue","events"])]),x(K,{modelValue:v.value,"onUpdate:modelValue":n[4]||(n[4]=u=>v.value=u),title:m.value,size:"xlarge",showFooter:!1,class:"report-viewer-modal"},{default:Y(()=>[e("div",Re,[e("div",Me,[t.value.length>1?(l(),r("div",Ae,[e("button",{onClick:B,disabled:i.value===0,class:b(["nav-button",{disabled:i.value===0}])},n[5]||(n[5]=[e("i",{class:"icon-chevron-left"},null,-1),M(" 이전 ")]),10,Ee),e("div",Ie,[e("div",Ue,[(l(!0),r(w,null,P(t.value,(u,y)=>(l(),r("button",{key:u.id,onClick:Oe=>U(y),class:b(["indicator-button",{active:y===i.value}]),title:S(u)},a(y+1),11,Se))),128))]),e("div",Le,[(l(!0),r(w,null,P(t.value,(u,y)=>(l(),r("span",{key:u.id,class:b(["author-name",{active:y===i.value}])},a(u.extendedProps.author)+a(y<t.value.length-1?",":""),3))),128))])]),e("button",{onClick:z,disabled:i.value===t.value.length-1,class:b(["nav-button",{disabled:i.value===t.value.length-1}])},n[6]||(n[6]=[M(" 다음 "),e("i",{class:"icon-chevron-right"},null,-1)]),10,je)])):g("",!0),d.value?(l(),r("div",Ke,[x($e,{report:d.value},null,8,["report"])])):g("",!0)])])]),_:1},8,["modelValue","title"])],64)}}},Qe=A(Ne,[["__scopeId","data-v-a8575fbd"]]);export{Qe as default};
