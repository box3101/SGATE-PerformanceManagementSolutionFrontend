import A from"./DcjElBFd.js";import j from"./B2PTaD0A.js";import q from"./BPGhy4cF.js";import{_ as J,r as d,c as i,b as p,w as f,o as r,F as I,g as U,x as O,a as n,m as h,i as S,t as y,G as P}from"./BvW2yB7P.js";import"./Bb35bsmZ.js";import"./sUe2AAPD.js";const Q={class:"rating-scale-table-container"},W=["draggable","onDragstart","onDragover","onDrop","onDragend","onClick"],X={key:0,class:"editing-wrapper"},Y={key:1,class:"text-display-container"},Z={class:"text-content"},ee=["onClick"],te={class:"text-center"},ne={__name:"RatingGroup",emits:["row-selected"],setup(ae,{emit:B}){const E=B;let k=null;const R=(t,e)=>(...s)=>{clearTimeout(k),k=setTimeout(()=>t(...s),e)},V=async()=>{try{console.log("✅ 자동저장 완료")}catch(t){console.error("❌ 저장 실패:",t)}},T=R(V,2e3),o=d({rowId:null,field:null}),_=d(null),x=d(""),z=()=>{T()},G=async(t,e)=>{var m;const s=c.value.find(C=>C.id===t);x.value=s[e],o.value={rowId:t,field:e},await P(),(m=_.value)!=null&&m[0]&&_.value[0].focus()},b=()=>{o.value={rowId:null,field:null},V()},$=()=>{const t=c.value.find(e=>e.id===o.value.rowId);t&&o.value.field&&(t[o.value.field]=x.value),o.value={rowId:null,field:null}},F=t=>{E("row-selected",t)},H=d([{key:"name",title:"등급척도"},{key:"ratingCount",title:"평가등급수"}]),c=d([{id:1,name:"등급척도",ratingCount:0},{id:2,name:"평가등급수",ratingCount:0},{id:3,name:"평가항목",ratingCount:0},{id:4,name:"역량평가",ratingCount:0},{id:5,name:"성과평가",ratingCount:3},{id:6,name:"다면평가",ratingCount:5},{id:7,name:"리더십평가",ratingCount:4},{id:8,name:"업적평가",ratingCount:3},{id:9,name:"핵심가치평가",ratingCount:0},{id:10,name:"직무역량평가",ratingCount:4},{id:11,name:"업무성과평가",ratingCount:3},{id:12,name:"행동역량평가",ratingCount:0},{id:13,name:"종합평가",ratingCount:4},{id:14,name:"직무수행평가",ratingCount:5},{id:15,name:"팀워크평가",ratingCount:3},{id:16,name:"소통역량평가",ratingCount:4},{id:17,name:"목표달성평가",ratingCount:5},{id:18,name:"기여도평가",ratingCount:3},{id:19,name:"전문성평가",ratingCount:4},{id:20,name:"혁신역량평가",ratingCount:5}]);return(t,e)=>{const s=A,m=j,C=q;return r(),i("div",Q,[p(C,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=u=>c.value=u),title:"등급척도 그룹",editable:"",sortable:"",scrollable:"","max-height":"calc(100vh - 200px)",canSave:!1},{colgroup:f(()=>e[3]||(e[3]=[n("col",{style:{width:"40px"}},null,-1),n("col",{style:{width:"auto"}},null,-1),n("col",{style:{width:"80px"}},null,-1)])),header:f(({selectAll:u,isAllSelected:v})=>[n("th",null,[p(s,{size:"large",onClick:e[0]||(e[0]=h(()=>{},["stop"])),modelValue:v,"onUpdate:modelValue":u},null,8,["modelValue","onUpdate:modelValue"])]),(r(!0),i(I,null,U(H.value,g=>(r(),i("th",{key:g.key},y(g.title),1))),128))]),body:f(({rows:u,toggleRowSelection:v,isRowSelected:g,handleDragStart:K,handleDragOver:L,handleDrop:M,handleDragEnd:N,sortable:w})=>[(r(!0),i(I,null,U(u,(a,D)=>(r(),i("tr",{key:a.id,draggable:w,onDragstart:l=>K(l,D),onDragover:L,onDrop:l=>M(l,D),onDragend:N,class:O({"sortable-row":w}),onClick:l=>F(a),style:{cursor:"pointer"}},[n("td",null,[p(s,{size:"large",onClick:e[1]||(e[1]=h(()=>{},["stop"])),modelValue:g(a),"onUpdate:modelValue":()=>v(a)},null,8,["modelValue","onUpdate:modelValue"])]),n("td",null,[o.value.rowId===a.id&&o.value.field==="name"?(r(),i("div",X,[p(m,{ref_for:!0,ref_key:"editInput",ref:_,modelValue:a.name,"onUpdate:modelValue":l=>a.name=l,placeholder:"등급척도명을 입력하세요",onBlur:b,onKeyup:[S(b,["enter"]),S($,["escape"])],onInput:z},null,8,["modelValue","onUpdate:modelValue"])])):(r(),i("div",Y,[n("span",Z,y(a.name||"등급척도명을 입력하세요"),1),n("button",{class:"edit-icon-btn",onClick:h(l=>G(a.id,"name"),["stop"]),title:"편집"},e[4]||(e[4]=[n("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n("path",{d:"m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),8,ee)]))]),n("td",te,y(a.ratingCount),1)],42,W))),128))]),_:1},8,["modelValue"])])}}},de=J(ne,[["__scopeId","data-v-5a86d5dc"]]);export{de as default};
