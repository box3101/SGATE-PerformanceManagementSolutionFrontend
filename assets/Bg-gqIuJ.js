import{L as A,r as D,e as P,c as T,J as K,a2 as C,a9 as N,P as z,aa as F,ab as H,R as w,H as I,_ as G,z as q,o as J,b as B,w as W,A as Q}from"./C325f_KK.js";const X=Symbol.for("nuxt:client-only"),Y=A({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(n,{slots:t,attrs:e}){const a=D(!1);return P(()=>{a.value=!0}),K(X,!0),i=>{var r;if(a.value)return(r=t.default)==null?void 0:r.call(t);const l=t.fallback||t.placeholder;if(l)return l();const u=i.fallback||i.placeholder||"",c=i.fallbackTag||i.placeholderTag||"span";return T(c,e,u)}}});var Z=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],$=function(n){return Z.map(function(t){return t.toLowerCase()}).indexOf(n.toLowerCase())!==-1},nn=function(n,t,e){Object.keys(t).filter($).forEach(function(a){var i=t[a];typeof i=="function"&&(a==="onInit"?i(n,e):e.on(a.substring(2),function(l){return i(l,e)}))})},en=function(n,t,e,a){var i=n.modelEvents?n.modelEvents:null,l=Array.isArray(i)?i.join(" "):i;C(a,function(u,c){e&&typeof u=="string"&&u!==c&&u!==e.getContent({format:n.outputFormat})&&e.setContent(u)}),e.on(l||"change input undo redo",function(){t.emit("update:modelValue",e.getContent({format:n.outputFormat}))})},tn=function(n,t,e,a,i,l){a.setContent(l()),e.attrs["onUpdate:modelValue"]&&en(t,e,a,i),nn(n,e.attrs,a)},M=0,x=function(n){var t=Date.now(),e=Math.floor(Math.random()*1e9);return M++,n+"_"+e+M+String(t)},on=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},V=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},an=function(n,t){return V(n).concat(V(t))},rn=function(n){return n==null},O=function(n){var t;return typeof((t=n.options)===null||t===void 0?void 0:t.set)=="function"&&n.options.isRegistered("disabled")},k=function(){return{listeners:[],scriptId:x("tiny-script"),scriptLoaded:!1}},ln=function(){var n=k(),t=function(i,l,u,c){var r=l.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=i,r.src=u;var o=function(){r.removeEventListener("load",o),c()};r.addEventListener("load",o),l.head&&l.head.appendChild(r)},e=function(i,l,u){n.scriptLoaded?u():(n.listeners.push(u),i.getElementById(n.scriptId)||t(n.scriptId,i,l,function(){n.listeners.forEach(function(c){return c()}),n.scriptLoaded=!0}))},a=function(){n=k()};return{load:e,reinitialize:a}},un=ln(),dn=function(){return typeof window<"u"?window:global},m=function(){var n=dn();return n&&n.tinymce?n.tinymce:null},cn={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},f=function(){return f=Object.assign||function(n){for(var t,e=1,a=arguments.length;e<a;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},f.apply(this,arguments)},sn=function(n,t,e,a){return n(a||"div",{id:t,ref:e})},fn=function(n,t,e){return n("textarea",{id:t,visibility:"hidden",ref:e})},_={selector:void 0,target:void 0},E=function(n,t){var e;typeof((e=n.mode)===null||e===void 0?void 0:e.set)=="function"?n.mode.set(t):n.setMode(t)},vn=A({props:cn,setup:function(n,t){var e=n.init?f(f({},n.init),_):f({},_),a=N(n),i=a.disabled,l=a.readonly,u=a.modelValue,c=a.tagName,r=D(null),o=null,v=n.id||x("tiny-vue"),y=n.init&&n.init.inline||n.inline,S=!!t.attrs["onUpdate:modelValue"],h=!0,U=n.initialValue?n.initialValue:"",b="",L=function(d){return S?function(){return u!=null&&u.value?u.value:""}:function(){return d?U:b}},p=function(){var d=L(h),s=f(f({},e),{disabled:n.disabled,readonly:n.readonly,target:r.value,plugins:an(e.plugins,n.plugins),toolbar:n.toolbar||e.toolbar,inline:y,license_key:n.licenseKey,setup:function(g){o=g,!O(o)&&n.disabled===!0&&E(o,"readonly"),g.on("init",function(j){return tn(j,n,t,g,u,d)}),typeof e.setup=="function"&&e.setup(g)}});on(r.value)&&(r.value.style.visibility=""),m().init(s),h=!1};C(l,function(d){o!==null&&E(o,d?"readonly":"design")}),C(i,function(d){o!==null&&(O(o)?o.options.set("disabled",d):E(o,d?"readonly":"design"))}),C(c,function(d){var s;o&&(S||(b=o.getContent()),(s=m())===null||s===void 0||s.remove(o),I(function(){return p()}))}),P(function(){if(m()!==null)p();else if(r.value&&r.value.ownerDocument){var d=n.cloudChannel?n.cloudChannel:"7",s=n.apiKey?n.apiKey:"no-api-key",g=rn(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(s,"/tinymce/").concat(d,"/tinymce.min.js"):n.tinymceScriptSrc;un.load(r.value.ownerDocument,g,p)}}),z(function(){m()!==null&&m().remove(o)}),y||(F(function(){h||p()}),H(function(){var d;o&&(S||(b=o.getContent()),(d=m())===null||d===void 0||d.remove(o))}));var R=function(d){var s;o&&(b=o.getContent(),(s=m())===null||s===void 0||s.remove(o),e=f(f(f({},e),d),_),I(function(){return p()}))};return t.expose({rerender:R,getEditor:function(){return o}}),function(){return y?sn(w,v,r,n.tagName):fn(w,v,r)}}});const mn={class:"tinymce-editor-wrapper"},gn={__name:"TinyEditor",props:{modelValue:{type:String,default:""},height:{type:[Number,String],default:400},showMenubar:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},showToolbar:{type:Boolean,default:!0}},emits:["update:modelValue","init","change"],setup(n,{emit:t}){const e=n,a=t,i=o=>typeof o=="string"?o.includes("calc")||o.includes("vh")||o.includes("vw")||o.includes("%")||isNaN(o)?o:parseInt(o):o,l=q(()=>({height:i(e.height),menubar:e.showMenubar,plugins:"lists link image table code",toolbar:e.showToolbar?"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link image | code":!1,toolbar_mode:"floating",branding:!1,language:"ko_KR",readonly:e.readonly,resize:"vertical",content_style:`
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-size: 14px;
      line-height: 1.6;
      margin: 20px;
    }
  `})),u=o=>{a("update:modelValue",o)},c=(o,v)=>{console.log("TinyMCE 초기화 완료"),a("init",o,v)},r=(o,v)=>{a("change",o,v)};return(o,v)=>{const y=Y;return J(),T("div",mn,[B(y,null,{default:W(()=>[B(Q(vn),{"model-value":n.modelValue,"onUpdate:modelValue":u,init:l.value,onInit:c,onChange:r},null,8,["model-value","init"])]),_:1})])}}},pn=G(gn,[["__scopeId","data-v-d9bae1cc"]]);export{pn as default};
