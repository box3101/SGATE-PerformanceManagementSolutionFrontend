import ue from"./Bxb8YO8Z.js";import pe from"./Cv9e0_lJ.js";import ce from"./gm_NC4cE.js";import me from"./ZK5tNyq1.js";import ve from"./CXD4Q4B1.js";import ye from"./Dr1Liscg.js";import fe from"./D0k4grGg.js";import _e from"./BkM0ciao.js";import{_ as ge,D as De,r as c,z as H,f as ke,c as s,a as t,b as u,w as p,t as _,y as he,o as a,d as z,F as b,g as V,x as J,k as m,m as g,C as x}from"./DT5pjnep.js";import"./COWcEWpE.js";const be={class:"page-container"},Ve={class:"page-header"},xe={class:"header-left"},Ce={class:"select-group"},Ue={class:"select-item"},Ae={class:"header-right"},we={class:"button-group"},ze={class:"flex-container"},Se={class:"w-40p"},Te={key:0,style:{width:"40px"}},$e={key:0,style:{width:"40px"}},Ne=["onClick","draggable","onDragstart","onDragover","onDrop","onDragend"],Re={key:0},qe={key:0,class:"row-checkbox"},Ie={key:1,class:"drag-handle"},Be={class:"w-60p"},Ee={key:0,class:"template-detail"},Fe={class:"flex justify-between items-center mb-12"},Oe={class:"template-info"},Ye={class:"action-buttons flex gap-8"},Me={key:0,class:"template-content scrollable-minus-14"},je={class:"content-section"},Pe={key:1,class:"template-content"},Le={class:"content-section"},Ge=["onClick"],He={key:3},Je={class:"writing-period-info mb-16 mt-16"},Ke={class:"period-dates flex items-center gap-2"},Qe={class:"date-label"},We={class:"date-label"},Xe={key:1,class:"empty-state"},Ze={__name:"index",setup(et){const K=De("logoText");K.value="성과기술서템플릿";const q=c(!0),d=c(null),B=c(""),C=c(!1),S=c(null);c(!1);const Q={name:"",type:"",startDate:"",endDate:"",isActive:!0,isNewRow:!0},E=[{value:"양식",label:"양식"},{value:"항목정의",label:"항목정의"}],W=H(()=>{const l=new Date().getFullYear();return Array.from({length:5},(e,k)=>({value:l-k,label:`${l-k}년`}))}),F=c([{key:"name",title:"성과기술서 템플릿",editable:!0,type:"input",align:"",placeholder:"템플릿명을 입력해주세요"},{key:"type",title:"형식",editable:!0,type:"select",align:"center",placeholder:"형식"},{key:"edit",title:"편집",editable:!0,type:"button",align:"center"}]),O=c([{key:"name",title:"항목명",editable:!0,type:"input",align:"",placeholder:"항목명을 입력해주세요"},{key:"type",title:"입력형태",editable:!0,type:"select",align:"center",placeholder:"입력형태"},{key:"isRequired",title:"필수여부",editable:!0,type:"checkbox",align:"center"},{key:"guidance",title:"작성가이드",editable:!0,type:"input",align:"",placeholder:"작성가이드를 입력해주세요"}]),D=c([{id:1,name:"상하반기(양식)",type:"양식",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!0},{id:2,name:"상하반기(항목)",type:"항목정의",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:3,name:"하반기(양식)",type:"양식",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:4,name:"영업 성과 관리 템플릿",type:"양식",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:5,name:"연구개발 성과 평가 템플릿",type:"연구",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:6,name:"양식직무 성과평가 템플릿",type:"양식",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:7,name:"프로젝트 성과 평가 템플릿",type:"양식",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:8,name:"관리자용 성과 평가 템플릿",type:"양식",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:9,name:"신입사원 성과 평가 템플릿",type:"일반",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:10,name:"해외 영업 성과 템플릿",type:"영업",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:11,name:"국내 영업 성과 템플릿",type:"영업",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:12,name:"R&D 성과 평가 템플릿",type:"연구",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:13,name:"제품 개발 성과 평가 템플릿",type:"연구",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:14,name:"마케팅 성과 평가 템플릿",type:"일반",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:15,name:"인사팀 성과 평가 템플릿",type:"일반",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:16,name:"재무팀 성과 평가 템플릿",type:"일반",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:17,name:"고객 서비스 성과 평가 템플릿",type:"일반",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:18,name:"품질 관리 성과 평가 템플릿",type:"일반",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:19,name:"생산직 성과 평가 템플릿",type:"일반",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1},{id:20,name:"상품 기획 성과 평가 템플릿",type:"일반",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!1}]),T=c({1:[{id:1,name:"상반기 목표",type:"텍스트",isRequired:!0,guidance:"상반기 목표를 입력하세요"},{id:2,name:"하반기 목표",type:"텍스트",isRequired:!0,guidance:"하반기 목표를 입력하세요"}],2:[{id:1,name:"프로젝트 성과",type:"숫자",isRequired:!0,guidance:"프로젝트 완료 건수"},{id:2,name:"매출 성과",type:"숫자",isRequired:!1,guidance:"매출 달성률(%)"}],3:[{id:1,name:"하반기 성과",type:"텍스트",isRequired:!0,guidance:"하반기 성과를 입력하세요"}]}),Y=H(()=>!d.value||!d.value.id?[]:T.value[d.value.id]||[]),X=l=>{!d.value||!d.value.id||(T.value[d.value.id]=l)},M=l=>{d.value=l,T.value[l.id]||(T.value[l.id]=[{id:I(),name:"",type:"",isRequired:!1,guidance:""}])},Z=()=>{D.value.length>0&&!d.value&&(console.log("초기 로딩: 첫번째 템플릿 자동 선택"),M(D.value[0]))},ee=l=>{console.log("handleSaveClick"),S.value=l,C.value=!0},te=()=>{console.log("저장 확인됨:",S.value),D.value.forEach(l=>{l.isNewRow===!0&&(delete l.isNewRow,console.log("새 행 저장 완료:",l.name))}),C.value=!1,S.value=null,alert("저장이 완료되었습니다!")},ae=l=>{l.id=I(),l.isNewRow=!0;const e=new Date().toISOString().split("T")[0];l.startDate=l.startDate||e,l.endDate=l.endDate||`${new Date().getFullYear()}-12-31`,console.log("새 행 추가됨:",l)},I=()=>`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,le=()=>{console.log("미리보기:",d.value)},ne=()=>{const l={...d.value,id:I(),name:`${d.value.name} (복사본)`,isNewRow:!0};D.value.push(l),alert("템플릿이 복사되었습니다!")},se=()=>{console.log("템플릿 저장:",d.value),alert("템플릿 상세 내용이 저장되었습니다!")},oe=()=>{console.log("저장 취소됨"),C.value=!1,S.value=null};return ke(()=>{Z()}),(l,e)=>{const k=ue,U=pe,A=ce,j=me,P=ve,ie=ye,de=fe,re=_e;return a(),s("div",be,[t("div",Ve,[t("div",xe,[t("div",Ce,[t("div",Ue,[e[10]||(e[10]=t("span",{class:"select-label"},"기준년도",-1)),u(k,{modelValue:B.value,"onUpdate:modelValue":e[0]||(e[0]=r=>B.value=r),options:W.value,size:"medium",placeholder:"선택",width:"150px"},null,8,["modelValue","options"])])])]),t("div",Ae,[t("div",we,[u(U,{type:"button",variant:"secondary-line",size:"medium"},{default:p(()=>e[11]||(e[11]=[z(" 검색 "),t("i",{class:"icon-md icon-search"},null,-1)])),_:1})])])]),t("div",ze,[t("div",Se,[u(P,{scrollable:"","max-height":"calc(100vh - 180px)",title:"성과기술서 템플릿",modelValue:D.value,"onUpdate:modelValue":e[4]||(e[4]=r=>D.value=r),editable:"",hover:"",onSave:ee,onRowAdded:ae,"default-row-data":Q},{colgroup:p(()=>[q.value?(a(),s("col",Te)):m("",!0),e[12]||(e[12]=t("col",{style:{width:"auto"}},null,-1)),e[13]||(e[13]=t("col",{style:{width:"150px"}},null,-1)),e[14]||(e[14]=t("col",{style:{width:"80px"}},null,-1))]),header:p(({selectAll:r,isAllSelected:v,sortable:y})=>[t("tr",null,[q.value?(a(),s("th",$e,[u(A,{modelValue:v,"onUpdate:modelValue":r,size:"large"},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),(a(!0),s(b,null,V(F.value,(h,$)=>(a(),s("th",{key:$},_(h.title),1))),128))])]),body:p(({rows:r,toggleRowSelection:v,isRowSelected:y,handleDragStart:h,handleDragOver:$,handleDrop:L,handleDragEnd:G,sortable:w})=>[(a(!0),s(b,null,V(r,(o,N)=>{var i;return a(),s("tr",{key:o.id,onClick:n=>!w&&v(o),class:J({selected:y(o)||((i=d.value)==null?void 0:i.id)===o.id,"sortable-row":w}),draggable:w,onDragstart:n=>h(n,N),onDragover:n=>$(n),onDrop:n=>L(n,N),onDragend:G},[q.value?(a(),s("td",Re,[w?(a(),s("div",Ie,e[15]||(e[15]=[t("i",{class:"icon-md icon-drag"},null,-1)]))):(a(),s("div",qe,[u(A,{modelValue:y(o),"onUpdate:modelValue":n=>v(o),size:"large",onClick:e[1]||(e[1]=g(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))])):m("",!0),(a(!0),s(b,null,V(F.value,(n,f)=>(a(),s("td",{key:f,class:J(n.align?`text-${n.align}`:"")},[n.editable&&n.type==="input"?(a(),x(j,{key:0,modelValue:o[n.key],"onUpdate:modelValue":R=>o[n.key]=R,size:"large",placeholder:n.placeholder||"",onClick:e[2]||(e[2]=g(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])):m("",!0),n.editable&&n.type==="select"?(a(),x(k,{key:1,modelValue:o[n.key],"onUpdate:modelValue":R=>o[n.key]=R,size:"large",options:E,placeholder:n.placeholder||"",onClick:e[3]||(e[3]=g(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])):m("",!0),n.editable&&n.type==="button"&&!o.isNewRow?(a(),x(U,{key:2,type:"button",variant:"secondary-line","icon-only":"",onClick:g(R=>M(o),["stop"])},{default:p(()=>e[16]||(e[16]=[t("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])):m("",!0)],2))),128))],42,Ne)}),128))]),_:1},8,["modelValue"]),u(ie,{modelValue:C.value,"onUpdate:modelValue":e[5]||(e[5]=r=>C.value=r),type:"info",title:"저장 확인",message:"변경사항을 저장하시겠습니까?<br/>새로 추가된 행도 함께 저장됩니다.","confirm-button-text":"저장","cancel-button-text":"취소",onConfirm:te,onCancel:oe},null,8,["modelValue"])]),t("div",Be,[d.value?(a(),s("div",Ee,[t("div",Fe,[t("div",Oe,[t("h3",null,_(d.value.name),1)]),t("div",Ye,[u(U,{variant:"secondary-line",size:"large",onClick:le},{default:p(()=>e[17]||(e[17]=[t("i",{class:"icon-md icon-eye"},null,-1),z(" 미리보기 ")])),_:1}),u(U,{variant:"secondary-line",size:"large",onClick:ne},{default:p(()=>e[18]||(e[18]=[t("i",{class:"icon-md icon-copy"},null,-1),z(" 템플릿 복사하기 ")])),_:1}),u(U,{variant:"primary",size:"large",onClick:se},{default:p(()=>e[19]||(e[19]=[t("i",{class:"icon-md icon-save"},null,-1),z(" 저장 ")])),_:1})])]),d.value.type==="양식"?(a(),s("div",Me,[t("div",je,[u(de,{height:"calc(100vh - 230px)"})])])):(a(),s("div",Pe,[t("div",Le,[u(P,{modelValue:Y.value,"onUpdate:modelValue":[e[9]||(e[9]=r=>Y.value=r),X],hover:"",scrollable:"",editable:"","max-height":"calc(100vh - 270px)",canSave:!1,"default-row-data":{name:"",type:"",isRequired:!1,guidance:""}},{header:p(({selectAll:r,isAllSelected:v})=>[t("tr",null,[t("th",null,[u(A,{modelValue:v,"onUpdate:modelValue":r,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),(a(!0),s(b,null,V(O.value,(y,h)=>(a(),s("th",{key:h},_(y.title),1))),128))])]),body:p(({rows:r,toggleRowSelection:v,isRowSelected:y,handleDragStart:h,handleDragOver:$,handleDrop:L,handleDragEnd:G,sortable:w})=>[(a(!0),s(b,null,V(r,(o,N)=>(a(),s("tr",{key:N,onClick:i=>v(o)},[t("td",null,[u(A,{modelValue:y(o),size:"large"},null,8,["modelValue"])]),(a(!0),s(b,null,V(O.value,(i,n)=>(a(),s("td",{key:n},[i.editable&&i.type==="input"?(a(),x(j,{key:0,modelValue:o[i.key],"onUpdate:modelValue":f=>o[i.key]=f,size:"large",placeholder:i.placeholder||"",onClick:e[6]||(e[6]=g(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])):m("",!0),i.editable&&i.type==="select"?(a(),x(k,{key:1,modelValue:o[i.key],"onUpdate:modelValue":f=>o[i.key]=f,size:"large",options:E,placeholder:i.placeholder||"",onClick:e[7]||(e[7]=g(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])):m("",!0),i.editable&&i.type==="checkbox"?(a(),x(A,{key:2,modelValue:o[i.key],"onUpdate:modelValue":f=>o[i.key]=f,size:"large",onClick:e[8]||(e[8]=g(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])):m("",!0),i.editable?m("",!0):(a(),s("span",He,_(o[i.key]),1))]))),128))],8,Ge))),128))]),_:1},8,["modelValue"])])])),t("div",Je,[e[21]||(e[21]=t("h4",{class:"text-md font-medium mb-2"},"성과기술서 작성기간",-1)),t("div",Ke,[t("span",Qe,_(d.value.startDate),1),e[20]||(e[20]=t("span",{class:"date-separator"},"~",-1)),t("span",We,_(d.value.endDate),1),u(re,{variant:"primary",size:"small",class:"ml-2"},{default:p(()=>[z(_(d.value.isActive?"진행중":"마감"),1)]),_:1})])])])):(a(),s("div",Xe,e[22]||(e[22]=[he('<div class="empty-content" data-v-fa06b786><div class="empty-icon" data-v-fa06b786><i class="icon-xl icon-document-text icon-gray-light" data-v-fa06b786></i></div><h3 class="empty-title" data-v-fa06b786>템플릿을 선택해주세요</h3><p class="empty-description" data-v-fa06b786> 왼쪽 목록에서 성과기술서 템플릿을 선택하면<br data-v-fa06b786> 상세 정보와 편집 옵션을 확인할 수 있습니다. </p></div>',1)])))])])])}}},pt=ge(Ze,[["__scopeId","data-v-fa06b786"]]);export{pt as default};
