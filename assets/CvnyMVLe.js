import{_ as R}from"./uXdg7M0Z.js";import{_ as ee}from"./Crq8-WXz.js";import{_ as le}from"./CmV2ggOH.js";import{_ as ae,r as p,s as te,c as d,a,b as o,w as u,F as g,o as s,g as $,x as w,k as h,m as D,t as k,d as O,D as oe}from"./T_VG7Lc3.js";import{U as ne}from"./D_orFyrO.js";import{a as se,U as b}from"./DEYg7t_f.js";import{_}from"./k0lUZQkx.js";import{_ as de}from"./CSMZYamS.js";import{U as M}from"./Be6mbB5s.js";import"./0b7B6alT.js";const re={class:"flex-container"},ue={class:"w-70p"},ie=["onClick","draggable","onDragstart","onDragover","onDrop","onDragend"],ve={key:0},pe={key:0,class:"row-checkbox"},me={key:1,class:"drag-handle"},ce={key:1},ge=["onClick"],ye=["rowspan"],fe={key:0,class:"row-checkbox"},we={key:1,class:"drag-handle"},ke=["rowspan"],Ve=["rowspan"],he=["rowspan"],be={key:2,class:"bos-behaviors"},_e={class:"bos-behaviors-header flex items-center justify-between mb-4"},Ue={class:"bos-table"},xe={class:"flex items-center gap-2"},Ce={key:0},Be={__name:"index",setup($e){p("2025"),p([{value:"2025",label:"2025년"},{value:"2024",label:"2024년"},{value:"2023",label:"2023년"}]);const I=p(!0),N=p(!0),m=p([{key:"name",title:"역량항목",align:"",width:"100px",icon:"edit"},{key:"category",title:"구분",align:"center",width:"100px"},{key:"standard",title:"행동기준/행동수준/역량정의",align:"",width:""},{key:"level",title:"수준/점수",align:"center",width:"100px"},{key:"weight",title:"가중",align:"center",width:"80px"}]),L=te(()=>{const n={};return m.value.forEach(e=>{n[e.key]=e.key==="level"||e.key==="weight"?0:""}),n}),V=p([{id:1,name:"리더십",category:"핵심역량",standard:"조직의 목표를 달성하기 위해 구성원들을 이끄는 능력",level:5,weight:20},{id:2,name:"문제해결",category:"직무역량",standard:"복잡한 문제를 분석하고 효과적인 해결책을 도출하는 능력",level:4,weight:15},{id:3,name:"의사소통",category:"기본역량",standard:"정보와 아이디어를 명확하게 전달하고 수용하는 능력",level:3,weight:10},{id:4,name:"전략적 사고",category:"BOS",behaviors:[{description:"사업에 대한 통찰력에 기초하여 2년 이상의 추진 기간이 요구되는 장기적 사업 계획을 기안하며, 장기적 미래의 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:5,score:100,weight:"-"},{description:"1~2년의 추진 기간이 요구되는 중기적 사업 계획을 수립하며, 중기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:4,score:80,weight:"-"},{description:"3~6개월 이상의 추진 기간이 요구되는 단기적 사업 계획을 수립하며, 단기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:3,score:60,weight:"-"}]},{id:5,name:"성과지향",category:"일반",standard:"목표를 달성하기 위해 끊임없이 노력하는 태도",level:"-",weight:"-"}]),j=n=>{console.log("저장된 데이터:",n)},U=p(!1),C=p(!1),B=p(null),q=p([{value:"일반",label:"일반"},{value:"BOS",label:"BOS"}]),S=()=>({name:"",category:"",standard:"",level:3,weight:10,behaviors:[]}),l=p(S()),G=n=>{l.value.behaviors=[],n==="일반"?(l.value.level="-",l.value.weight="-"):n==="BOS"?l.value.behaviors=[z()]:(l.value.level=3,l.value.weight=10)},z=()=>({description:"",level:1,score:20,weight:"-"}),H=()=>{l.value.behaviors.push(z())},K=n=>{l.value.behaviors.splice(n,1)},A=()=>{U.value=!1,C.value=!1,B.value=null,l.value=S()},F=n=>{C.value=!0,B.value=n.id,l.value=JSON.parse(JSON.stringify({name:n.name,category:n.category,standard:n.standard,level:n.level,weight:n.weight,behaviors:n.behaviors||[]})),U.value=!0},P=()=>{if(!l.value.name||!l.value.category){alert("항목명과 구분은 필수 입력 항목입니다.");return}if(l.value.category==="BOS"){if(l.value.behaviors.length===0){alert("BOS 구분의 경우 최소 하나 이상의 행동수준을 추가해야 합니다.");return}for(const n of l.value.behaviors)if(!n.description){alert("모든 행동수준 설명을 입력해주세요.");return}}else if(l.value.category==="일반"){if(!l.value.standard){alert("역량정의를 입력해주세요.");return}l.value.level="-",l.value.weight="-"}else if(!l.value.standard){alert("역량정의를 입력해주세요.");return}if(C.value){const n=V.value.findIndex(e=>e.id===B.value);n!==-1&&(V.value[n]={...V.value[n],...l.value,id:B.value})}else V.value.push({id:Date.now(),...l.value});A()};return(n,e)=>{const y=R,E=ee,Q=le;return s(),d(g,null,[e[27]||(e[27]=a("div",{class:"page-header"},null,-1)),a("div",re,[e[18]||(e[18]=a("div",{class:"w-30p"},"2",-1)),a("div",ue,[o(Q,{title:"테이블 제목",modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=t=>V.value=t),hover:"",editable:"",bordered:"",canAddRow:!1,"default-row-data":L.value,onSave:j},{"action-button":u(()=>[o(y,{type:"button",variant:"primary",onClick:e[0]||(e[0]=t=>U.value=!0)},{default:u(()=>e[11]||(e[11]=[O(" 항목 추가 ")])),_:1})]),colgroup:u(()=>e[12]||(e[12]=[])),header:u(({selectAll:t,isAllSelected:c})=>e[13]||(e[13]=[])),body:u(({rows:t,toggleRowSelection:c,isRowSelected:v,handleDragStart:W,handleDragOver:X,handleDrop:Y,handleDragEnd:Z,sortable:f})=>[(s(!0),d(g,null,$(t,(r,T)=>(s(),d(g,{key:r.id},[r.category!=="BOS"?(s(),d("tr",{key:0,onClick:i=>!f&&c(r),class:w({selected:v(r),"sortable-row":f}),draggable:f,onDragstart:i=>W(i,T),onDragover:i=>X(i),onDrop:i=>Y(i,T),onDragend:Z},[I.value?(s(),d("td",ve,[f?(s(),d("div",me,e[14]||(e[14]=[a("i",{class:"icon-md icon-drag"},null,-1)]))):(s(),d("div",pe,[o(E,{modelValue:v(r),"onUpdate:modelValue":i=>c(r),size:"large",onClick:e[1]||(e[1]=D(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))])):h("",!0),(s(!0),d(g,null,$(m.value,(i,x)=>(s(),d("td",{key:x,class:w(i.align?`text-${i.align}`:"")},k(r[i.key]),3))),128)),N.value?(s(),d("td",ce,[o(y,{variant:"ghost","icon-only":"",onClick:D(i=>F(r),["stop"])},{default:u(()=>e[15]||(e[15]=[a("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])])):h("",!0)],42,ie)):(s(!0),d(g,{key:1},$(r.behaviors,(i,x)=>(s(),d("tr",{key:`${r.id}-${x}`,onClick:J=>!f&&c(r),class:w({selected:v(r),"sortable-row":f})},[x===0?(s(),d(g,{key:0},[I.value?(s(),d("td",{key:0,rowspan:r.behaviors.length},[f?(s(),d("div",we,e[16]||(e[16]=[a("i",{class:"icon-md icon-drag"},null,-1)]))):(s(),d("div",fe,[o(E,{modelValue:v(r),"onUpdate:modelValue":J=>c(r),size:"large",onClick:e[2]||(e[2]=D(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))],8,ye)):h("",!0),a("td",{rowspan:r.behaviors.length},k(r.name),9,ke),a("td",{rowspan:r.behaviors.length,class:w(m.value[1].align?`text-${m.value[1].align}`:"")},k(r.category),11,Ve)],64)):h("",!0),a("td",{class:w(m.value[2].align?`text-${m.value[2].align}`:"")},k(i.description),3),a("td",{class:w(m.value[3].align?`text-${m.value[3].align}`:"")},k(i.level)+"/"+k(i.score),3),a("td",{class:w(m.value[4].align?`text-${m.value[4].align}`:"")},k(i.weight),3),N.value&&x===0?(s(),d("td",{key:1,rowspan:r.behaviors.length},[o(y,{variant:"ghost","icon-only":"",onClick:D(J=>F(r),["stop"])},{default:u(()=>e[17]||(e[17]=[a("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])],8,he)):h("",!0)],10,ge))),128))],64))),128))]),_:1},8,["modelValue","default-row-data"])])]),o(ne,{modelValue:U.value,"onUpdate:modelValue":e[10]||(e[10]=t=>U.value=t),title:C.value?"역량사전 항목 수정":"역량사전 항목 추가",showFooter:!0},{footerActions:u(()=>[o(y,{onClick:P,variant:"primary"},{default:u(()=>e[25]||(e[25]=[O("저장")])),_:1}),o(y,{onClick:A,variant:"secondary-line"},{default:u(()=>e[26]||(e[26]=[O("닫기")])),_:1})]),default:u(()=>[o(se,null,{default:u(()=>[o(b,{label:"역량항목"},{default:u(()=>[o(_,{modelValue:l.value.name,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.name=t),placeholder:"역량항목을 입력해주세요."},null,8,["modelValue"])]),_:1}),o(b,{label:"구분"},{default:u(()=>[o(de,{modelValue:l.value.category,"onUpdate:modelValue":[e[5]||(e[5]=t=>l.value.category=t),G],options:q.value,placeholder:"구분을 선택해주세요."},null,8,["modelValue","options"])]),_:1}),l.value.category==="일반"?(s(),oe(b,{key:0,label:"역량정의"},{default:u(()=>[o(M,{modelValue:l.value.standard,"onUpdate:modelValue":e[6]||(e[6]=t=>l.value.standard=t),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1})):l.value.category!=="BOS"?(s(),d(g,{key:1},[o(b,{label:"역량정의"},{default:u(()=>[o(M,{modelValue:l.value.standard,"onUpdate:modelValue":e[7]||(e[7]=t=>l.value.standard=t),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1}),o(b,{label:"수준/점수"},{default:u(()=>[o(_,{modelValue:l.value.level,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.level=t),modelModifiers:{number:!0},type:"number",placeholder:"수준/점수를 입력해주세요."},null,8,["modelValue"])]),_:1}),o(b,{label:"가중치"},{default:u(()=>[o(_,{modelValue:l.value.weight,"onUpdate:modelValue":e[9]||(e[9]=t=>l.value.weight=t),modelModifiers:{number:!0},type:"number",placeholder:"가중치를 입력해주세요."},null,8,["modelValue"])]),_:1})],64)):(s(),d("div",be,[a("div",_e,[e[20]||(e[20]=a("h3",{class:"heading-5"},"행동수준 관리",-1)),o(y,{type:"button",variant:"secondary-line",size:"small",onClick:H},{default:u(()=>e[19]||(e[19]=[O(" 행동수준 추가 ")])),_:1})]),a("table",Ue,[e[24]||(e[24]=a("thead",null,[a("tr",null,[a("th",{width:"50%"},"행동수준 설명"),a("th",{width:"20%"},"수준/점수"),a("th",{width:"15%"},"가중치"),a("th",{width:"15%"},"관리")])],-1)),a("tbody",null,[(s(!0),d(g,null,$(l.value.behaviors,(t,c)=>(s(),d("tr",{key:c},[a("td",null,[o(M,{modelValue:t.description,"onUpdate:modelValue":v=>t.description=v,placeholder:"행동수준 설명을 입력해주세요.",rows:"3"},null,8,["modelValue","onUpdate:modelValue"])]),a("td",null,[a("div",xe,[o(_,{modelValue:t.level,"onUpdate:modelValue":v=>t.level=v,modelModifiers:{number:!0},type:"number",placeholder:"수준",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"]),e[21]||(e[21]=a("span",null,"/",-1)),o(_,{modelValue:t.score,"onUpdate:modelValue":v=>t.score=v,modelModifiers:{number:!0},type:"number",placeholder:"점수",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"])])]),a("td",null,[o(_,{modelValue:t.weight,"onUpdate:modelValue":v=>t.weight=v,modelModifiers:{number:!0},type:"number",placeholder:"가중치"},null,8,["modelValue","onUpdate:modelValue"])]),a("td",null,[o(y,{type:"button",variant:"secondary-line","icon-only":"",size:"small",onClick:v=>K(c),title:"행동수준 삭제"},{default:u(()=>e[22]||(e[22]=[a("i",{class:"icon-md icon-delete"},null,-1)])),_:2},1032,["onClick"])])]))),128)),l.value.behaviors.length===0?(s(),d("tr",Ce,e[23]||(e[23]=[a("td",{colspan:"4",class:"text-center py-4"}," 행동수준이 없습니다. '행동수준 추가' 버튼을 클릭하여 추가해주세요. ",-1)]))):h("",!0)])])]))]),_:1})]),_:1},8,["modelValue","title"])],64)}}},Te=ae(Be,[["__scopeId","data-v-e1fca926"]]);export{Te as default};
