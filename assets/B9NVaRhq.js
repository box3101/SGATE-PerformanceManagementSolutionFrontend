import q from"./4fZZ6Pvg.js";import W from"./M5S-PZ4p.js";import Y from"./D0E71NXE.js";import J from"./ojZFpzWp.js";import{_ as A,c as n,o,a as l,k as y,x as _,t as r,r as p,z as x,f as Q,E as X,G as Z,b as f,w as ee,F as h,g as w,d as T}from"./CtiExuJi.js";import"./C_OMWNXR.js";const te={class:"report-card"},ae={class:"report-header"},le={class:"report-meta"},ne={class:"create-time"},oe={class:"report-title"},re={key:0,class:"report-summary"},se={__name:"ReportDetailCard",props:{report:{type:Object,required:!0}},setup(m){return(d,b)=>(o(),n("div",te,[l("div",ae,[l("div",le,[l("span",{class:_(["type-badge",m.report.extendedProps.reportType==="daily"?"daily":"weekly"])},r(m.report.extendedProps.reportType==="daily"?"일간보고":"주간보고"),3),l("span",ne,r(m.report.extendedProps.createTime),1)]),l("h2",oe,r(m.report.title),1),m.report.extendedProps.summary?(o(),n("p",re,r(m.report.extendedProps.summary),1)):y("",!0)]),b[0]||(b[0]=l("div",{class:"report-content"},"23",-1))]))}},ie=A(se,[["__scopeId","data-v-3a82bf27"]]),de={class:"report-page"},ue={class:"report-controls mt-20 com-header flex gap-10 mb-20"},ce={class:"checkbox-group flex gap-10"},pe={class:"select-group"},ve={class:"report-viewer-container"},me={class:"view-mode-tabs flex border-b mb-6"},be=["onClick"],ge={key:0,class:"ml-2 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs"},fe={key:0,class:"single-view"},ye={key:0,class:"navigation-bar flex items-center justify-between mb-6 p-4 bg-gray-50 rounded-lg"},xe=["disabled"],he={class:"progress-nav flex items-center gap-3"},_e={class:"report-indicators flex gap-2"},we=["onClick","title"],ke={class:"author-preview text-sm text-gray-600"},Ce=["disabled"],Te={key:1,class:"report-detail"},De={key:1,class:"timeline-view"},Ve={class:"timeline-container"},Pe={class:"timeline-marker flex-shrink-0"},Re={key:0,class:"w-0.5 h-16 bg-gray-300 ml-1.5 mt-2"},$e={class:"timeline-content flex-1"},ze={class:"time-header flex items-center gap-3 mb-2"},Ee={class:"font-semibold text-blue-600"},Ue={class:"text-sm text-gray-500"},Ae=["onClick"],Ie={class:"font-medium mb-2"},Se={class:"text-sm text-gray-600 line-clamp-3"},Be={__name:"view",setup(m){const d=p(null);p(null);const b=p(!0),k=p(!0),D=p("w"),g=p(!1),v=p("single"),s=p(0),I=[{value:"single",label:"단일 보기"},{value:"timeline",label:"타임라인"}],S=p([{id:"1",title:"[이찬용] 프로젝트 A 진행상황",start:"2025-05-16",allDay:!0,backgroundColor:"#0084ff",borderColor:"#0084ff",extendedProps:{reportType:"weekly",author:"이찬용",submitTarget:"한성진",actualContent:`리타게팅 랜딩페이지 수정
우체국뱅킹 ui/ux 개선 퍼블리싱 작업

Sgate 아카데미 퍼블리싱`,planContent:`리타게팅 랜딩페이지 수정
우체국뱅킹 ui/ux 개선 퍼블리싱 작업
Sgate 아카데미 퍼블리싱

sgate 인사평가 퍼블리싱`,etcContent:"특별한 의견 없음",attachments:[{id:1,name:"프로젝트_진행현황.xlsx",size:15234},{id:2,name:"화면설계서.pdf",size:3421567}],feedbacks:[{id:1,author:"한성진",content:"수고하셨습니다. 다음 주 일정 조율이 필요할 것 같습니다.",createdAt:"2025-05-16T16:30:00"}],summary:"프로젝트 A 1차 개발 완료",createTime:"09:30"}},{id:"2",title:"[김영희] 품질관리 점검",start:"2025-05-16",allDay:!0,backgroundColor:"#ff6b35",borderColor:"#ff6b35",extendedProps:{reportType:"daily",author:"김영희",submitTarget:"이부장",actualContent:`생산라인 전체 점검 완료
- 1라인: 정상 가동
- 2라인: 미세 조정 필요
- 3라인: 정상 가동`,planContent:`내일 계획:
- 2라인 미세 조정 작업
- 월간 품질 보고서 작성
- 신규 장비 점검`,etcContent:"전반적으로 양호한 상태",attachments:[{id:3,name:"품질점검표.pdf",size:892345}],feedbacks:[],summary:"생산라인 품질관리 점검 완료",createTime:"16:45"}},{id:"3",title:"[정수민] 회계 업무 처리",start:"2025-05-16",allDay:!0,backgroundColor:"#6f42c1",borderColor:"#6f42c1",extendedProps:{reportType:"daily",author:"정수민",submitTarget:"최팀장",actualContent:`월간 회계 마감 완료
- 매출/매입 정리
- 비용 분석
- 예산 대비 실적 검토`,planContent:`내일 계획:
- 분기 보고서 작성
- 예산 수정안 검토
- 세무사 미팅 준비`,etcContent:"예산 대비 105% 달성",attachments:[{id:5,name:"월간정산서.xlsx",size:234567},{id:6,name:"예산분석표.pdf",size:445566}],feedbacks:[],summary:"월간 회계 마감 및 실적 분석",createTime:"11:30"}},{id:"4",title:"[박민수] 마케팅 활동 보고",start:"2025-05-16",allDay:!0,backgroundColor:"#28a745",borderColor:"#28a745",extendedProps:{reportType:"daily",author:"박민수",submitTarget:"김과장",actualContent:`고객사 3곳 방문 완료
- A사: 제품 데모 진행
- B사: 계약 조건 협의
- C사: 추가 요구사항 청취`,planContent:`내일 계획:
- A사 후속 미팅 준비
- B사 계약서 검토
- 신규 고객사 발굴`,etcContent:"전반적으로 긍정적인 반응",attachments:[],feedbacks:[],summary:"고객사 방문 및 제품 소개",createTime:"14:20"}}]),V=x(()=>S.value.filter(e=>{const t=b.value&&e.extendedProps.reportType==="daily",u=k.value&&e.extendedProps.reportType==="weekly";return t||u})),i=x(()=>{if(!d.value)return[];const e=U(d.value);return V.value.filter(t=>U(t.start)===e)}),P=x(()=>i.value[s.value]||null),R=x(()=>[...i.value].sort((e,t)=>{const u=e.extendedProps.createTime,C=t.extendedProps.createTime;return u.localeCompare(C)})),B=x(()=>{if(!d.value)return"보고서 뷰어";const e=O(d.value),t=i.value.length;return`${e} 보고서 (${t}건)`}),M={dayMaxEvents:!1,moreLinkClick:"popover",eventDisplay:"block"};function F(e){d.value=e.date,s.value=0,v.value="single",g.value=!0}function L(e){d.value=e.event.start;const t=i.value.findIndex(u=>u.id===e.event.id);s.value=t>=0?t:0,v.value="single",g.value=!0}function $(){s.value<i.value.length-1&&s.value++}function z(){s.value>0&&s.value--}function j(e){s.value=e}function N(e){s.value=e,v.value="single"}function E(e){if(g.value)switch(e.key){case"ArrowLeft":e.preventDefault(),z();break;case"ArrowRight":e.preventDefault(),$();break;case"Escape":e.preventDefault(),g.value=!1;break}}Q(()=>{window.addEventListener("keydown",E)}),X(()=>{window.removeEventListener("keydown",E)}),Z(v,e=>{e==="split"&&i.value.length>=2&&(splitViewReportA.value=0,splitViewReportB.value=1)});function O(e){return e?new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(e)):""}function U(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}return(e,t)=>{const u=q,C=W,G=Y;return o(),n(h,null,[l("div",de,[l("div",ue,[l("div",ce,[f(u,{size:"large",modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=a=>b.value=a),label:"일간보고",value:"d"},null,8,["modelValue"]),f(u,{size:"large",modelValue:k.value,"onUpdate:modelValue":t[1]||(t[1]=a=>k.value=a),label:"주간보고",value:"w"},null,8,["modelValue"])]),l("div",pe,[f(C,{modelValue:D.value,"onUpdate:modelValue":t[2]||(t[2]=a=>D.value=a),class:"w-150",options:[{value:"w",label:"작성일 기준"},{value:"r",label:"보고일 기준"}]},null,8,["modelValue"])])]),f(J,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a),events:V.value,onDateClick:F,onEventClick:L,useViewportHeight:!0,viewportHeight:80,customOptions:M},null,8,["modelValue","events"])]),f(G,{modelValue:g.value,"onUpdate:modelValue":t[4]||(t[4]=a=>g.value=a),title:B.value,size:"xlarge",showFooter:!1,class:"report-viewer-modal"},{default:ee(()=>[l("div",ve,[l("div",me,[(o(),n(h,null,w(I,a=>l("button",{key:a.value,onClick:c=>v.value=a.value,class:_(["px-4 py-2 border-b-2 transition-colors",v.value===a.value?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-800"])},[T(r(a.label)+" ",1),a.value==="single"&&i.value.length>1?(o(),n("span",ge,r(s.value+1)+"/"+r(i.value.length),1)):y("",!0)],10,be)),64))]),v.value==="single"?(o(),n("div",fe,[i.value.length>1?(o(),n("div",ye,[l("button",{onClick:z,disabled:s.value===0,class:"flex items-center gap-2 px-4 py-2 bg-white border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors"},t[5]||(t[5]=[l("i",{class:"icon-chevron-left"},null,-1),T(" 이전 ")]),8,xe),l("div",he,[l("div",_e,[(o(!0),n(h,null,w(i.value,(a,c)=>(o(),n("button",{key:a.id,onClick:H=>j(c),class:_(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all transform hover:scale-110",c===s.value?"bg-blue-600 text-white shadow-lg":"bg-white border border-gray-300 text-gray-600 hover:border-blue-400"]),title:`${a.extendedProps.author} - ${a.extendedProps.createTime}`},r(c+1),11,we))),128))]),l("div",ke,[(o(!0),n(h,null,w(i.value,(a,c)=>(o(),n("span",{key:a.id,class:_([{"font-semibold text-blue-600":c===s.value},"mx-1"])},r(a.extendedProps.author)+r(c<i.value.length-1?",":""),3))),128))])]),l("button",{onClick:$,disabled:s.value===i.value.length-1,class:"flex items-center gap-2 px-4 py-2 bg-white border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors"},t[6]||(t[6]=[T(" 다음 "),l("i",{class:"icon-chevron-right"},null,-1)]),8,Ce)])):y("",!0),P.value?(o(),n("div",Te,[f(ie,{report:P.value},null,8,["report"])])):y("",!0)])):v.value==="timeline"?(o(),n("div",De,[l("div",Ve,[(o(!0),n(h,null,w(R.value,(a,c)=>(o(),n("div",{key:a.id,class:"timeline-item flex gap-4 mb-6"},[l("div",Pe,[t[7]||(t[7]=l("div",{class:"w-4 h-4 bg-blue-500 rounded-full"},null,-1)),c<R.value.length-1?(o(),n("div",Re)):y("",!0)]),l("div",$e,[l("div",ze,[l("span",Ee,r(a.extendedProps.createTime),1),l("span",Ue,r(a.extendedProps.author),1),l("span",{class:_(["px-2 py-1 rounded text-xs",a.extendedProps.reportType==="daily"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"])},r(a.extendedProps.reportType==="daily"?"일간":"주간"),3)]),l("div",{class:"report-preview p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",onClick:H=>N(i.value.findIndex(K=>K.id===a.id))},[l("h4",Ie,r(a.title),1),l("p",Se,r(a.extendedProps.actualContent),1)],8,Ae)])]))),128))])])):y("",!0)])]),_:1},8,["modelValue","title"])],64)}}},Ge=A(Be,[["__scopeId","data-v-d9ec5e96"]]);export{Ge as default};
