import{_ as ae}from"./CySA1MkK.js";import{_ as ne}from"./CTn2o0kt.js";import{_ as de}from"./DB2tXjnC.js";import{_ as se}from"./BJBG-x1P.js";import{_ as ue}from"./DUp5yQhg.js";import{_ as re}from"./O_9uHP5B.js";import{a as ie,U as pe}from"./Db6-AjT0.js";import{_ as me}from"./Ct08Sx7f.js";import{U as ve}from"./DJoeG4vZ.js";import{r as y,s as ce,c as d,a as l,b as n,w as s,F as k,o as t,d as O,g as D,x as h,k as _,m as U,t as g,D as N}from"./Citp9bSf.js";import"./DEujd9jV.js";const ge={class:"page-header"},ye={class:"header-left"},Ve={class:"select-group"},fe={class:"select-item"},ke={class:"select-item flex items-center"},_e={class:"button-group ml-4 flex items-center gap-4"},we={class:"header-right"},he={class:"button-group"},Ue={class:"flex-container"},be={class:"w-70p"},xe={key:0,width:"40px"},Ce=["width"],De={key:1,width:"60px"},$e={key:0},Be={key:1},Oe=["onClick","draggable","onDragstart","onDragover","onDrop","onDragend"],Me={key:0},ze={key:0,class:"row-checkbox"},Ie={key:1,class:"drag-handle"},Se={key:1},Ne=["onClick"],Fe=["rowspan"],Ee={key:0,class:"row-checkbox"},Te={key:1,class:"drag-handle"},Ae=["rowspan"],Le=["rowspan"],Ge=["rowspan"],Je={key:1},Ye={key:0,class:"flex items-center gap-2"},je={key:1},qe={key:1},He={key:0},nl={__name:"index",setup(Ke){const T=y("2025"),P=y([{value:"2025",label:"2025년"},{value:"2024",label:"2024년"},{value:"2023",label:"2023년"}]),M=y(!0),z=y(!0),v=y([{key:"name",title:"역량항목",align:"",width:"100px",icon:"edit"},{key:"category",title:"구분",align:"center",width:"100px"},{key:"standard",title:"행동기준/행동수준/역량정의",align:"",width:""},{key:"level",title:"수준/점수",align:"center",width:"100px"},{key:"weight",title:"가중",align:"center",width:"80px"}]),Q=ce(()=>{const u={};return v.value.forEach(e=>{u[e.key]=e.key==="level"||e.key==="weight"?0:""}),u}),b=y([{id:1,name:"리더십",category:"핵심역량",standard:"조직의 목표를 달성하기 위해 구성원들을 이끄는 능력",level:5,weight:20},{id:2,name:"문제해결",category:"직무역량",standard:"복잡한 문제를 분석하고 효과적인 해결책을 도출하는 능력",level:4,weight:15},{id:3,name:"의사소통",category:"기본역량",standard:"정보와 아이디어를 명확하게 전달하고 수용하는 능력",level:3,weight:10},{id:4,name:"전략적 사고",category:"BOS",behaviors:[{description:"사업에 대한 통찰력에 기초하여 2년 이상의 추진 기간이 요구되는 장기적 사업 계획을 기안하며, 장기적 미래의 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:5,score:100,weight:"-"},{description:"1~2년의 추진 기간이 요구되는 중기적 사업 계획을 수립하며, 중기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:4,score:80,weight:"-"},{description:"3~6개월 이상의 추진 기간이 요구되는 단기적 사업 계획을 수립하며, 단기적 변화 상황을 예측하고, 현실적인 대안을 제시한다.",level:3,score:60,weight:"-"}]},{id:5,name:"성과지향",category:"일반",standard:"목표를 달성하기 위해 끊임없이 노력하는 태도",level:"-",weight:"-"}]),W=u=>{console.log("저장된 데이터:",u)},$=y(!1),I=y(!1),S=y(null),X=y([{value:"일반",label:"일반"},{value:"BOS",label:"BOS"}]),A=()=>({name:"",category:"",standard:"",level:3,weight:10,behaviors:[]}),o=y(A()),Z=u=>{o.value.behaviors=[],u==="일반"?(o.value.level="-",o.value.weight="-"):u==="BOS"?o.value.behaviors=[R()]:(o.value.level=3,o.value.weight=10)},R=()=>({description:"",level:1,score:20,weight:"-"}),L=()=>{$.value=!1,I.value=!1,S.value=null,o.value=A()},G=u=>{I.value=!0,S.value=u.id,o.value=JSON.parse(JSON.stringify({name:u.name,category:u.category,standard:u.standard,level:u.level,weight:u.weight,behaviors:u.behaviors||[]})),$.value=!0},ee=()=>{if(!o.value.name||!o.value.category){alert("항목명과 구분은 필수 입력 항목입니다.");return}if(o.value.category==="BOS"){if(o.value.behaviors.length===0){alert("BOS 구분의 경우 최소 하나 이상의 행동수준을 추가해야 합니다.");return}for(const u of o.value.behaviors)if(!u.description){alert("모든 행동수준 설명을 입력해주세요.");return}}else if(o.value.category==="일반"){if(!o.value.standard){alert("역량정의를 입력해주세요.");return}o.value.level="-",o.value.weight="-"}else if(!o.value.standard){alert("역량정의를 입력해주세요.");return}if(I.value){const u=b.value.findIndex(e=>e.id===S.value);u!==-1&&(b.value[u]={...b.value[u],...o.value,id:S.value})}else b.value.push({id:Date.now(),...o.value});L()};return(u,e)=>{const F=ae,V=ne,le=de,B=se,J=ue,x=re,C=pe,E=me,te=ie,oe=ve;return t(),d(k,null,[l("div",ge,[l("div",ye,[l("div",Ve,[l("div",fe,[e[17]||(e[17]=l("span",{class:"select-label"},"기준년도",-1)),n(F,{modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=a=>T.value=a),options:P.value,size:"medium",placeholder:"선택",width:"150px"},null,8,["modelValue","options"])]),l("div",ke,[e[21]||(e[21]=l("span",{class:"select-label"},"역량평가항목그룹",-1)),n(F,{modelValue:u.selectedGroup,"onUpdate:modelValue":e[1]||(e[1]=a=>u.selectedGroup=a),options:u.groupOptions,placeholder:"선택",width:"150px"},null,8,["modelValue","options"]),l("div",_e,[n(V,{variant:"primary","icon-only":""},{default:s(()=>e[18]||(e[18]=[l("i",{class:"icon-md icon-plus icon-white"},null,-1)])),_:1}),n(V,{variant:"secondary","icon-only":""},{default:s(()=>e[19]||(e[19]=[l("i",{class:"icon-md icon-pencil"},null,-1)])),_:1}),n(V,{variant:"secondary-line","icon-only":""},{default:s(()=>e[20]||(e[20]=[l("i",{class:"icon-md icon-delete"},null,-1)])),_:1})])])])]),l("div",we,[l("div",he,[n(le,{title:"역량항목그룹 가져오기"},{trigger:s(()=>[n(V,{type:"button",variant:"secondary-line",size:"medium"},{default:s(()=>e[22]||(e[22]=[O(" 역량항목그룹 가져오기 "),l("i",{class:"icon-md icon-get"},null,-1)])),_:1})]),default:s(()=>[e[23]||(e[23]=l("p",null,"현 기존년도의 등급배분표 그룹 중 하나를 선택하여 복사합니다.",-1))]),_:1}),n(V,{type:"button",variant:"primary-line",size:"medium",class:"ml-2"},{default:s(()=>e[24]||(e[24]=[O(" 전년도 데이터 복사 "),l("i",{class:"icon-md icon-copy icon-primary"},null,-1)])),_:1})])])]),l("div",Ue,[e[30]||(e[30]=l("div",{class:"w-30p"},"2",-1)),l("div",be,[n(J,{title:"테이블 제목",modelValue:b.value,"onUpdate:modelValue":e[6]||(e[6]=a=>b.value=a),hover:"",editable:"",bordered:"",canAddRow:!1,"default-row-data":Q.value,onSave:W},{"action-button":s(()=>[n(V,{type:"button",variant:"primary",onClick:e[2]||(e[2]=a=>$.value=!0)},{default:s(()=>e[25]||(e[25]=[O(" 항목 추가 ")])),_:1})]),colgroup:s(()=>[M.value?(t(),d("col",xe)):_("",!0),(t(!0),d(k,null,D(v.value,a=>(t(),d("col",{key:a.key,width:a.width},null,8,Ce))),128)),z.value?(t(),d("col",De)):_("",!0)]),header:s(({selectAll:a,isAllSelected:f})=>[l("tr",null,[M.value?(t(),d("th",$e,[n(B,{modelValue:f,"onUpdate:modelValue":a,size:"large",onClick:e[3]||(e[3]=U(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])])):_("",!0),(t(!0),d(k,null,D(v.value,c=>(t(),d("th",{key:c.key,class:h(c.align?`text-${c.align}`:"")},g(c.title),3))),128)),z.value?(t(),d("th",Be,"수정")):_("",!0)])]),body:s(({rows:a,toggleRowSelection:f,isRowSelected:c,handleDragStart:Y,handleDragOver:j,handleDrop:q,handleDragEnd:H,sortable:w})=>[(t(!0),d(k,null,D(a,(r,p)=>(t(),d(k,{key:r.id},[r.category!=="BOS"?(t(),d("tr",{key:0,onClick:i=>!w&&f(r),class:h({selected:c(r),"sortable-row":w}),draggable:w,onDragstart:i=>Y(i,p),onDragover:i=>j(i),onDrop:i=>q(i,p),onDragend:H},[M.value?(t(),d("td",Me,[w?(t(),d("div",Ie,e[26]||(e[26]=[l("i",{class:"icon-md icon-drag"},null,-1)]))):(t(),d("div",ze,[n(B,{modelValue:c(r),"onUpdate:modelValue":i=>f(r),size:"large",onClick:e[4]||(e[4]=U(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))])):_("",!0),(t(!0),d(k,null,D(v.value,(i,m)=>(t(),d("td",{key:m,class:h(i.align?`text-${i.align}`:"")},g(r[i.key]),3))),128)),z.value?(t(),d("td",Se,[n(V,{variant:"ghost","icon-only":"",onClick:U(i=>G(r),["stop"])},{default:s(()=>e[27]||(e[27]=[l("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])])):_("",!0)],42,Oe)):(t(!0),d(k,{key:1},D(r.behaviors,(i,m)=>(t(),d("tr",{key:`${r.id}-${m}`,onClick:K=>!w&&f(r),class:h({selected:c(r),"sortable-row":w})},[m===0?(t(),d(k,{key:0},[M.value?(t(),d("td",{key:0,rowspan:r.behaviors.length},[w?(t(),d("div",Te,e[28]||(e[28]=[l("i",{class:"icon-md icon-drag"},null,-1)]))):(t(),d("div",Ee,[n(B,{modelValue:c(r),"onUpdate:modelValue":K=>f(r),size:"large",onClick:e[5]||(e[5]=U(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]))],8,Fe)):_("",!0),l("td",{rowspan:r.behaviors.length},g(r.name),9,Ae),l("td",{rowspan:r.behaviors.length,class:h(v.value[1].align?`text-${v.value[1].align}`:"")},g(r.category),11,Le)],64)):_("",!0),l("td",{class:h(v.value[2].align?`text-${v.value[2].align}`:"")},g(i.description),3),l("td",{class:h(v.value[3].align?`text-${v.value[3].align}`:"")},g(i.level)+"/"+g(i.score),3),l("td",{class:h(v.value[4].align?`text-${v.value[4].align}`:"")},g(i.weight),3),z.value&&m===0?(t(),d("td",{key:1,rowspan:r.behaviors.length},[n(V,{variant:"ghost","icon-only":"",onClick:U(K=>G(r),["stop"])},{default:s(()=>e[29]||(e[29]=[l("i",{class:"icon-md icon-pencil icon-gray"},null,-1)])),_:2},1032,["onClick"])],8,Ge)):_("",!0)],10,Ne))),128))],64))),128))]),_:1},8,["modelValue","default-row-data"])])]),n(oe,{modelValue:$.value,"onUpdate:modelValue":e[16]||(e[16]=a=>$.value=a),size:"mlarge",title:I.value?"역량사전 항목 수정":"역량사전 항목 추가",showFooter:!0},{footerActions:s(()=>[n(V,{onClick:ee,variant:"primary"},{default:s(()=>e[37]||(e[37]=[O("저장")])),_:1}),n(V,{onClick:L,variant:"secondary-line"},{default:s(()=>e[38]||(e[38]=[O("닫기")])),_:1})]),default:s(()=>[n(te,null,{default:s(()=>[n(C,{label:"역량항목"},{default:s(()=>[n(x,{modelValue:o.value.name,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.name=a),placeholder:"역량항목을 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"구분"},{default:s(()=>[n(F,{modelValue:o.value.category,"onUpdate:modelValue":[e[8]||(e[8]=a=>o.value.category=a),Z],options:X.value,placeholder:"구분을 선택해주세요."},null,8,["modelValue","options"])]),_:1}),o.value.category==="일반"?(t(),N(C,{key:0,label:"역량정의"},{default:s(()=>[n(E,{modelValue:o.value.standard,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.standard=a),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1})):o.value.category!=="BOS"?(t(),d(k,{key:1},[n(C,{label:"역량정의"},{default:s(()=>[n(E,{modelValue:o.value.standard,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.standard=a),placeholder:"역량정의를 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"수준/점수"},{default:s(()=>[n(x,{modelValue:o.value.level,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.level=a),modelModifiers:{number:!0},type:"number",placeholder:"수준/점수를 입력해주세요."},null,8,["modelValue"])]),_:1}),n(C,{label:"가중치"},{default:s(()=>[n(x,{modelValue:o.value.weight,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.weight=a),modelModifiers:{number:!0},type:"number",placeholder:"가중치를 입력해주세요."},null,8,["modelValue"])]),_:1})],64)):(t(),N(J,{key:2,modelValue:o.value.behaviors,"onUpdate:modelValue":e[15]||(e[15]=a=>o.value.behaviors=a),editable:"",sortable:"",bordered:""},{colgroup:s(()=>e[31]||(e[31]=[l("col",{style:{width:"20px"}},null,-1),l("col",{style:{width:"auto"}},null,-1),l("col",{style:{width:"15%"}},null,-1),l("col",{style:{width:"10%"}},null,-1)])),header:s(({selectAll:a,isAllSelected:f,sortable:c})=>[l("tr",null,[l("th",null,[n(B,{size:"large",onClick:e[13]||(e[13]=U(()=>{},["stop"])),modelValue:f,"onUpdate:modelValue":a},null,8,["modelValue","onUpdate:modelValue"])]),e[32]||(e[32]=l("th",null,"행동수준 설명",-1)),e[33]||(e[33]=l("th",null,"수준/점수",-1)),e[34]||(e[34]=l("th",null,"가중치",-1))])]),body:s(({rows:a,toggleRowSelection:f,isRowSelected:c,handleDragStart:Y,handleDragOver:j,handleDrop:q,handleDragEnd:H,sortable:w,editable:r})=>[(t(!0),d(k,null,D(a,(p,i)=>(t(),d("tr",{key:i},[l("td",null,[n(B,{modelValue:c(p),"onUpdate:modelValue":m=>f(p),size:"large",onClick:e[14]||(e[14]=U(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]),l("td",null,[r?(t(),N(E,{key:0,modelValue:p.description,"onUpdate:modelValue":m=>p.description=m,placeholder:"행동수준 설명을 입력해주세요.",rows:"3"},null,8,["modelValue","onUpdate:modelValue"])):(t(),d("div",Je,g(p.description),1))]),l("td",null,[r?(t(),d("div",Ye,[n(x,{modelValue:p.level,"onUpdate:modelValue":m=>p.level=m,modelModifiers:{number:!0},type:"number",placeholder:"수준",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"]),e[35]||(e[35]=l("span",null,"/",-1)),n(x,{modelValue:p.score,"onUpdate:modelValue":m=>p.score=m,modelModifiers:{number:!0},type:"number",placeholder:"점수",class:"w-1/2"},null,8,["modelValue","onUpdate:modelValue"])])):(t(),d("div",je,g(p.level)+"/"+g(p.score),1))]),l("td",null,[r?(t(),N(x,{key:0,modelValue:p.weight,"onUpdate:modelValue":m=>p.weight=m,modelModifiers:{number:!0},type:"number",placeholder:"가중치"},null,8,["modelValue","onUpdate:modelValue"])):(t(),d("div",qe,g(p.weight),1))])]))),128)),a.length===0?(t(),d("tr",He,e[36]||(e[36]=[l("td",{colspan:"4",class:"text-center py-4"}," 행동수준이 없습니다. '행 추가' 버튼을 클릭하여 추가해주세요. ",-1)]))):_("",!0)]),_:1},8,["modelValue"]))]),_:1})]),_:1},8,["modelValue","title"])],64)}}};export{nl as default};
